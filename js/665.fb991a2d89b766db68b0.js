"use strict";(self.webpackChunkinsights_chrome=self.webpackChunkinsights_chrome||[]).push([[665],{40386:(e,t,n)=>{n.d(t,{yb:()=>d,wr:()=>h});var r=n(96985),o=n.n(r),a=n(45697),i=n.n(a),c=n(9390),s=n.n(c),u={url:"".concat(document.location.origin,"/api/featureflags/v0"),clientKey:"proxy-123",appName:"web",headerName:"X-Unleash-Auth",refreshInterval:6e4,metrcisInterval:12e4},l="chrome:feature-flags:error";localStorage.setItem(l,!1);var d=new c.UnleashClient(u),h=function(){return"true"===localStorage.getItem(l)};d.on("error",(function(){localStorage.setItem(l,!0)}));var f=function(e){var t=e.children;return o().createElement(s(),{unleashClient:d},t)};f.propTypes={children:i().node.isRequired}},98670:(e,t,n)=>{n.d(t,{ZP:()=>j});var r=n(45987),o=n(4942),a=n(93324),i=n(15861),c=n(87757),s=n.n(c),u=n(77460),l=n(27361),d=n.n(l),h=n(41609),f=n.n(h),p=(n(31955),n(40386),["url","method","accessor","matcher"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,b,k,y,w,O,_={isEmpty:f(),isNotEmpty:function(e){return!f()(e)}},T=function(e,t){var n=_[t];return"function"==typeof n?n(e):e};O=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_org_admin);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),w=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_active);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),y=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_internal);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),k=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return n=e.sent,r=(n||{}).entitlements,e.abrupt("return",n.entitlements&&t?Boolean(r[t]&&r[t].is_entitled):Object.entries(r||{}).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1].is_entitled;return m(m({},e),{},(0,o.Z)({},r,i))}),{}));case 5:case"end":return e.stop()}}),e)}))),b=(0,i.Z)(s().mark((function e(){var t,n,r,o,a,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:for(t=e.sent,n=(t||{}).identity.user,r=i.length,o=new Array(r),a=0;a<r;a++)o[a]=i[a];return e.abrupt("return",null==o?void 0:o.some((function(e){var t;return null==n||null===(t=n.email)||void 0===t?void 0:t.includes(e)})));case 6:case"end":return e.stop()}}),e)}))),v=(0,i.Z)(s().mark((function e(t){var n,o,a,i,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.method,a=void 0===o?"GET":o,i=t.accessor,c=t.matcher,l=(0,r.Z)(t,p),e.next=3,insights.chrome.auth.getUser();case 3:if(!e.sent.identity.account_number){e.next=8;break}return e.abrupt("return",(0,u.ZP)(m({url:n,method:a},l)).then((function(e){return T(i?d()(e||{},i):e,c)})).catch((function(){return console.log("Unable to retrieve visibility result",{visibilityMethod:"apiRequest",method:a,url:n}),!1})));case 8:return console.log("Unable to call API, no account number"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));const j=Object.freeze({noAuthParam:"noauth",offlineToken:"2402500adeacc30eb5c5a8a5e2e0ec1f"})},53750:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(15671),o=n(43144),a=n(21472),i=n.n(a);const c=function(){function e(){(0,r.Z)(this,e),this._cookie,this._keycloak}return(0,o.Z)(e,[{key:"setCookie",value:function(e){this.cookie=e}},{key:"setKeycloak",value:function(e,t,n,r){this._keycloak=i()(e),this._keycloak.onTokenExpired=t,this._keycloak.onAuthSuccess=n,this._keycloak.onAuthRefreshSuccess=r}},{key:"initializeKeycloak",value:function(e){this._keycloak.init(e)}},{key:"setToken",value:function(e){this._keycloak.authenticated=!0,this._keycloak.token=e}},{key:"initialize",value:function(e){return this._keycloak.init(e)}},{key:"setTokenParsed",value:function(e){this._keycloak.tokenParsed=e}},{key:"getTokenParsed",value:function(){return this._keycloak.tokenParsed}},{key:"getToken",value:function(){return this._keycloak.token}},{key:"getRefershToken",value:function(){this._keycloak.refreshToken}},{key:"login",value:function(e){return this._keycloak.login(e)}},{key:"clearToken",value:function(){this._keycloak.clearToken()}},{key:"getCookie",value:function(){return this.cookie}},{key:"logout",value:function(e){return this._keycloak.logout(e)}},{key:"getAuthenticated",value:function(){return this._keycloak.authenticated}},{key:"updateToken",value:function(){return this._keycloak.updateToken()}}]),e}()},12008:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(9669),o=n.n(r),a=n(49268),i=n(35755),c=n(6993),s="/api/entitlements/v1";const u=function(e){var t=(0,c.h4)(s,"".concat(e,"-entitlements")),n=o().create({adapter:t.adapter});return n.interceptors.response.use((function(e){if(e&&e.request&&!0!==e.request.fromCache){var t=(0,i.lastActive)("/api/entitlements/v1/services","fallback"),n=Object.keys(localStorage).filter((function(e){return e.endsWith("/api/entitlements/v1/services")&&e!==t}));(0,i.deleteLocalStorageItems)(n)}return e.data||e})),new a.ServicesApi(void 0,s,n)}},60200:(e,t,n)=>{n.d(t,{W:()=>p,x:()=>g});var r=n(15861),o=n(87757),a=n.n(o),i=n(98670),c=n(11577),s=n(35379),u=n(9669),l=n.n(u),d=n(54998),h=n.n(d),f={};function p(){if(-1!==v().location.href.indexOf(i.ZP.offlineToken)){var e=v().location,t=e.hash,n=e.search,r=e.origin,o=e.pathname,a=new URLSearchParams(n).get(i.ZP.noAuthParam);f.postbackUrl="".concat(r).concat(o,"?").concat(i.ZP.noAuthParam,"=").concat(a).concat(t),v().location.hash="";var c=h()(v().location.href);c.removeQuery(i.ZP.noAuthParam),v().history.pushState("offlinePostback","",c.toString())}}function g(e,t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function e(t,n){var r,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b(),!f.response){e.next=3;break}return e.abrupt("return",Promise.resolve(f.response));case 3:if(r){e.next=5;break}return e.abrupt("return",Promise.reject("not available"));case 5:return e.next=7,(0,s.Z)(c.DEFAULT_ROUTES);case 7:return o=e.sent,i="".concat(o,"/realms/").concat(t,"/protocol/openid-connect/token"),u=y(r),e.abrupt("return",l().post(i,w(k(r,n,u.code)),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return f.response=e,e})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return window}function b(){var e=f.postbackUrl;return delete f.postbackUrl,e}function k(e,t,n){return{code:n,grant_type:"authorization_code",client_id:t,redirect_uri:encodeURIComponent(e.split("#")[0])}}function y(e){return e.split("#")[1].split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{})}function w(e){return Object.entries(e).map((function(e){return"".concat(e[0],"=").concat(e[1])})).join("&")}},35379:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(93324),o=n(15861),a=n(87757),i=n.n(a),c=(0,n(82389).Z)("insights/url.js"),s=n.e(172).then(n.bind(n,30701)).then((function(e){return e.default}));const u=function(){var e=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:if(!e.sent){e.next=5;break}return c("Using dynamic SSO_URL found! ",s),e.abrupt("return",s);case 5:if(!(n=Object.entries(t).find((function(e){return(0,r.Z)(e,2)[1].url.includes(location.hostname)})))){e.next=12;break}return c("SSO Url: ".concat(null==n?void 0:n[1].sso)),c("Current env: ".concat(null==n?void 0:n[0])),e.abrupt("return",null==n?void 0:n[1].sso);case 12:return c("SSO url: not found, defaulting to qa"),c("Current env: not found, defaultint to qa"),e.abrupt("return","https://sso.qa.redhat.com/auth");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},85146:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(15861),o=n(4942),a=n(87757),i=n.n(a),c=n(35755),s=n(12008);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,n(82389).Z)("insights/user.js"),h={"cost-management":"cost_management",insights:"insights",openshift:"openshift",migrations:"migrations",ansible:"ansible",subscriptions:"subscriptions",settings:"settings","user-preferences":"user_preferences",internal:"internal"};function f(){return window}function p(e){return e?{identity:l(l({account_number:e.account_number,type:e.type},e.idp&&{idp:e.idp}),{},{user:{username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,is_active:e.is_active,is_org_admin:e.is_org_admin,is_internal:e.is_internal,locale:e.locale},internal:{org_id:e.org_id,account_id:e.account_id}})}:null}function g(e,t){if("insights"===t||"openshift"===t||"cost-management"===t||"migrations"===t||"ansible"===t||"subscriptions"===t||"settings"===t||"user-preferences"===t||"internal"===t){var n,r=h[t],o=function(e,t){return{ansible:"".concat(document.baseURI).concat((0,c.isBeta)()?"beta/":"","ansible/ansible-dashboard/trial")}[e]||"".concat(document.baseURI,"?not_entitled=").concat(t)}(t,r);if(!0===e&&f().location.replace(o),t&&""!==t)null!=e&&null!==(n=e[r])&&void 0!==n&&n.is_entitled?d("Entitled to: ".concat(r)):(d("Not entitled to: ".concat(r)),f().location.replace(o))}}const m=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p(t),(r=f().location.pathname.split("/")).shift(),"beta"===r[0]&&r.shift(),"subscriptions"!==(null==r?void 0:r[1])&&"cost-management"!==(null==r?void 0:r[1])||r.shift(),!n){e.next=28;break}if(d("Account Number: ".concat(n.identity.account_number)),e.prev=7,!n.identity.account_number){e.next=14;break}return e.next=11,(0,s.Z)(t.jti).servicesGet();case 11:o=e.sent,e.next=15;break;case 14:console.log("Cannot call entitlements API, no account number");case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:if(!(0,c.pageAllowsUnentitled)()){e.next=21;break}return e.abrupt("return",l(l({},n),{},{entitlements:o||{}}));case 21:if((0,c.isValidAccountNumber)(n.identity.account_number)){e.next=24;break}return g(!0,r[0]),e.abrupt("return");case 24:return g(o,r[0]),e.abrupt("return",l(l({},n),{},{entitlements:o}));case 28:d("User not ready");case 29:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},23911:(e,t,n)=>{n.r(t),n.d(t,{GLOBAL_FILTER_KEY:()=>k,decodeToken:()=>T,doOffline:()=>j,init:()=>P,login:()=>U,logoutAllTabs:()=>E,getUserInfo:()=>I,isAuthenticated:()=>R,expiredToken:()=>L,getEncodedToken:()=>W,getUrl:()=>F});var r=n(4942),o=n(21472),a=n.n(o),i=n(87728),c=n(31955),s=n(35755),u=n(39666),l=n(82389),d=n(35379),h=n(85146),f=n(54998),p=n.n(f),g=n(11577),m=n(53750);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="chrome:global-filter",y=(0,l.Z)("jwt.js"),w="cs_jwt",O=new m.Z,_=new i.g0("auth");function T(e){switch((e=(e=(e=e.split(".")[1]).replace("/-/g","+")).replace("/_/g","/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=(e=(e+"===").slice(0,e.length+e.length%4)).replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(escape(atob(e))),e=JSON.parse(e)}_.onmessage=function(e){if(e&&e.data&&e.data.type)switch(y("BroadcastChannel, Received event : ".concat(e.data.type)),e.data.type){case"logout":return Z();case"login":return U();case"refresh":return C()}};var j=function(e,t){var n=p()(window.location.href);n.removeSearch(e),n.addSearch(e,t),Promise.resolve((0,d.Z)(g.DEFAULT_ROUTES)).then((function(e){var t=b(b({},g.options),{},{promiseType:"native",redirectUri:n.toString(),url:e}),r=a()(t);r.init(t).then((function(){r.login({scope:"offline_access"})}))}))},P=function(e){y("Initializing");var t=e.cookieName?e.cookieName:w;return O.setCookie({cookieName:t}),Promise.resolve((0,d.Z)(e.routes?e.routes:g.DEFAULT_ROUTES)).then((function(t){e.url=t,e.clientId="cloud-services",e.realm="redhat-external",e.promiseType="native",e.onLoad="check-sso",e.checkLoginIframe=!1;var n="beta"===window.location.pathname.split("/")[1]?"/beta":"";if(e.silentCheckSsoRedirectUri="https://".concat(window.location.host).concat(n,"/apps/chrome/silent-check-sso.html"),window.localStorage&&"true"===window.localStorage.getItem("chrome:jwt:shortSession")&&(e.realm="short-session"),O.setKeycloak(e,C,D,q),e.token){if(S(e.token))return O.initializeKeycloak(e),O.setToken(e.token),Promise.resolve();delete e.token}return O.initialize(e).then(x).catch(A)}))};function S(e){y("Checking validity of existing JWT");try{if(!e)return!1;var t=T(e);if(!t.exp)return!1;var n=Date.now().toString().substr(0,10),r=t.exp-n;return y("Token expires in ".concat(r)),r>90?(O.setTokenParsed(t),!0):(y(r>0?"token is expiring in < 90 seconds":"token is expired"),!1)}catch(e){return y(e),!1}}function x(){var e;y("JWT Initialized"),N(O.getToken()),e=O.getRefershToken(),y("Setting the refresh token"),c.Z.set("cs_jwt_refresh",e,{secure:!0})}function A(){y("JWT init error"),Z()}function U(){return y("Logging in"),c.Z.set("cs_loggedOut","false"),O.login({redirectUri:location.href})}function Z(e){y("Logging out"),O.clearToken(),c.Z.remove(O.getCookie().cookieName),c.Z.remove("cs_demo");var t="beta"===window.location.pathname.split("/")[1]?"/beta":"",n=Object.keys(localStorage).filter((function(e){return e.endsWith("/api/entitlements/v1/services")||e.endsWith("/chrome")||e.endsWith("/chrome-store")||e.startsWith("kc-callback")||e.startsWith(k)}));if((0,s.deleteLocalStorageItems)(n),e){var r=new Date((new Date).getTime()+8e3);c.Z.set("cs_loggedOut","true",{expires:r}),O.logout({redirectUri:"https://".concat(window.location.host).concat(t)})}}var E=function(e){_.postMessage({type:"logout"}),Z(e)};function D(){_.postMessage({type:"login"})}var I=function(){y("Getting User Information");var e=c.Z.get(w);return e&&S(e)&&S(O.getToken())?(0,h.Z)(O.getTokenParsed()):C().then((function(){(0,h.Z)(O.getTokenParsed()),y("Successfully updated token")})).catch((function(){if((0,s.pageRequiresAuthentication)())return y("Trying to log in user to refresh token"),U()}))},R=function(){return y("User Ready: ".concat(O.getAuthenticated())),O.getAuthenticated()},L=function(){y("Token has expired, trying to log out"),Z()};function q(){N(O.getToken()),_.postMessage({type:"refresh"})}function C(){return O.updateToken().then((function(e){N(O.getToken()),y("Attempting to update token"),y(e?"Token was successfully refreshed":"Token is still valid, not updating")})).catch((function(e){y(e),u.Tb(e),y("Token updated failed, trying to reauth"),U()}))}function N(e){var t,n,r;y("Setting the cs_jwt cookie"),e&&e.length>10&&(t="".concat(O.getCookie().cookieName,"=").concat(e,";")+"path=/;secure=true;"+"expires=".concat((n=T(e).exp,(r=new Date(0)).setUTCSeconds(n),r.toGMTString())),document.cookie=t)}var W=function(){return y("Trying to get the encoded token"),S(O.getToken())||(y("Failed to get encoded token, trying to update"),C()),O.getToken()},F=function(){return(0,d.Z)(g.DEFAULT_ROUTES)}},82389:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return function(t){window.console&&window.localStorage&&window.localStorage.getItem("chrome:jwt:debug")&&window.console.log("[JWT][".concat(e,"] ").concat(t))}}},41665:(e,t,n)=>{n.r(t),n.d(t,{initChromeAuth:()=>h,default:()=>f});var r=n(4942),o=n(60200),a=n(23911),i=n(31955),c=n(11577);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="[JWT][jwt.js] Auth time";function d(){a.isAuthenticated()||(i.Z.remove(c.options.cookieName),a.login()),console.timeEnd(l)}var h=function(){console.time(l);var e=u({},c.options);(0,o.W)();var t=i.Z.get(e.cookieName),n=i.Z.get("cs_jwt_refresh");return t&&t.length>10&&n&&n.length>10&&(e.refreshToken=n,e.token=t),{initPromise:a.init(e).then(d)}};const f=function(){var e=u({},c.options);return u({getOfflineToken:function(){return(0,o.x)(e.realm,e.clientId)}},a)}},6993:(e,t,n)=>{n.d(t,{h4:()=>s});n(87757);var r=n(35974),o=n(69483),a=n.n(o),i=n(35755);var c=function(e,t){var n=(0,i.lastActive)(e,t);return a().createInstance({driver:[a().LOCALSTORAGE],name:(null==n?void 0:n.split("/")[0])||n})};function s(e,t){var n=c(e,t);return(0,r.setupCache)({store:n,maxAge:6e5})}},11577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.offlineToken=t.noAuthParam=t.options=t.DEFAULT_ROUTES=void 0,t.DEFAULT_ROUTES={prod:{url:["access.redhat.com","prod.foo.redhat.com","cloud.redhat.com","console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},qa:{url:["qa.foo.redhat.com","qa.cloud.redhat.com","qa.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},ci:{url:["ci.foo.redhat.com","ci.cloud.redhat.com","ci.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},qaprodauth:{url:["qaprodauth.foo.redhat.com","qaprodauth.cloud.redhat.com","qaprodauth.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},stage:{url:["stage.foo.redhat.com","cloud.stage.redhat.com","console.stage.redhat.com","fetest.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.stage.redhat.com"},gov:{url:["gov.cloud.redhat.com","gov.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},govStage:{url:["gov.cloud.stage.redhat.com","gov.console.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.redhat.com"},dev:{url:["console.dev.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"}},t.options={realm:"redhat-external",clientId:"cloud-services",cookieName:"cs_jwt"},t.noAuthParam="noauth",t.offlineToken="2402500adeacc30eb5c5a8a5e2e0ec1f"},35755:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.levelArray=t.highlightItems=t.updateDocumentTitle=t.isFedRamp=t.isBeta=t.isProd=t.getEnvDetails=t.getEnv=t.getUrl=t.isAnsible=t.lastActive=t.deleteLocalStorageItems=t.createReduxListener=t.pageRequiresAuthentication=t.pageAllowsUnentitled=t.getSection=t.isValidAccountNumber=t.getWindow=void 0;var a=o(n(27361)),i=n(11577),c=o(n(94654));function s(){return window}function u(){var e=s().location.pathname.split("/");return"beta"===e[1]?e[2]||"":e[1]}t.getWindow=s,t.isValidAccountNumber=function(e){return!!e&&(-1!==e&&("-1"!==e&&Number.isInteger(Number(e))))},t.getSection=u,t.pageAllowsUnentitled=function(){var e=s().location.pathname;return"/"===e||"/beta"===e||"/beta/"===e||0===e.indexOf("/openshift")||0===e.indexOf("/beta/openshift")||0===e.indexOf("/security")||0===e.indexOf("/beta/security")||0===e.indexOf("/application-services")||0===e.indexOf("/beta/application-services")||0===e.indexOf("/hac")||0===e.indexOf("/beta/hac")||0===e.indexOf("/ansible/ansible-dashboard/trial")||0===e.indexOf("/beta/ansible/ansible-dashboard/trial")},t.pageRequiresAuthentication=function(){var e=u();return"insights"===e||"cost-management"===e||"apps"===e||"ansible"===e||"migrations"===e||"subscriptions"===e||"openshift"===e||"settings"===e||"user-preferences"===e||"internal"===e||"application-services"===e},t.createReduxListener=function(e,t,n){var r=void 0;return function(){var o=e.getState(),i=(0,a.default)(o,t);i!==r&&(r=i,n(i,e))}},t.deleteLocalStorageItems=function(e){e.map((function(e){return localStorage.removeItem(e)}))},t.lastActive=function(e,t){return Object.keys(localStorage).reduce((function(t,n){var r;if(n.includes(e))try{var o=void 0;try{var a=localStorage.getItem(t);o=a?new Date(null===(r=JSON.parse(a))||void 0===r?void 0:r.expires):new Date}catch(e){o=new Date}var i=JSON.parse(localStorage.getItem(n)||"");return o>=new Date(i.expires)?t:n}catch(e){return t}return t}),t)};function l(){var e;return(null===(e=Object.entries(i.DEFAULT_ROUTES).find((function(e){return e[1].url.includes(location.hostname)})))||void 0===e?void 0:e[0])||"qa"}t.isAnsible=function(e){return e.includes("ansible")&&e.includes("insights")?1:0},t.getUrl=function(e){if("/beta/"===window.location.pathname||"/"===window.location.pathname)return"landing";var n=window.location.pathname.split("/");return"beta"===n[1]?"bundle"===e?n[2]:n[3+(0,t.isAnsible)(n)]:"bundle"===e?n[1]:n[2+(0,t.isAnsible)(n)]},t.getEnv=l,t.getEnvDetails=function(){var e;return null===(e=Object.entries(i.DEFAULT_ROUTES).find((function(e){return e[1].url.includes(location.hostname)})))||void 0===e?void 0:e[1]},t.isProd=function(){return"cloud.redhat.com"===location.host||"console.redhat.com"===location.host||location.host.includes("prod.foo.redhat.com")},t.isBeta=function(){return"beta"===window.location.pathname.split("/")[1]},t.isFedRamp=function(){return"gov"===l()},t.updateDocumentTitle=function(e){void 0!==e&&("string"==typeof e?document.title=e:console.warn("Title is not a string. Got ".concat(typeof e," instead.")))};function d(e,t){return t.map((function(t){var n=t.href,o=t.routes,a=t.navItems;return!n&&a?r(r({},t),{navItems:d(e,a)}):!n&&o?r(r({},t),function(e,t){var n=!1,o=t.map((function(t){var o=t.href===e;return o&&(n=!0),r(r({},t),{active:o})}));return{active:n,routes:o}}(e,o)):n?r(r({},t),{active:t.href===e}):t}))}t.highlightItems=function(e,t,n){var r=e.replace(/\/$/,""),o=r.split("/").length+1,a=n.find((function(e){var t=e.replace(/\/$/,"").split("/").slice(0,o).join("/");return r.includes(t)}));return d((null==a?void 0:a.replace(/\/$/,""))||"",t)};t.levelArray=function(e){return(0,c.default)(e,(function(e){var n=e.href,r=e.routes,o=e.navItems;return!n&&o?(0,t.levelArray)(o):!n&&r?(0,t.levelArray)(r):n?[n]:[]}))}}}]);
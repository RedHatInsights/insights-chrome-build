(self["webpackChunkinsights_chrome"] = self["webpackChunkinsights_chrome"] || []).push([["src_bootstrap_tsx-src_moduleOverrides_unfetch_ts-node_modules_redhat-cloud-services_frontend--275e6e"],{

/***/ "./src/components/AppFilter/AppFilter.scss":
/*!*************************************************!*\
  !*** ./src/components/AppFilter/AppFilter.scss ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/ContextSwitcher/ContextSwitcher.scss":
/*!*************************************************************!*\
  !*** ./src/components/ContextSwitcher/ContextSwitcher.scss ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/ErrorComponents/ErrorComponent.scss":
/*!************************************************************!*\
  !*** ./src/components/ErrorComponents/ErrorComponent.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/FavoriteServices/ServiceTile.scss":
/*!**********************************************************!*\
  !*** ./src/components/FavoriteServices/ServiceTile.scss ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Feedback/Feedback.scss":
/*!***********************************************!*\
  !*** ./src/components/Feedback/Feedback.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Footer/Footer.scss":
/*!*******************************************!*\
  !*** ./src/components/Footer/Footer.scss ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/GlobalFilter/global-filter-menu.scss":
/*!*************************************************************!*\
  !*** ./src/components/GlobalFilter/global-filter-menu.scss ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Header/Header.scss":
/*!*******************************************!*\
  !*** ./src/components/Header/Header.scss ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Header/HeaderAlert.scss":
/*!************************************************!*\
  !*** ./src/components/Header/HeaderAlert.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/LandingNav/LandingNav.scss":
/*!***************************************************!*\
  !*** ./src/components/LandingNav/LandingNav.scss ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Navigation/Navigation.scss":
/*!***************************************************!*\
  !*** ./src/components/Navigation/Navigation.scss ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Search/SearchDescription.scss":
/*!******************************************************!*\
  !*** ./src/components/Search/SearchDescription.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Search/SearchInput.scss":
/*!************************************************!*\
  !*** ./src/components/Search/SearchInput.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/Search/SearchTitle.scss":
/*!************************************************!*\
  !*** ./src/components/Search/SearchTitle.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/layouts/AllServices.scss":
/*!**************************************!*\
  !*** ./src/layouts/AllServices.scss ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/layouts/DefaultLayout.scss":
/*!****************************************!*\
  !*** ./src/layouts/DefaultLayout.scss ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/layouts/FavoritedServices.scss":
/*!********************************************!*\
  !*** ./src/layouts/FavoritedServices.scss ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/analytics/SegmentContext.ts":
/*!*****************************************!*\
  !*** ./src/analytics/SegmentContext.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const SegmentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
    ready: false,
    analytics: undefined,
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SegmentContext);


/***/ }),

/***/ "./src/analytics/SegmentProvider.tsx":
/*!*******************************************!*\
  !*** ./src/analytics/SegmentProvider.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _segment_analytics_next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @segment/analytics-next */ "./node_modules/@segment/analytics-next/dist/pkg/browser/index.js");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SegmentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SegmentContext */ "./src/analytics/SegmentContext.ts");






const KEY_FALLBACK = {
    prod: 'nm7VsnYsBVJ9MqjaVInft69pAkhCXq9Q',
    dev: 'Aoak9IFNixtkZJRatfZG9cY1RHxbATW1',
};
const DEV_ENV = localStorage.getItem('chrome:analytics:dev') === 'true' || !(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isProd)();
function getAdobeVisitorId() {
    const visitor = window?.s?.visitor;
    if (visitor) {
        return visitor.getMarketingCloudVisitorID();
    }
    return -1;
}
const getPageEventOptions = () => {
    const path = window.location.pathname.replace(/^\/beta\//, '/');
    return [
        {
            path,
            url: `${window.location.origin}${path}${window.location.search}`,
            isBeta: (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isBeta)(),
            module: window._segment?.activeModule,
            ...window?._segment?.pageOptions,
        },
        {
            context: {
                groupId: window._segment?.groupId,
            },
        },
    ];
};
const getAPIKey = (env = 'dev', module, moduleAPIKey) => moduleAPIKey ||
    {
        prod: {
            acs: '9NmgZh57uEaOW9ePKqeKjjUKE8MEqaVU',
            hacCore: 'cLLG3VVakAECyGRAUnmjRkSqGJkYlRWI',
            openshift: 'z3Ic4EtzJtHrhXfpKgViJmf2QurSxXb9',
        },
        dev: {
            acs: 'CA5jdEouFKAxwGq7X9i1b7UySMKshj1j',
            hacCore: '5SuWCF4fRqTzMD8HVsk2r1LEYsYVsHCC',
            openshift: 'A8iCO9n9Ax9ObvHBgz4hMC9htKB0AdKj',
        },
    }[env]?.[module] ||
    KEY_FALLBACK[env];
const registerAnalyticsObserver = () => {
    /**
     * We ignore hash changes
     * Hashes only have frontend effect
     */
    let oldHref = document.location.href.replace(/#.*$/, '');
    const bodyList = document.body;
    const observer = new MutationObserver((mutations) => {
        mutations.forEach(() => {
            const newLocation = document.location.href.replace(/#.*$/, '');
            if (oldHref !== newLocation) {
                oldHref = newLocation;
                window?.sendCustomEvent?.('pageBottom');
                setTimeout(() => {
                    window.segment?.page(...getPageEventOptions());
                });
            }
        });
    });
    observer.observe(bodyList, {
        childList: true,
        subtree: true,
    });
    return observer.disconnect;
};
const isInternal = (email = '') => /@(redhat\.com|.*ibm\.com)$/gi.test(email);
const emailDomain = (email = '') => (/@/g.test(email) ? email.split('@')[1].toLowerCase() : null);
const getPagePathSegment = (pathname, n) => pathname.split('/')[n] || '';
const getIdentityTrais = (user, pathname, activeModule = '') => {
    const entitlements = Object.entries(user.entitlements).reduce((acc, [key, entitlement]) => ({
        ...acc,
        [`entitlements_${key}`]: entitlement.is_entitled,
        [`entitlements_${key}_trial`]: entitlement.is_trial,
    }), {});
    const email = user.identity.user?.email;
    return {
        cloud_user_id: user.identity.internal?.account_id,
        adobe_cloud_visitor_id: getAdobeVisitorId(),
        internal: isInternal(email),
        email_domain: emailDomain(email),
        lang: user.identity.user?.locale,
        isOrgAdmin: user.identity.user?.is_org_admin,
        currentBundle: (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getUrl)('bundle'),
        currentApp: activeModule,
        isBeta: (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isBeta)(),
        ...[...Array(5)].reduce((acc, _, i) => ({
            ...acc,
            [`urlSegment${i + 1}`]: getPagePathSegment(pathname, i + 1),
        }), {}),
        ...entitlements,
    };
};
const SegmentProvider = ({ activeModule, children }) => {
    const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
    const fedRampEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isFedRamp)();
    const isDisabled = localStorage.getItem('chrome:analytics:disable') === 'true' || fedRampEnv;
    const analytics = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    const analyticsLoaded = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { user } }) => user);
    const moduleAPIKey = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { modules } }) => activeModule && modules?.[activeModule]?.analytics?.APIKey);
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useLocation)();
    if (!analytics.current) {
        analytics.current = new _segment_analytics_next__WEBPACK_IMPORTED_MODULE_5__.AnalyticsBrowser();
    }
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        const disconnect = registerAnalyticsObserver();
        return () => disconnect();
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (!isDisabled && activeModule && user) {
            /**
             * Clean up custom page event data after module change
             */
            window._segment = {
                groupId: user.identity.internal?.org_id,
                activeModule,
            };
            const newKey = getAPIKey(DEV_ENV ? 'dev' : 'prod', activeModule, moduleAPIKey);
            const identityTraits = getIdentityTrais(user, pathname, activeModule);
            const identityOptions = {
                context: {
                    groupId: user.identity.internal?.org_id,
                },
                cloud_user_id: user.identity.internal?.account_id,
                adobe_cloud_visitor_id: getAdobeVisitorId(),
            };
            const groupTraits = {
                account_number: user.identity.account_number,
                account_id: user.identity.internal?.org_id,
                cloud_org_id: user.identity.internal?.org_id,
                cloud_ebs_id: user.identity.account_number,
            };
            if (!initialized.current && analytics.current) {
                window.segment = analytics.current;
                analytics.current.identify(user.identity.internal?.account_id, identityTraits, identityOptions);
                analytics.current.group(user.identity.internal?.org_id, groupTraits);
                analytics.current.page(...getPageEventOptions());
                initialized.current = true;
                // eslint-disable-next-line @typescript-eslint/ban-ts-comment
                //@ts-ignore TS does not allow accessing the instance settings but its necessary for us to not create instances if we don't have to
            }
            else if (initialized.current && !isDisabled && analytics.current?.instance?.settings.writeKey !== newKey) {
                window.segment = undefined;
                analytics.current = _segment_analytics_next__WEBPACK_IMPORTED_MODULE_5__.AnalyticsBrowser.load({ writeKey: newKey }, { initialPageview: false, disableClientPersistence: true, integrations: { All: !fedRampEnv } });
                window.segment = analytics.current;
                analytics.current.identify(user.identity.internal?.account_id, identityTraits, identityOptions);
                analytics.current.group(user.identity.internal?.org_id, groupTraits);
            }
        }
    }, [activeModule, user]);
    /**
     * This needs to happen in a condition and during first valid render!
     * To avoid recreating the buffered instance on each render, but provide the full API before the first sucesfull mount.
     */
    if (analytics.current && activeModule && !analyticsLoaded.current) {
        analyticsLoaded.current = true;
        analytics.current.load({
            writeKey: getAPIKey(DEV_ENV ? 'dev' : 'prod', 
            // FIXME: Find a better way of getting the initial activeModule ID
            activeModule, moduleAPIKey),
        }, { initialPageview: false, integrations: { All: !fedRampEnv } });
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SegmentContext__WEBPACK_IMPORTED_MODULE_4__["default"].Provider, { value: {
            ready: true,
            analytics: analytics.current,
        } }, children));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SegmentProvider);


/***/ }),

/***/ "./src/analytics/analyticsObserver.ts":
/*!********************************************!*\
  !*** ./src/analytics/analyticsObserver.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Function that will register a location observer which will trigger an action after document.location.href change.
 * We can't use "popstate" event listener because react apps are not using browser history but custom router history implementaion
 * which are not using history go, push, pop functions that trigger popstate event.
 * @param {Function} observeCallback callback that will be triggered after URL change
 */
const registerAnalyticsObserver = () => {
    /**
     * We ignore hash changes
     * Hashes only have frontend effect
     */
    let oldHref = document.location.href.replace(/#.*$/, '');
    window.onload = function () {
        const bodyList = document.body;
        const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function () {
                const newLocation = document.location.href.replace(/#.*$/, '');
                if (oldHref !== newLocation && window.sendCustomEvent) {
                    oldHref = newLocation;
                    window.sendCustomEvent('pageBottom');
                }
            });
        });
        const config = {
            childList: true,
            subtree: true,
        };
        observer.observe(bodyList, config);
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (registerAnalyticsObserver);


/***/ }),

/***/ "./src/analytics/index.ts":
/*!********************************!*\
  !*** ./src/analytics/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPendoConf": () => (/* binding */ getPendoConf)
/* harmony export */ });
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");


function isInternalFlag(email, isInternal = false) {
    if (email.includes('redhat') || isInternal) {
        return '_redhat';
    }
    if (email.includes('ibm')) {
        return '_ibm';
    }
    return '';
}
function getUrl(type) {
    if (window.location.pathname === ('/beta' || 0)) {
        return 'landing';
    }
    const sections = window.location.pathname.split('/').slice(1);
    const isBetaEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.isBeta)();
    if (type) {
        if (isBetaEnv) {
            return type === 'bundle' ? sections[1] : sections[2];
        }
        return type === 'bundle' ? sections[0] : sections[1];
    }
    isBetaEnv && sections.shift();
    return [isBetaEnv, ...sections];
}
function getAdobeVisitorId() {
    const visitor = window?.s?.visitor;
    if (visitor) {
        return visitor.getMarketingCloudVisitorID();
    }
    return -1;
}
function getPendoConf(data) {
    const userID = `${data.identity.internal.account_id}${isInternalFlag(data.identity.user.email, data.identity.user.is_internal)}`;
    const entitlements = {};
    data.entitlements &&
        Object.entries(data.entitlements).forEach(([key, value]) => {
            entitlements[`entitlements_${key}`] = value.is_entitled;
            entitlements[`entitlements_${key}_trial`] = value.is_trial;
        });
    const [isBeta, currentBundle, currentApp, ...rest] = getUrl();
    return {
        visitor: {
            id: userID,
            // Here we want to store this separately
            // even if its duplicative... just to be extra sure
            // in case another we property overrides account_num account_id
            cloud_user_id: userID,
            adobe_cloud_visitor_id: getAdobeVisitorId(),
            internal: data.identity.user.is_internal,
            lang: data.identity.user.locale,
            isOrgAdmin: data.identity.user.is_org_admin,
            currentBundle: currentBundle,
            currentApp: currentApp,
            isBeta,
            urlSegment1: currentBundle,
            urlSegment2: currentApp,
            ...rest?.reduce((acc, curr, id) => ({
                ...acc,
                ...(curr && { [`urlSegment${id + 3}`]: curr }),
            }), {}),
            ...entitlements,
        },
        account: {
            // TODO add in customer name as name:
            // here if/when we get that in the JWT
            id: data.identity.account_number,
            account_number: data.identity.account_number,
            account_id: data.identity.internal.org_id,
            // Here we want to store this separately
            // even if its duplicative... just to be extra sure
            // in case another we property overrides account_num account_id
            cloud_org_id: data.identity.internal.org_id,
            cloud_ebs_id: data.identity.account_number,
        },
    };
}


/***/ }),

/***/ "./src/auth/fetchPermissions.ts":
/*!**************************************!*\
  !*** ./src/auth/fetchPermissions.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createFetchPermissionsWatcher": () => (/* binding */ createFetchPermissionsWatcher)
/* harmony export */ });
/* harmony import */ var _rbac__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rbac */ "./src/auth/rbac.ts");
/* harmony import */ var _jwt_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../jwt/logger */ "./src/jwt/logger.ts");


const log = (0,_jwt_logger__WEBPACK_IMPORTED_MODULE_1__["default"])('fetchPermissions.ts');
const perPage = 1000;
const fetchPermissions = (userToken, app = '') => {
    const rbacApi = (0,_rbac__WEBPACK_IMPORTED_MODULE_0__["default"])(userToken);
    return rbacApi
        .getPrincipalAccess(app, undefined, undefined, perPage)
        .then((resp) => {
        /**
         * We have to override the type because of interceptors. They are mutatuing the response.
         * We should come up with a nice pattern to work around the interceptors
         * */
        const { data, meta } = resp;
        if (meta.count > perPage) {
            return Promise.all([...new Array(Math.ceil(meta.count / perPage))].map((_empty, key) => rbacApi
                .getPrincipalAccess(app, undefined, undefined, perPage, (key + 1) * perPage)
                .then(({ data }) => data)))
                .then((allAccess) => allAccess.reduce((acc, curr) => [...acc, ...curr], data))
                .catch((error) => log(error));
        }
        else {
            return data;
        }
    })
        .catch((error) => log(error));
};
const createFetchPermissionsWatcher = () => {
    const currentCall = {};
    return async (userToken, app = '', bypassCache) => {
        const user = await window.insights.chrome.auth.getUser();
        if (user?.identity && [undefined, -1, '-1'].includes(user.identity.account_number)) {
            return Promise.resolve([]);
        }
        if (typeof currentCall?.[app] === 'undefined' || bypassCache) {
            currentCall[app] = await fetchPermissions(userToken, app);
        }
        return currentCall?.[app] || [];
    };
};


/***/ }),

/***/ "./src/auth/index.ts":
/*!***************************!*\
  !*** ./src/auth/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createAuthObject": () => (/* binding */ createAuthObject),
/* harmony export */   "createGetUser": () => (/* binding */ createGetUser),
/* harmony export */   "crossAccountBouncer": () => (/* binding */ crossAccountBouncer),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jwt_offline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwt/offline */ "./src/jwt/offline.ts");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../jwt/jwt */ "./src/jwt/jwt.ts");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _utils_iqeEnablement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/iqeEnablement */ "./src/utils/iqeEnablement.ts");






const TIMER_STR = '[JWT][jwt.js] Auth time';
function bouncer() {
    if (!_jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated()) {
        js_cookie__WEBPACK_IMPORTED_MODULE_1__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.defaultAuthOptions.cookieName);
        _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.login();
    }
    console.timeEnd(TIMER_STR); // eslint-disable-line no-console
}
function crossAccountBouncer() {
    const requestCookie = js_cookie__WEBPACK_IMPORTED_MODULE_1__["default"].get(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.CROSS_ACCESS_ACCOUNT_NUMBER);
    if (requestCookie) {
        localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.ACCOUNT_REQUEST_TIMEOUT, requestCookie);
        localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.ACTIVE_REMOTE_REQUEST);
    }
    js_cookie__WEBPACK_IMPORTED_MODULE_1__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.CROSS_ACCESS_ACCOUNT_NUMBER);
    js_cookie__WEBPACK_IMPORTED_MODULE_1__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_3__.CROSS_ACCESS_ORG_ID);
    window.location.reload();
}
const createAuthObject = (libjwt, getUser, store, globalConfig) => ({
    getOfflineToken: () => libjwt.getOfflineToken(),
    doOffline: () => libjwt.jwt.doOffline(_utils_consts__WEBPACK_IMPORTED_MODULE_3__["default"].noAuthParam, _utils_consts__WEBPACK_IMPORTED_MODULE_3__["default"].offlineToken, globalConfig?.chrome?.ssoUrl || globalConfig?.chrome?.config?.ssoUrl),
    getToken: () => libjwt.initPromise.then(() => libjwt.jwt.getUserInfo().then(() => libjwt.jwt.getEncodedToken())),
    getUser,
    qe: {
        ..._utils_iqeEnablement__WEBPACK_IMPORTED_MODULE_4__["default"],
        init: () => _utils_iqeEnablement__WEBPACK_IMPORTED_MODULE_4__["default"].init(store, () => libjwt),
    },
    logout: (bounce) => libjwt.jwt.logoutAllTabs(bounce),
    login: () => libjwt.jwt.login(),
});
const createGetUser = (libjwt) => {
    return () => libjwt.initPromise.then(libjwt.jwt.getUserInfo).catch(() => {
        libjwt.jwt.logoutAllTabs();
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (({ ssoUrl }) => {
    console.time(TIMER_STR); // eslint-disable-line no-console
    const options = {
        ..._utils_consts__WEBPACK_IMPORTED_MODULE_3__.defaultAuthOptions,
    };
    (0,_jwt_offline__WEBPACK_IMPORTED_MODULE_0__.wipePostbackParamsThatAreNotForUs)();
    const token = js_cookie__WEBPACK_IMPORTED_MODULE_1__["default"].get(options.cookieName);
    // If we find an existing token, use it
    // so that we dont auth even when a valid token is present
    // otherwise its quick, but we bounce around and get a new token
    // on every page load
    if (token && token.length > 10) {
        options.token = token;
    }
    const promise = _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.init(options, ssoUrl).then(bouncer);
    return {
        getOfflineToken: () => (0,_jwt_offline__WEBPACK_IMPORTED_MODULE_0__.getOfflineToken)(options.realm, options.clientId, ssoUrl),
        jwt: _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__,
        initPromise: promise,
    };
});


/***/ }),

/***/ "./src/auth/rbac.ts":
/*!**************************!*\
  !*** ./src/auth/rbac.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redhat_cloud_services_rbac_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @redhat-cloud-services/rbac-client */ "./node_modules/@redhat-cloud-services/rbac-client/dist/index.js");
/* harmony import */ var _redhat_cloud_services_rbac_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_rbac_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cache */ "./src/utils/cache.ts");



const BASE_PATH = '/api/rbac/v1';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((cachePrefix) => {
    const cache = (0,_utils_cache__WEBPACK_IMPORTED_MODULE_2__.bootstrapCache)(BASE_PATH, `${cachePrefix}-rbac`);
    const instance = axios__WEBPACK_IMPORTED_MODULE_0___default().create({ adapter: cache.adapter });
    instance.interceptors.response.use((response) => response.data || response);
    return new _redhat_cloud_services_rbac_client__WEBPACK_IMPORTED_MODULE_1__.AccessApi(undefined, BASE_PATH, instance);
});


/***/ }),

/***/ "./src/bootstrap.tsx":
/*!***************************!*\
  !*** ./src/bootstrap.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "webpack/sharing/consume/default/react-dom/react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/provider.js");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-intl */ "./node_modules/@formatjs/intl/lib/src/error.js");
/* harmony import */ var _redux_redux_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./redux/redux-config */ "./src/redux/redux-config.ts");
/* harmony import */ var _components_RootApp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/RootApp */ "./src/components/RootApp/index.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./auth */ "./src/auth/index.ts");
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/sentry */ "./src/utils/sentry.ts");
/* harmony import */ var _analytics_analyticsObserver__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./analytics/analyticsObserver */ "./src/analytics/analyticsObserver.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/common */ "./src/utils/common.ts");
/* harmony import */ var _locales_data_json__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./locales/data.json */ "./src/locales/data.json");
/* harmony import */ var _components_ErrorComponents_ErrorBoundary__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/ErrorComponents/ErrorBoundary */ "./src/components/ErrorComponents/ErrorBoundary.tsx");
/* harmony import */ var _components_LibJWTContext__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/LibJWTContext */ "./src/components/LibJWTContext/index.ts");
/* harmony import */ var _utils_iqeEnablement__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/iqeEnablement */ "./src/utils/iqeEnablement.ts");
/* harmony import */ var _jwt_initialize_jwt__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./jwt/initialize-jwt */ "./src/jwt/initialize-jwt.ts");


















const language = 'en';
const initializeAccessRequestCookies = () => {
    const initialAccount = localStorage.getItem(_utils_consts__WEBPACK_IMPORTED_MODULE_7__.ACTIVE_REMOTE_REQUEST);
    if (js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].get(_utils_consts__WEBPACK_IMPORTED_MODULE_7__.CROSS_ACCESS_ACCOUNT_NUMBER) && initialAccount) {
        try {
            const { end_date } = JSON.parse(initialAccount);
            /**
             * Remove cross account request if it is expired
             */
            if (new Date(end_date).getTime() <= Date.now()) {
                (0,_auth__WEBPACK_IMPORTED_MODULE_8__.crossAccountBouncer)();
            }
        }
        catch {
            console.log('Unable to parse initial account. Using default account');
            js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_7__.CROSS_ACCESS_ACCOUNT_NUMBER);
        }
    }
};
const libjwtSetup = (chromeConfig) => {
    const libjwt = (0,_auth__WEBPACK_IMPORTED_MODULE_8__["default"])(chromeConfig || {});
    libjwt.initPromise.then(() => {
        return libjwt.jwt
            .getUserInfo()
            .then((chromeUser) => {
            if (chromeUser) {
                (0,_utils_sentry__WEBPACK_IMPORTED_MODULE_9__["default"])(chromeUser);
            }
        })
            .catch(_utils_common__WEBPACK_IMPORTED_MODULE_11__.noop);
    });
    return libjwt;
};
const useInitialize = () => {
    const [{ isReady, libJwt }, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({ isReady: false, libJwt: undefined });
    const store = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useStore)();
    const fedRampEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_11__.isFedRamp)();
    const chromeInstance = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({ cache: undefined });
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        // We have to use `let` because we want to access it once jwt is initialized
        let libJwt = undefined;
        // init qe functions, callback for libjwt because we want it to initialize before jwt is ready
        _utils_iqeEnablement__WEBPACK_IMPORTED_MODULE_15__["default"].init(store, () => libJwt);
        // initi fed modules registry
        (0,_utils_common__WEBPACK_IMPORTED_MODULE_11__.loadFedModules)().then(({ data }) => {
            const { chrome: chromeConfig } = data;
            store.dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_5__.loadModulesSchema)(data));
            initializeAccessRequestCookies();
            // create JWT instance
            libJwt = libjwtSetup({ ...chromeConfig?.config, ...chromeConfig });
            // initialize JWT instance
            (0,_jwt_initialize_jwt__WEBPACK_IMPORTED_MODULE_16__["default"])(libJwt, chromeInstance.current).then(() => {
                setState({
                    libJwt,
                    isReady: true,
                });
            });
        });
        // setup trust arc
        (0,_utils_common__WEBPACK_IMPORTED_MODULE_11__.trustarcScriptSetup)();
        // setup adobe analytics
        if (!fedRampEnv && typeof window._satellite !== 'undefined' && typeof window._satellite.pageBottom === 'function') {
            window._satellite.pageBottom();
            (0,_analytics_analyticsObserver__WEBPACK_IMPORTED_MODULE_10__["default"])();
        }
    }, []);
    return {
        isReady,
        libJwt,
    };
};
const App = () => {
    const modules = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.modules);
    const scalprumConfig = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.scalprumConfig);
    const documentTitle = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.documentTitle);
    const { isReady, libJwt } = useInitialize();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        const title = typeof documentTitle === 'string' ? `${documentTitle} | ` : '';
        document.title = `${title}console.redhat.com`;
    }, [documentTitle]);
    return isReady && modules && scalprumConfig && libJwt ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_LibJWTContext__WEBPACK_IMPORTED_MODULE_14__["default"].Provider, { value: libJwt },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_RootApp__WEBPACK_IMPORTED_MODULE_4__["default"], { config: scalprumConfig }))) : null;
};
react_dom__WEBPACK_IMPORTED_MODULE_1___default().render(react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_intl__WEBPACK_IMPORTED_MODULE_17__["default"], { locale: language, messages: _locales_data_json__WEBPACK_IMPORTED_MODULE_12__[language], onError: (error) => {
        if (((0,_utils_common__WEBPACK_IMPORTED_MODULE_11__.getEnv)() === 'stage' && !window.location.origin.includes('foo')) ||
            localStorage.getItem('chrome:intl:debug') === 'true' ||
            !(error.code === react_intl__WEBPACK_IMPORTED_MODULE_18__.IntlErrorCode.MISSING_TRANSLATION)) {
            console.error(error);
        }
    } },
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, { store: (0,_redux_redux_config__WEBPACK_IMPORTED_MODULE_3__.spinUpStore)()?.store },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ErrorComponents_ErrorBoundary__WEBPACK_IMPORTED_MODULE_13__["default"], null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(App, null)))), document.getElementById('chrome-entry'));


/***/ }),

/***/ "./src/chrome/create-chrome.ts":
/*!*************************************!*\
  !*** ./src/chrome/create-chrome.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createChromeContext": () => (/* binding */ createChromeContext)
/* harmony export */ });
/* harmony import */ var _auth_fetchPermissions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../auth/fetchPermissions */ "./src/auth/fetchPermissions.ts");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth */ "./src/auth/index.ts");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _utils_createCase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/createCase */ "./src/utils/createCase.ts");
/* harmony import */ var _utils_debugFunctions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/debugFunctions */ "./src/utils/debugFunctions.ts");
/* harmony import */ var _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/GlobalFilter/globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _components_Feedback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Feedback */ "./src/components/Feedback/index.ts");
/* harmony import */ var _redux_redux_config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../redux/redux-config */ "./src/redux/redux-config.ts");
/* harmony import */ var _utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/isAnsibleTrialFlagActive */ "./src/utils/isAnsibleTrialFlagActive.ts");
/* harmony import */ var _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/chromeHistory */ "./src/utils/chromeHistory.ts");
/* harmony import */ var _redux_action_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../redux/action-types */ "./src/redux/action-types.ts");















const createChromeContext = ({ useGlobalFilter, analytics, libJwt, getUser, store, modulesConfig, setPageMetadata, quickstartsAPI, helpTopics, }) => {
    const fetchPermissions = (0,_auth_fetchPermissions__WEBPACK_IMPORTED_MODULE_0__.createFetchPermissionsWatcher)();
    const dispatch = store.dispatch;
    const actions = {
        appAction: (action) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.appAction)(action)),
        appObjectId: (objectId) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.appObjectId)(objectId)),
        appNavClick: (item, event) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.appNavClick)(item, event)),
        globalFilterScope: (scope) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.globalFilterScope)(scope)),
        registerModule: (module, manifest) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.registerModule)(module, manifest)),
        removeGlobalFilter: (isHidden) => store.dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.removeGlobalFilter)(isHidden)),
    };
    const on = (type, callback) => {
        if (!Object.prototype.hasOwnProperty.call(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.PUBLIC_EVENTS, type)) {
            throw new Error(`Unknown event type: ${type}`);
        }
        const [listener, selector] = _utils_consts__WEBPACK_IMPORTED_MODULE_9__.PUBLIC_EVENTS[type];
        if (type !== 'APP_NAVIGATION' && typeof selector === 'string') {
            callback({
                data: lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(store.getState(), selector) || {},
            });
        }
        if (typeof listener === 'function') {
            return _redux_redux_config__WEBPACK_IMPORTED_MODULE_11__.middlewareListener.addNew(listener(callback));
        }
    };
    const identifyApp = (_data, appTitle, noSuffix) => {
        (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.updateDocumentTitle)(appTitle, noSuffix);
        return Promise.resolve();
    };
    const api = {
        ...actions,
        auth: (0,_auth__WEBPACK_IMPORTED_MODULE_1__.createAuthObject)(libJwt, getUser, store, modulesConfig),
        initialized: true,
        isProd: _utils_common__WEBPACK_IMPORTED_MODULE_5__.isProd,
        forceDemo: () => js_cookie__WEBPACK_IMPORTED_MODULE_3__["default"].set('cs_demo', 'true'),
        getBundle: () => (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.getUrl)('bundle'),
        getApp: () => (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.getUrl)('app'),
        getEnvironment: () => (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.getEnv)(),
        getEnvironmentDetails: () => (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.getEnvDetails)(),
        createCase: (fields) => getUser().then((user) => (0,_utils_createCase__WEBPACK_IMPORTED_MODULE_6__.createSupportCase)(user.identity, libJwt, fields)),
        getUserPermissions: async (app = '', bypassCache) => {
            await getUser();
            return fetchPermissions(libJwt.jwt.getEncodedToken() || '', app, bypassCache);
        },
        identifyApp,
        hideGlobalFilter: (isHidden) => {
            const initialHash = store.getState()?.chrome?.initialHash;
            /**
             * Restore app URL hash fragment after the global filter is disabled
             */
            if (initialHash) {
                _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_13__["default"].replace({
                    ..._utils_chromeHistory__WEBPACK_IMPORTED_MODULE_13__["default"].location,
                    hash: initialHash,
                });
                store.dispatch({ type: _redux_action_types__WEBPACK_IMPORTED_MODULE_14__.STORE_INITIAL_HASH });
            }
            store.dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.toggleGlobalFilter)(isHidden));
        },
        isBeta: _utils_common__WEBPACK_IMPORTED_MODULE_5__.isBeta,
        isChrome2: true,
        enable: _utils_debugFunctions__WEBPACK_IMPORTED_MODULE_7__["default"],
        isDemo: () => (js_cookie__WEBPACK_IMPORTED_MODULE_3__["default"].get('cs_demo') ? true : false),
        isPenTest: () => (js_cookie__WEBPACK_IMPORTED_MODULE_3__["default"].get('x-rh-insights-pentest') ? true : false),
        mapGlobalFilter: _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_8__.flatTags,
        navigation: () => console.error("Don't use insights.chrome.navigation, it has been deprecated!"),
        updateDocumentTitle: _utils_common__WEBPACK_IMPORTED_MODULE_5__.updateDocumentTitle,
        visibilityFunctions: _utils_consts__WEBPACK_IMPORTED_MODULE_9__.visibilityFunctions,
        on,
        experimentalApi: true,
        isFedramp: (0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFedRamp)(),
        usePendoFeedback: _components_Feedback__WEBPACK_IMPORTED_MODULE_10__.usePendoFeedback,
        segment: {
            setPageMetadata,
        },
        toggleFeedbackModal: (...args) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.toggleFeedbackModal)(...args)),
        // FIXME: Update types once merged
        quickStarts: quickstartsAPI,
        helpTopics,
        clearAnsibleTrialFlag: _utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_12__.clearAnsibleTrialFlag,
        isAnsibleTrialFlagActive: _utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_12__.isAnsibleTrialFlagActive,
        setAnsibleTrialFlag: _utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_12__.setAnsibleTrialFlag,
        chromeHistory: _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_13__["default"],
        analytics: analytics,
        // FIXME: Update types once merged
        useGlobalFilter: useGlobalFilter,
        init: () => {
            console.error(`Calling deprecated "chrome.init function"! Please remove the function call from your code. Functions "on" and "updateDocumentTitle" are directly accessible from "useChrome" hook.`);
            return {
                on,
                updateDocumentTitle: _utils_common__WEBPACK_IMPORTED_MODULE_5__.updateDocumentTitle,
                identifyApp,
            };
        },
        $internal: {
            store,
        },
    };
    return api;
};


/***/ }),

/***/ "./src/chrome/update-shared-scope.ts":
/*!*******************************************!*\
  !*** ./src/chrome/update-shared-scope.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _scalprum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scalprum/core */ "./node_modules/@scalprum/core/dist/esm/index.js");
/* eslint-disable @typescript-eslint/no-var-requires */

const updateSharedScope = () => {
    const calculateTo = (to) => {
        if (window.location.pathname.includes('/hac')) {
            // FIXME: Create a global dynamic plugin solution to scope plugin nested routes
            if (typeof to === 'string' && !to.startsWith('/hac') && to.startsWith('/')) {
                return `/hac${to}`;
            }
            else if (typeof to !== 'string' && to.pathname && !to.pathname.startsWith('/hac')) {
                return {
                    ...to,
                    pathname: `/hac${to.pathname}`,
                };
            }
            return to;
        }
        return to;
    };
    const modules = {
        'react-router-dom': async () => () => {
            // We have to hack our way around react-router-dom
            // Since we are no longer using basename we have to include `/hac` prefix
            const reactRouter = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
            return {
                ...reactRouter,
                useNavigate: () => {
                    const oldNavigate = reactRouter.useNavigate();
                    return (to, options) => {
                        oldNavigate(calculateTo(to), options);
                    };
                },
                Link: (props) => {
                    const Cmp = reactRouter.Link;
                    const react = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
                    return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });
                },
                Navigate: (props) => {
                    const react = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
                    const Cmp = reactRouter.Navigate;
                    return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });
                },
                NavLink: (props) => {
                    const react = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
                    const Cmp = reactRouter.NavLink;
                    return react.createElement(Cmp, { ...props, to: calculateTo(props.to) });
                },
            };
        },
    };
    // CRITICAL: initialize default scope and make it accessible for child modules
    (0,_scalprum_core__WEBPACK_IMPORTED_MODULE_0__.initSharedScope)();
    const scope = (0,_scalprum_core__WEBPACK_IMPORTED_MODULE_0__.getSharedScope)();
    // append module overrides to current webpack scope
    Object.keys(modules).forEach((moduleRequest) => {
        scope[moduleRequest] = {
            // The '*' semver range means "this shared module matches all requested versions",
            // i.e. make sure the plugin always uses the Console-provided shared module version
            '*': {
                get: modules[moduleRequest],
                // Indicates that Console has already loaded the shared module
                loaded: 1,
            },
        };
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (updateSharedScope);


/***/ }),

/***/ "./src/components/Activation/Activation.tsx":
/*!**************************************************!*\
  !*** ./src/components/Activation/Activation.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");







const Activation = ({ user, request }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useNavigate)();
    const isAvailable = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getEnv)() === 'prod';
    async function handleActivationRequest() {
        const token = await window.insights.chrome.auth.getToken();
        if (isAvailable) {
            fetch(`${window.origin}/api/platform-feedback/v1/issues`, {
                method: 'POST',
                headers: {
                    Accept: 'application/json',
                    Authorization: `Bearer ${token}`,
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    description: `Username: ${user.identity.user.username}, Account ID: ${user.identity.account_number}, Email: ${user.identity.user.email}`,
                    summary: `Activation Request - for cloud-marketplace-enablement team`,
                    labels: [request],
                }),
            });
            console.log('Activation request sent');
        }
        else {
            console.log('You must be in prod to request activation');
        }
    }
    const onModalClose = () => {
        setIsModalOpen(false);
        navigate('/');
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        user && handleActivationRequest();
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.Modal, { isOpen: isModalOpen, onClose: onModalClose, title: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_4__["default"].activationTitle), variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.ModalVariant.medium },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.Text, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_4__["default"].activationDescription)))));
};
Activation.propTypes = {
    user: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().object),
    request: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Activation);


/***/ }),

/***/ "./src/components/Activation/index.ts":
/*!********************************************!*\
  !*** ./src/components/Activation/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Activation__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Activation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Activation */ "./src/components/Activation/Activation.tsx");



/***/ }),

/***/ "./src/components/AllServices/AllServicesGroup.tsx":
/*!*********************************************************!*\
  !*** ./src/components/AllServices/AllServicesGroup.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _AllServicesLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AllServicesLink */ "./src/components/AllServices/AllServicesLink.tsx");



const AllServicesGroup = ({ title, links }) => {
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextVariants.p, className: "pf-u-pt-xs pf-u-font-weight-bold" }, title),
        links.map((link, index) => (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_AllServicesLink__WEBPACK_IMPORTED_MODULE_2__["default"], { key: index, ...link })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AllServicesGroup);


/***/ }),

/***/ "./src/components/AllServices/AllServicesIcons.ts":
/*!********************************************************!*\
  !*** ./src/components/AllServices/AllServicesIcons.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _patternfly_react_icons_dist_js_icons_automation_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/automation-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/automation-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_bell_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/bell-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/bell-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_chart_line_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/chart-line-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/chart-line-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cloud_security_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cloud-security-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cloud-security-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cloud_upload_alt_icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cloud-upload-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cloud-upload-alt-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cog_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cog-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cog-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_credit_card_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/credit-card-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/credit-card-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_database_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/database-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/database-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_infrastructure_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/infrastructure-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/infrastructure-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_rocket_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/rocket-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/rocket-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_shopping_cart_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/shopping-cart-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/shopping-cart-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_users_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/users-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/users-icon.js");












const AllServicesIcons = {
    CloudUploadAltIcon: _patternfly_react_icons_dist_js_icons_cloud_upload_alt_icon__WEBPACK_IMPORTED_MODULE_0__["default"],
    AutomationIcon: _patternfly_react_icons_dist_js_icons_automation_icon__WEBPACK_IMPORTED_MODULE_1__["default"],
    DatabaseIcon: _patternfly_react_icons_dist_js_icons_database_icon__WEBPACK_IMPORTED_MODULE_2__["default"],
    RocketIcon: _patternfly_react_icons_dist_js_icons_rocket_icon__WEBPACK_IMPORTED_MODULE_3__["default"],
    UsersIcon: _patternfly_react_icons_dist_js_icons_users_icon__WEBPACK_IMPORTED_MODULE_4__["default"],
    InfrastructureIcon: _patternfly_react_icons_dist_js_icons_infrastructure_icon__WEBPACK_IMPORTED_MODULE_5__["default"],
    BellIcon: _patternfly_react_icons_dist_js_icons_bell_icon__WEBPACK_IMPORTED_MODULE_6__["default"],
    ChartLineIcon: _patternfly_react_icons_dist_js_icons_chart_line_icon__WEBPACK_IMPORTED_MODULE_7__["default"],
    CloudSecurityIcon: _patternfly_react_icons_dist_js_icons_cloud_security_icon__WEBPACK_IMPORTED_MODULE_8__["default"],
    CreditCardIcon: _patternfly_react_icons_dist_js_icons_credit_card_icon__WEBPACK_IMPORTED_MODULE_9__["default"],
    CogIcon: _patternfly_react_icons_dist_js_icons_cog_icon__WEBPACK_IMPORTED_MODULE_10__["default"],
    ShoppingCartIcon: _patternfly_react_icons_dist_js_icons_shopping_cart_icon__WEBPACK_IMPORTED_MODULE_11__["default"],
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AllServicesIcons);


/***/ }),

/***/ "./src/components/AllServices/AllServicesLink.tsx":
/*!********************************************************!*\
  !*** ./src/components/AllServices/AllServicesLink.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _redhat_cloud_services_chrome_useFavoritePages__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @redhat-cloud-services/chrome/useFavoritePages */ "./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/useFavoritePages.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_star_half_alt_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/star-half-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/star-half-alt-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/star-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/star-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_external_link_alt_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/external-link-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/external-link-alt-icon.js");
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);










const AllServicesLink = ({ href, title, isExternal }) => {
    // Find service appId
    const appId = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)(({ chrome: { moduleRoutes } }) => moduleRoutes.find(({ path }) => (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.matchPath)(path, href) || (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.matchPath)(`${path}/*`, href))?.scope, react_redux__WEBPACK_IMPORTED_MODULE_5__.shallowEqual);
    const { favoritePage, unfavoritePage, favoritePages } = (0,_redhat_cloud_services_chrome_useFavoritePages__WEBPACK_IMPORTED_MODULE_6__["default"])();
    const handleFavouriteToggle = (pathname, favorite) => {
        if (favorite) {
            unfavoritePage(pathname);
        }
        else {
            favoritePage(pathname);
        }
    };
    const isFavorite = !!favoritePages.find(({ pathname, favorite }) => pathname === href && favorite);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextVariants.p },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_4__["default"], { appId: appId, isExternal: isExternal, href: href },
            title,
            isExternal && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { className: "pf-u-ml-sm", isInline: true },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_external_link_alt_icon__WEBPACK_IMPORTED_MODULE_7__["default"], null)))),
        !isExternal && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { onClick: () => handleFavouriteToggle(href, isFavorite), "aria-label": `${isFavorite ? 'Unfavorite' : 'Favorite'} ${title}`, className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('pf-u-ml-md', {
                'chr-c-icon-not-favorited': !isFavorite,
            }), status: "warning", isInline: true }, isFavorite ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_8__["default"], null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_star_half_alt_icon__WEBPACK_IMPORTED_MODULE_9__["default"], null)))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AllServicesLink);


/***/ }),

/***/ "./src/components/AllServices/AllServicesSection.tsx":
/*!***********************************************************!*\
  !*** ./src/components/AllServices/AllServicesSection.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "isAllServicesGroup": () => (/* binding */ isAllServicesGroup)
/* harmony export */ });
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _AllServicesGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AllServicesGroup */ "./src/components/AllServices/AllServicesGroup.tsx");
/* harmony import */ var _AllServicesIcons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AllServicesIcons */ "./src/components/AllServices/AllServicesIcons.ts");
/* harmony import */ var _AllServicesLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AllServicesLink */ "./src/components/AllServices/AllServicesLink.tsx");





const isAllServicesGroup = (item) => {
    return item.isGroup === true;
};
const AllServicesSection = ({ icon, title, description, links }) => {
    const TitleIcon = _AllServicesIcons__WEBPACK_IMPORTED_MODULE_3__["default"][icon];
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Card, { className: "pf-u-display-block pf-u-mb-md pf-u-background-color-100" },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.CardTitle, null,
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Icon, { className: "pf-u-mr-xs", isInline: true },
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TitleIcon, null)),
            title),
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.CardBody, null,
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextContent, { className: "pf-u-font-size-sm" },
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextVariants.p, className: "pf-u-mb-md" }, description),
                links.map((link, index) => isAllServicesGroup(link) ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_AllServicesGroup__WEBPACK_IMPORTED_MODULE_2__["default"], { key: index, ...link }) : react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_AllServicesLink__WEBPACK_IMPORTED_MODULE_4__["default"], { key: index, ...link }))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AllServicesSection);


/***/ }),

/***/ "./src/components/AllServices/allServicesLinks.ts":
/*!********************************************************!*\
  !*** ./src/components/AllServices/allServicesLinks.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const allServicesLinks = [
    {
        icon: 'CloudUploadAltIcon',
        title: 'Application Services',
        description: 'Streamline your hybrid cloud experience, reducing the operational cost and complexity of delivering cloud-native applications.',
        links: [
            {
                href: '/application-services/api-designer',
                title: 'API Designer',
            },
            {
                href: '/application-services/api-management',
                title: 'API Management',
            },
            {
                href: '/application-services/connectors',
                title: 'Connectors',
            },
            {
                href: '/application-services/service-accounts',
                title: 'Service Accounts',
            },
            {
                href: '/application-services/service-registry',
                title: 'Service Registry',
            },
            {
                href: '/application-services/streams',
                title: 'Streams for Apache Kafka',
            },
        ],
    },
    {
        icon: 'AutomationIcon',
        title: 'Automation',
        description: 'Solve problems once, in one place, and scale up.',
        links: [
            {
                href: '/ansible/automation-analytics/reports',
                title: 'Automation Analytics',
            },
            {
                href: '/ansible/automation-hub',
                title: 'Automation Hub',
            },
            {
                href: '/ansible/inventory',
                title: 'Insights',
            },
            {
                href: '/ansible/remediations',
                title: 'Remediations',
            },
        ],
    },
    {
        icon: 'DatabaseIcon',
        title: 'Data Services',
        description: 'Create, manage, and migrate relational and non-relational databases.',
        links: [
            {
                href: '/application-services/databases',
                title: 'Database Access',
            },
            {
                href: '/application-services/data-science',
                title: 'Data Science',
            },
        ],
    },
    {
        icon: 'RocketIcon',
        title: 'Deploy',
        description: 'Create RHEL images, systems at the Edge, and OpenShift clusters.',
        links: [
            {
                href: '/openshift/create',
                title: 'Clusters',
            },
            {
                href: '/edge/fleet-management',
                title: 'Edge',
            },
            {
                href: '/insights/image-builder',
                title: 'Image Builder',
            },
            {
                href: '/settings/content',
                title: 'Repositories',
            },
        ],
    },
    {
        icon: 'UsersIcon',
        title: 'Identity and Access Management',
        description: 'Ensure that the right users have the appropriate access to technology resources.',
        links: [
            {
                href: '/iam/authentication-policy/authentication-factors',
                title: 'Authentication Policy',
            },
            {
                href: '/settings/my-user-access',
                title: 'My User Access',
            },
            {
                href: '/iam/user-access/users',
                title: 'User Access',
            },
        ],
    },
    {
        icon: 'InfrastructureIcon',
        title: 'Infrastructure',
        description: 'Manage your infrastructure across the hybrid cloud.',
        links: [
            {
                href: '/openshift',
                title: 'Clusters',
            },
            {
                href: '/openshift/overview',
                title: 'OpenShift',
            },
            {
                href: '/openshift/releases',
                title: 'Releases',
            },
        ],
    },
    {
        icon: 'BellIcon',
        title: 'Integrations and Notifications',
        description: 'Alerts users to events, using email and integrations such as webhooks.',
        links: [
            {
                href: '/settings/integrations',
                title: 'Integrations',
            },
            {
                href: '/settings/notifications/console',
                title: 'Notifications',
            },
            {
                href: '/settings/sources',
                title: 'Sources',
            },
        ],
    },
    {
        icon: 'InfrastructureIcon',
        title: 'Inventories',
        description: "View OpenShift clusters, Edge systems, RHEL hosts, and your organization's subscriptions.",
        links: [
            {
                href: '/openshift',
                title: 'Clusters',
            },
            {
                href: '/edge/fleet-management',
                title: 'Edge',
            },
            {
                href: '/insights/subscriptions/inventory',
                title: 'Subscriptions',
            },
            {
                href: '/insights/inventory',
                title: 'Systems',
            },
        ],
    },
    {
        icon: 'ChartLineIcon',
        title: 'Observe',
        description: 'Monitor, troubleshoot, and improve application performance.',
        links: [
            {
                isGroup: true,
                title: 'Ansible',
                links: [
                    {
                        href: '/ansible/advisor/recommendations#workloads=Ansible+Automation+Platform&SIDs=&tags=',
                        title: 'Advisor',
                    },
                    {
                        href: '/ansible/drift',
                        title: 'Drift',
                    },
                    {
                        href: '/ansible/policies',
                        title: 'Policies',
                    },
                ],
            },
            {
                isGroup: true,
                title: 'OpenShift',
                links: [
                    {
                        href: '/openshift/insights/advisor/recommendations',
                        title: 'Advisor',
                    },
                    {
                        href: '/openshift/insights/vulnerability',
                        title: 'Vulnerability',
                    },
                ],
            },
            {
                isGroup: true,
                title: 'RHEL',
                links: [
                    {
                        href: '/insights/advisor/recommendations',
                        title: 'Advisor',
                    },
                    {
                        href: '/insights/drift',
                        title: 'Drift',
                    },
                    {
                        href: '/insights/patch/advisories',
                        title: 'Patch',
                    },
                    {
                        href: '/insights/policies/list',
                        title: 'Policies',
                    },
                    {
                        href: '/insights/remediations',
                        title: 'Remediations',
                    },
                    {
                        href: '/insights/ros',
                        title: 'Resource Optimization',
                    },
                ],
            },
        ],
    },
    {
        icon: 'CloudSecurityIcon',
        title: 'Security',
        description: 'Meet your policy and compliance objectives.',
        links: [
            {
                href: '/application-services/acs/overview',
                title: 'Advanced Cluster Security',
            },
            {
                isGroup: true,
                title: 'Ansible',
                links: [
                    {
                        href: '/ansible/remediations',
                        title: 'Remediations',
                    },
                ],
            },
            {
                isGroup: true,
                title: 'OpenShift',
                links: [
                    {
                        href: '/openshift/insights/vulnerability',
                        title: 'Vulnerability',
                    },
                ],
            },
            {
                isGroup: true,
                title: 'RHEL',
                links: [
                    {
                        href: '/insights/advisor/recommendations',
                        title: 'Advisor',
                    },
                    {
                        href: '/insights/compliance',
                        title: 'Compliance',
                    },
                    {
                        href: '/edge/fleet-management',
                        title: 'Edge',
                    },
                    {
                        href: '/insights/malware',
                        title: 'Malware',
                    },
                    {
                        href: '/insights/patch/advisories',
                        title: 'Patch',
                    },
                    {
                        href: '/insights/tasks',
                        title: 'Tasks',
                    },
                    {
                        href: '/insights/vulnerability/cves',
                        title: 'Vulnerability',
                    },
                ],
            },
        ],
    },
    {
        icon: 'CreditCardIcon',
        title: 'Spend Management',
        description: 'Control costs and monitor committed spend.',
        links: [
            {
                href: '/openshift/cost-management',
                title: 'Cost Management',
            },
            {
                href: '/insights/subscriptions/inventory',
                title: 'Subscription Inventory',
            },
        ],
    },
    {
        icon: 'CogIcon',
        title: 'System Configuration',
        description: 'Connect your RHEL systems to Hybrid Cloud Console services.',
        links: [
            {
                href: '/settings/connector/activation-keys',
                title: 'Activation Keys',
            },
            {
                href: '/insights/subscriptions/manifests',
                title: 'Manifests',
            },
            {
                href: '/insights/registration',
                title: 'Register Systems',
            },
            {
                href: '/settings/connector',
                title: 'Remote Host Configuration',
            },
        ],
    },
    {
        icon: 'ShoppingCartIcon',
        title: 'Try and Buy',
        description: 'Our no-cost trials help you gain hands-on experience, prepare for a certification, or assess if a product is right for your organization.',
        links: [
            {
                href: '/openshift/sandbox',
                title: 'Developer Sandbox',
            },
            {
                isExternal: true,
                href: 'https://marketplace.redhat.com/en-us',
                title: 'Red Hat Marketplace',
            },
            {
                isExternal: true,
                href: 'https://www.redhat.com/en/products/trials',
                title: 'Red Hat Product Trials',
            },
        ],
    },
];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (allServicesLinks);


/***/ }),

/***/ "./src/components/AppFilter/AppFilter.tsx":
/*!************************************************!*\
  !*** ./src/components/AppFilter/AppFilter.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "webpack/sharing/consume/default/react-dom/react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_caret_down_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/caret-down-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/caret-down-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_filter_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/filter-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/filter-icon.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _AppFilter_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AppFilter.scss */ "./src/components/AppFilter/AppFilter.scss");
/* harmony import */ var _useAppFilter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useAppFilter */ "./src/components/AppFilter/useAppFilter.ts");
/* harmony import */ var _ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ChromeLink/ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_7__);











const AppLinks = ({ id, title, links = [], setIsOpen }) => links.length > 0 ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "galleryItem" },
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Split, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.SplitItem, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.TextContent, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Text, { component: "h4" }, title),
                links.map(({ filterable, href, title, isHidden, ...rest }) => isHidden || !href ? null : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Text, { component: "p", key: `${id}-${href}`, onClick: () => setIsOpen?.(false) },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_6__["default"], { ...rest, title: title, href: href }, title))))))))) : null;
const AppFilterDropdown = ({ isLoaded, setIsOpen, isOpen, filterValue, setFilterValue, filteredApps }) => {
    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useLocation)();
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_8__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (isLoaded) {
            setIsOpen(false);
        }
    }, [pathname]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Dropdown, { className: "pf-m-full-height", toggle: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.DropdownToggle, { id: "toggle-id", onToggle: (_isOpen, event) => {
                if (!dropdownRef.current?.contains(event.target)) {
                    setIsOpen(!isOpen);
                }
            }, toggleIndicator: _patternfly_react_icons_dist_js_icons_caret_down_icon__WEBPACK_IMPORTED_MODULE_9__.CaretDownIcon }, "All apps and services"), isOpen: isOpen, ouiaId: "App Filter" }, react_dom__WEBPACK_IMPORTED_MODULE_1___default().createPortal(react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { ref: dropdownRef, className: "pf-c-dropdown chr-c-page__app-filter-dropdown-menu", "data-testid": "chr-c__find-app-service" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "pf-c-dropdown__menu" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-app-filter-content" }, isLoaded ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Flex, { className: "chr-l-flex-app-filter-search" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.SearchInput, { "data-ouia-component-id": "app-filter-search", placeholder: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].findAppOrService), value: filterValue, onChange: (val) => setFilterValue(val), onClear: (e) => {
                            setFilterValue('');
                            e.stopPropagation();
                        } })),
                filteredApps?.length > 0 ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "gallery" }, filteredApps.map((app) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AppLinks, { key: app.id, ...app, setIsOpen: setIsOpen }))))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.EmptyState, { className: "pf-u-mt-xl", variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.EmptyStateVariant.full },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.EmptyStateIcon, { className: "pf-u-mb-xl", icon: _patternfly_react_icons_dist_js_icons_filter_icon__WEBPACK_IMPORTED_MODULE_10__["default"] }),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Title, { headingLevel: "h4" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].noMatchingAppsFound)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.EmptyStateBody, { className: "pf-u-mb-xl" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].tryChangingSearch)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Button, { ouiaId: "app-filter-clear-input", className: "pf-u-mt-lg", variant: "link", onClick: (e) => {
                            setFilterValue('');
                            e.stopPropagation();
                        } }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].clearFilters)))))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Bullseye, { className: "pf-u-p-xl" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Spinner, null)))))), document.body)));
};
const AppFilter = () => {
    const { filteredApps, isLoaded, isOpen, setIsOpen, filterValue, setFilterValue } = (0,_useAppFilter__WEBPACK_IMPORTED_MODULE_5__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AppFilterDropdown, { isLoaded: isLoaded, setIsOpen: setIsOpen, isOpen: isOpen, filterValue: filterValue, setFilterValue: setFilterValue, filteredApps: filteredApps })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppFilter);


/***/ }),

/***/ "./src/components/AppFilter/index.ts":
/*!*******************************************!*\
  !*** ./src/components/AppFilter/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _AppFilter__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _AppFilter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AppFilter */ "./src/components/AppFilter/AppFilter.tsx");



/***/ }),

/***/ "./src/components/AppFilter/useAppFilter.ts":
/*!**************************************************!*\
  !*** ./src/components/AppFilter/useAppFilter.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "requiredBundles": () => (/* binding */ requiredBundles)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _utils_isNavItemVisible__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/isNavItemVisible */ "./src/utils/isNavItemVisible.ts");
/* harmony import */ var _utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/useRenderFedramp */ "./src/utils/useRenderFedramp.ts");






const requiredBundles = [
    'application-services',
    'openshift',
    'insights',
    'edge',
    'ansible',
    'settings',
    'iam',
    ...((0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isBeta)() && !(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isProd)() ? ['business-services'] : []),
];
const bundlesOrder = [
    'application-services',
    'openshift',
    'rhel',
    'edge',
    'ansible',
    'settings',
    'cost-management',
    'subscriptions',
    'iam',
    'business-services',
];
const isFedrampEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFedRamp)();
function findModuleByLink(href, { modules } = { modules: [] }) {
    const routes = (modules || [])
        .flatMap(({ routes }) => routes.map((route) => (typeof route === 'string' ? route : route.pathname)))
        .sort((a, b) => (a.length < b.length ? 1 : -1));
    return routes.find((route) => href.includes(route)) || '';
}
function getBundleLink({ title, isExternal, href, routes, expandable, ...rest }, modules) {
    const costLinks = [];
    const subscriptionsLinks = [];
    let url = href;
    let appId = rest.appId;
    let isFedramp = (0,_utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_5__.computeFedrampResult)(isFedrampEnv, url, modules[appId]);
    if (expandable) {
        routes?.forEach(({ href, title, ...rest }) => {
            if (href?.includes('/openshift/cost-management') && rest.filterable !== false) {
                costLinks.push({ ...rest, isFedramp: false, href, title });
            }
            if (rest.filterable !== false && (href?.includes('/insights/subscriptions') || href?.includes('/openshift/subscriptions'))) {
                subscriptionsLinks.push({
                    ...rest,
                    isFedramp: false,
                    href,
                    title,
                });
            }
            if (!url && href?.match(/^\//)) {
                const moduleRoute = isExternal ? '' : findModuleByLink(href, modules[rest.appId]);
                const truncatedRoute = href.split('/').slice(0, 3).join('/');
                url = isExternal ? href : moduleRoute.length > truncatedRoute.length ? moduleRoute : truncatedRoute;
                appId = rest.appId ? rest.appId : appId;
                isFedramp = (0,_utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_5__.computeFedrampResult)(isFedrampEnv, url, modules[appId]);
            }
        });
    }
    return {
        ...rest,
        isFedramp,
        appId,
        isExternal,
        title,
        href: url,
        costLinks,
        subscriptionsLinks,
    };
}
const isDuplicate = (items, href) => !!items.find((item) => item.href === href);
const useAppFilter = () => {
    const isBetaEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isBeta)();
    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        isLoaded: false,
        isLoading: false,
        isOpen: false,
        filterValue: '',
        data: {
            'cost-management': {
                id: 'cost-management',
                title: 'Cost Management',
                links: [],
            },
            subscriptions: {
                id: 'subscriptions',
                title: 'Subscriptions',
                links: [],
            },
        },
    });
    const existingSchemas = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { navigation } }) => navigation);
    const modules = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { modules } }) => modules);
    const handleBundleData = async ({ data: { id, navItems, title } }) => {
        const links = navItems
            ?.reduce((acc, curr) => {
            if (curr.groupId && curr.navItems) {
                return [...acc, ...curr.navItems.map(({ groupId, navItems, ...rest }) => (groupId ? navItems || [] : rest))];
            }
            return [...acc, curr];
        }, [])
            .flat()
            .map((link) => getBundleLink(link, modules || {}))
            .filter(({ isFedramp }) => (isFedrampEnv ? !!isFedramp : true))
            .filter(({ filterable }) => filterable !== false) || [];
        const bundleLinks = [];
        const extraLinks = {
            cost: [],
            subs: [],
        };
        const promises = links.map(async ({ costLinks, subscriptionsLinks, ...rest }) => {
            const nextIndex = bundleLinks.length;
            if (costLinks.length > 0) {
                extraLinks.cost = await costLinks.filter(_utils_isNavItemVisible__WEBPACK_IMPORTED_MODULE_4__.evaluateVisibility);
            }
            if (subscriptionsLinks.length > 0) {
                extraLinks.subs = await subscriptionsLinks.filter(_utils_isNavItemVisible__WEBPACK_IMPORTED_MODULE_4__.evaluateVisibility);
            }
            if (rest.filterable !== true && (subscriptionsLinks.length > 0 || costLinks.length > 0)) {
                return;
            }
            /**
             * We have to create a placeholder for the link item, in order to preserver the links order
             */
            bundleLinks.push({ ...rest, isHidden: true });
            const link = await (0,_utils_isNavItemVisible__WEBPACK_IMPORTED_MODULE_4__.evaluateVisibility)(rest);
            bundleLinks[nextIndex] = link;
        });
        await Promise.all(promises);
        setState((prev) => ({
            ...prev,
            isLoaded: true,
            data: {
                ...prev.data,
                [id]: {
                    id,
                    title,
                    links: bundleLinks,
                },
                'cost-management': {
                    ...prev.data['cost-management'],
                    links: [
                        ...prev.data['cost-management'].links,
                        ...extraLinks.cost.filter((item) => !isDuplicate(prev.data['cost-management'].links, item.href)),
                    ],
                },
                subscriptions: {
                    ...prev.data.subscriptions,
                    links: [...prev.data.subscriptions.links, ...extraLinks.subs.filter((item) => !isDuplicate(prev.data.subscriptions.links, item.href))],
                },
            },
        }));
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (state.isOpen && !state.isLoading && !state.isLoaded) {
            setState((prev) => ({
                ...prev,
                isLoading: true,
            }));
            const bundles = requiredBundles.filter((app) => !Object.keys(existingSchemas).includes(app));
            bundles.map((fragment) => axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${isBetaEnv ? '/beta' : ''}/config/chrome/${fragment}-navigation.json?ts=${Date.now()}`)
                .then(handleBundleData)
                .then(() => Object.values(existingSchemas).map((data) => handleBundleData({ data })))
                .catch((err) => {
                console.error('Unable to load appfilter bundle', err, fragment);
            }));
        }
    }, [state.isOpen]);
    const setIsOpen = (isOpen) => {
        setState((prev) => ({
            ...prev,
            isOpen,
        }));
    };
    const setFilterValue = (filterValue = '') => {
        setState((prev) => ({
            ...prev,
            filterValue,
        }));
    };
    const filterApps = (data, filterValue = '') => Object.entries(data).reduce((acc, [key, { links, ...rest }]) => {
        if (rest?.title?.toLowerCase().includes(filterValue.toLowerCase())) {
            return {
                ...acc,
                [key]: {
                    ...rest,
                    links,
                },
            };
        }
        return {
            ...acc,
            [key]: {
                ...rest,
                links: links.filter(({ title, isHidden }) => !isHidden && title?.toLowerCase().includes(filterValue.toLowerCase())),
            },
        };
    }, {});
    const filteredApps = filterApps(state.data, state.filterValue);
    return {
        ...state,
        setIsOpen,
        setFilterValue,
        filteredApps: bundlesOrder
            .map((app) => filteredApps[app])
            .filter((app) => typeof app !== 'undefined')
            .filter(({ links }) => links.length > 0),
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useAppFilter);


/***/ }),

/***/ "./src/components/BetaInfoModal/BetaInfoModal.tsx":
/*!********************************************************!*\
  !*** ./src/components/BetaInfoModal/BetaInfoModal.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_info_circle_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/info-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/info-circle-icon.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");





const BetaInfoModal = ({ isOpen, onClick, onCancel, menuItemClicked }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_3__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Modal, { "aria-label": "Beta info modal", isOpen: isOpen, onClose: onCancel, variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ModalVariant.medium },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "pf-u-m-md pf-u-text-align-center" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { size: "xl", iconSize: "xl", status: "info", className: "pf-u-m-md" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_info_circle_icon__WEBPACK_IMPORTED_MODULE_4__.InfoCircleIcon, null)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "h2" }, `${menuItemClicked} is only available in our Beta Environment`),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "p" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].tryThisFeatureInBeta)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "p" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].afterBetaUse))),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { key: "confirm", variant: "primary", onClick: onClick, className: "pf-u-mt-md" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].useFeatureInBeta)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, { className: "pf-u-mt-md" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "a", href: "https://access.redhat.com/support/policy/updates/cloud-redhat/lifecycle" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].learnMoreABoutBeta)))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BetaInfoModal);


/***/ }),

/***/ "./src/components/BetaInfoModal/index.ts":
/*!***********************************************!*\
  !*** ./src/components/BetaInfoModal/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _BetaInfoModal__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _BetaInfoModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BetaInfoModal */ "./src/components/BetaInfoModal/BetaInfoModal.tsx");



/***/ }),

/***/ "./src/components/ChromeLink/ChromeLink.tsx":
/*!**************************************************!*\
  !*** ./src/components/ChromeLink/ChromeLink.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _scalprum_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @scalprum/core */ "./node_modules/@scalprum/core/dist/esm/index.js");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _Navigation_navContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Navigation/navContext */ "./src/components/Navigation/navContext.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");







const LinkWrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ documentTitleUpdate, href, isBeta, onLinkClick, className, currAppId, appId, children, tabIndex }) => {
    const linkRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    const moduleRoutes = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { moduleRoutes } }) => moduleRoutes);
    const moduleEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => moduleRoutes.find((route) => href.includes(route.path)), [href, appId]);
    const defaultTitle = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { modules } }) => appId && modules?.[appId]?.defaultDocumentTitle);
    const preloadTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    let actionId = href.split('/').slice(2).join('/');
    if (actionId.includes('/')) {
        actionId = actionId.split('/').pop();
    }
    if (currAppId !== appId && href.split('/').length === 3) {
        actionId = '/';
    }
    /**
     * If the sub nav item points to application root
     * eg. /openshift/cost-management we don't want to send "/cost-management" but "/"
     * We are not in app sub route but in app root
     */
    const domEvent = {
        href,
        id: actionId,
        navId: actionId,
        /**
         * @deprecated
         * Remove once nav overhaul is in all environments
         */
        type: 'click',
    };
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const onClick = (event) => {
        if (defaultTitle || documentTitleUpdate || appId) {
            (0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.updateDocumentTitle)(defaultTitle || documentTitleUpdate || appId);
        }
        if (event.ctrlKey || event.shiftKey) {
            return false;
        }
        if (onLinkClick && isBeta) {
            if (!onLinkClick(event, href)) {
                return false;
            }
        }
        /**
         * Add reference to the DOM link element
         */
        domEvent.target = linkRef.current;
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.appNavClick)({ id: actionId }, domEvent));
    };
    // turns /settings/rbac/roles -> settings_rbac_roles
    const quickStartHighlightId = href
        .split('/')
        .slice(href.startsWith('/') ? 1 : 0)
        .join('_');
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.NavLink, { onMouseEnter: () => {
            if (moduleEntry) {
                preloadTimeout.current = setTimeout(() => {
                    (0,_scalprum_core__WEBPACK_IMPORTED_MODULE_3__.preloadModule)(moduleEntry?.scope, moduleEntry?.module);
                }, 250);
            }
        }, onMouseLeave: () => {
            if (preloadTimeout.current) {
                clearTimeout(preloadTimeout.current);
            }
        }, tabIndex: tabIndex, ref: linkRef, "data-testid": "router-link", onClick: onClick, to: href, className: className, "data-quickstart-id": quickStartHighlightId }, children));
});
LinkWrapper.displayName = 'MemoizedLinkWrapper';
const basepath = document.baseURI;
// eslint-disable-next-line @typescript-eslint/no-unused-vars
const cleanRefreshLinkProps = ({ active, onClick, appId, currAppId, documentTitleUpdate, ...rest }) => rest;
const RefreshLink = (props) => {
    const { href, isExternal, onLinkClick, isBeta, ...rest } = cleanRefreshLinkProps(props);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { "data-testid": "native-link", href: isExternal ? href : `${basepath}${href.replace(/^\//, '')}`, ...(isExternal
            ? {
                rel: 'noreferrer noopener',
                target: '_blank',
            }
            : {}), onClick: (event) => {
            if (onLinkClick && isBeta && !isExternal) {
                if (!onLinkClick(event, href)) {
                    return false;
                }
            }
        }, ...rest }));
};
const ChromeLink = ({ appId, children, ...rest }) => {
    const { onLinkClick, isNavOpen, inPageLayout } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Navigation_navContext__WEBPACK_IMPORTED_MODULE_5__["default"]);
    const currAppId = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.appId);
    const LinkComponent = !rest.isExternal ? LinkWrapper : RefreshLink;
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LinkComponent, { ...(inPageLayout && !isNavOpen ? { tabIndex: -1 } : {}), onLinkClick: onLinkClick, appId: appId, currAppId: currAppId, ...rest }, children));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeLink);


/***/ }),

/***/ "./src/components/ChromeLink/index.ts":
/*!********************************************!*\
  !*** ./src/components/ChromeLink/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _ChromeLink__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");



/***/ }),

/***/ "./src/components/ChromeRoute/ChromeRoute.tsx":
/*!****************************************************!*\
  !*** ./src/components/ChromeRoute/ChromeRoute.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scalprum/react-core */ "webpack/sharing/consume/default/@scalprum/react-core/@scalprum/react-core");
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/loading-fallback */ "./src/utils/loading-fallback.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _ErrorComponents_DefaultErrorComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ErrorComponents/DefaultErrorComponent */ "./src/components/ErrorComponents/DefaultErrorComponent.tsx");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../analytics */ "./src/analytics/index.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _ErrorComponents_GatewayErrorComponent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ErrorComponents/GatewayErrorComponent */ "./src/components/ErrorComponents/GatewayErrorComponent.tsx");










// eslint-disable-next-line react/display-name
const ChromeRoute = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(({ scope, module, scopeClass, path }) => {
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
    const { setActiveHelpTopicByName } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_8__.HelpTopicContext);
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome: { user } }) => user);
    const gatewayError = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome: { gatewayError } }) => gatewayError);
    const activeModule = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome: { activeModule } }) => activeModule);
    const defaultTitle = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome: { modules } }) => modules?.[scope]?.defaultDocumentTitle || scope);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.batch)(() => {
            // Only trigger update on a first application render before any active module has been selected
            // should be triggered only once per session
            if (!activeModule) {
                /**
                 * Default document title update. If application won't update its title chrome sets a title using module config
                 */
                dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.updateDocumentTitle)(defaultTitle));
            }
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.changeActiveModule)(scope));
        });
        /**
         * update pendo metadata on application change
         */
        try {
            window?.pendo?.updateOptions((0,_analytics__WEBPACK_IMPORTED_MODULE_6__.getPendoConf)(user));
        }
        catch (error) {
            console.error('Unable to update pendo options');
            console.error(error);
        }
        /**
         * TODO: Discuss default close feature of topics
         * Topics drawer has no close button, therefore there might be an issue with opened topics after user changes route and does not clear the active topic trough the now non existing elements.
         */
        setActiveHelpTopicByName && setActiveHelpTopicByName('');
        return () => {
            /**
             * Reset global filter when switching application
             */
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_4__.toggleGlobalFilter)(false));
        };
    }, [scope]);
    if (gatewayError) {
        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ErrorComponents_GatewayErrorComponent__WEBPACK_IMPORTED_MODULE_9__["default"], { error: gatewayError });
    }
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement("main", { role: "main", className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(scopeClass, scope) },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_0__.ScalprumComponent
        // TODO: fix in scalprum. The async loader is no triggred when module/scope changes. We had tp abuse the key
        , { 
            // TODO: fix in scalprum. The async loader is no triggred when module/scope changes. We had tp abuse the key
            key: path, ErrorComponent: react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ErrorComponents_DefaultErrorComponent__WEBPACK_IMPORTED_MODULE_5__["default"], null), fallback: _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_2__["default"], 
            // LoadingFallback={() => LoadingFallback}
            scope: scope, module: module })));
}, 
// prevent unecessary re-render that can trigger initialization phase of a module
(prevProps, nextProps) => prevProps.scope === nextProps.scope &&
    prevProps.module === nextProps.module &&
    prevProps.scopeClass === nextProps.scopeClass &&
    prevProps.path === nextProps.path);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeRoute);


/***/ }),

/***/ "./src/components/ChromeRoute/index.ts":
/*!*********************************************!*\
  !*** ./src/components/ChromeRoute/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _ChromeRoute__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ChromeRoute__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeRoute */ "./src/components/ChromeRoute/ChromeRoute.tsx");



/***/ }),

/***/ "./src/components/ContextSwitcher/index.tsx":
/*!**************************************************!*\
  !*** ./src/components/ContextSwitcher/index.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-icon.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _ContextSwitcher_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ContextSwitcher.scss */ "./src/components/ContextSwitcher/ContextSwitcher.scss");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/consts */ "./src/utils/consts.ts");














const ContextSwitcher = ({ user, className }) => {
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_10__["default"])();
    const isOpen = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.contextSwitcherOpen);
    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
    const [searchValue, setSearchValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [selectedAccountNumber, setSelectedAccountNumber] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(user.identity.account_number);
    const onSelect = () => {
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_6__.onToggleContextSwitcher)());
    };
    const handleItemClick = (target_account, request_id, end_date, target_org) => {
        if (!target_org || !target_account || target_account === selectedAccountNumber) {
            return;
        }
        localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.ACTIVE_ACCOUNT_SWITCH_NOTIFICATION);
        localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.REQUESTS_COUNT);
        localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.REQUESTS_DATA);
        setSelectedAccountNumber(target_account);
        js_cookie__WEBPACK_IMPORTED_MODULE_8__["default"].set(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.CROSS_ACCESS_ACCOUNT_NUMBER, target_account);
        js_cookie__WEBPACK_IMPORTED_MODULE_8__["default"].set(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.CROSS_ACCESS_ORG_ID, target_org);
        /**
         * We need to keep the request id somewhere to check if the request is still active after session start.
         * If it is not active, we have to remove the cookie.
         * This has to happen before ANY API call is made.
         */
        localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.ACTIVE_REMOTE_REQUEST, JSON.stringify({
            request_id,
            target_account,
            end_date,
        }));
        localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.ACTIVE_ACCOUNT_SWITCH_NOTIFICATION, 'true');
        window.location.reload();
    };
    const resetAccountRequest = () => {
        if (user?.identity?.account_number === selectedAccountNumber) {
            return;
        }
        setSelectedAccountNumber(user?.identity?.account_number);
        js_cookie__WEBPACK_IMPORTED_MODULE_8__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.CROSS_ACCESS_ACCOUNT_NUMBER);
        js_cookie__WEBPACK_IMPORTED_MODULE_8__["default"].remove(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.CROSS_ACCESS_ORG_ID);
        localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.ACTIVE_REMOTE_REQUEST);
        window.location.reload();
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        let mounted = true;
        // only inernal users have the TAM features enabled
        if (user?.identity?.user?.is_internal) {
            const initialAccount = localStorage.getItem(_utils_consts__WEBPACK_IMPORTED_MODULE_9__.ACTIVE_REMOTE_REQUEST);
            if (initialAccount) {
                try {
                    setSelectedAccountNumber(JSON.parse(initialAccount).target_account);
                }
                catch {
                    console.log('Unable to parse initial account. Using default account');
                }
            }
            axios__WEBPACK_IMPORTED_MODULE_4___default().get('/api/rbac/v1/cross-account-requests/', {
                params: {
                    status: 'approved',
                    order_by: '-created',
                    query_by: 'user_id',
                },
            })
                .then(({ data: { data } }) => {
                if (mounted) {
                    setData(data
                        .reduce((acc, curr) => {
                        const request = acc.find(({ target_account }) => target_account === curr.target_account);
                        if (request) {
                            return acc;
                        }
                        return [...acc, curr];
                    }, [])
                        .filter(({ target_account }) => target_account !== user.identity.account_number));
                }
            });
        }
        return () => {
            mounted = false;
        };
    }, []);
    if (data.length === 0) {
        return null;
    }
    const filteredData = data && data.filter(({ target_account }) => `${target_account}`.includes(searchValue));
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ContextSelector, { toggleText: `Account: ${selectedAccountNumber}`, className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('chr-c-context-selector', className), onSearchInputChange: (val) => setSearchValue(val), isOpen: isOpen, searchInputValue: searchValue, onToggle: onSelect, onSelect: onSelect, screenReaderLabel: "Selected account:`", ouiaId: "Account Switcher", searchInputPlaceholder: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].searchAccount), isFullHeight: true },
        user && user?.identity?.account_number.includes(searchValue) ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ContextSelectorItem, { onClick: resetAccountRequest },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, { className: "chr-c-content-personal-account" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { className: "account-label pf-u-mb-0 sentry-mask data-hj-suppress" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, user?.identity?.account_number),
                    user?.identity?.account_number === `${selectedAccountNumber}` && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_11__["default"], { size: "sm", color: "var(--pf-global--primary-color--100)", className: "pf-u-ml-auto" }))),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "small" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].personalAccount))))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null)),
        filteredData?.length === 0 ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ContextSelectorItem, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].noResults)) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null),
        filteredData ? (filteredData.map(({ target_account, request_id, end_date, target_org }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ContextSelectorItem, { onClick: () => handleItemClick(target_account, request_id, end_date, target_org), key: request_id },
            target_account,
            target_account === selectedAccountNumber && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_11__["default"], { size: "sm", color: "var(--pf-global--primary-color--100)", className: "pf-u-ml-auto" })))))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ContextSelectorItem, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner, { size: "md" }))))));
};
ContextSwitcher.propTypes = {
    user: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContextSwitcher);


/***/ }),

/***/ "./src/components/ErrorComponents/DefaultErrorComponent.tsx":
/*!******************************************************************!*\
  !*** ./src/components/ErrorComponents/DefaultErrorComponent.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/core/esm/exports.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/exclamation-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-circle-icon.js");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _ErrorComponent_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ErrorComponent.scss */ "./src/components/ErrorComponents/ErrorComponent.scss");








const DefaultErrorComponent = (props) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const [sentryId, setSentryId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        const sentryId = _sentry_react__WEBPACK_IMPORTED_MODULE_6__.captureException(new Error('Unhandled UI runtime error'), {
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            bundle: (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)('bundle'),
            app: (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)('app'),
            error: (props.error instanceof Error && props.error?.message) || props.error,
            trace: props.errorInfo?.componentStack || (props.error instanceof Error && props.error?.stack) || props.error,
        });
        setSentryId(sentryId);
        // explicitely track chunk loading errors
        if (typeof props.error?.message === 'string' && props.error.message.includes('Loading chunk') && window.segment) {
            window.segment.track('chunk-loading-error', {
                bundle: (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)('bundle'),
                app: (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)(),
                pathname: window.location.pathname,
                message: props.error.message,
                sentryId,
            });
        }
    }, []);
    const stack = props.errorInfo?.componentStack || (props.error instanceof Error && props.error?.stack) || props.error;
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, { className: "chr-c-error-component" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, { color: "var(--pf-global--danger-color--200)", icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_7__["default"] }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, { size: "lg", headingLevel: "h1" },
                intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].somethingWentWrong),
                "\u00A0",
                sentryId && intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].globalRuntimeErrorId, { errorId: sentryId })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", { className: "chr-c-error-component__text" },
                    intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].problemProcessingRequest),
                    ' ',
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { target: "_blank", href: "https://access.redhat.com/support", rel: "noreferrer" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].redHatSupport)),
                    ' ',
                    intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].checkOur),
                    ' ',
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: "https://status.redhat.com/", target: "_blank", rel: "noreferrer" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].statusPage)),
                    ' ',
                    intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].knownOutages)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Flex, { alignContent: { default: 'alignContentCenter' }, direction: { default: 'column' } },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.FlexItem, null,
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ExpandableSection, { toggleTextExpanded: "Show less", toggleTextCollapsed: "Show more" },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
                                typeof props?.error === 'string' && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { className: "error-text" }, props.error),
                                typeof props?.error === 'object' && typeof props?.error?.message === 'string' && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { className: "error-text" }, props.error.message)),
                                typeof stack === 'string' && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { className: "error-text", component: "pre" }, stack.split('\n').map((content, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "error-line", key: index }, content)))))))))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStatePrimary, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { component: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: "/" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].returnToHomepage)), variant: "primary" })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultErrorComponent);


/***/ }),

/***/ "./src/components/ErrorComponents/ErrorBoundary.tsx":
/*!**********************************************************!*\
  !*** ./src/components/ErrorComponents/ErrorBoundary.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _DefaultErrorComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DefaultErrorComponent */ "./src/components/ErrorComponents/DefaultErrorComponent.tsx");


class ErrorBoundary extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {
    state = {
        hasError: false,
    };
    static getDerivedStateFromError() {
        return { hasError: true };
    }
    componentDidCatch(error, errorInfo) {
        console.error('Chrome encountered an error!', error);
        this.setState((prev) => ({
            ...prev,
            error,
            errorInfo,
        }));
    }
    render() {
        if (this.state.hasError) {
            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DefaultErrorComponent__WEBPACK_IMPORTED_MODULE_1__["default"], { error: this.state.error, errorInfo: this.state.errorInfo });
        }
        return this.props.children;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorBoundary);


/***/ }),

/***/ "./src/components/ErrorComponents/GatewayErrorComponent.tsx":
/*!******************************************************************!*\
  !*** ./src/components/ErrorComponents/GatewayErrorComponent.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redhat_cloud_services_frontend_components_NotAuthorized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/NotAuthorized */ "./node_modules/@redhat-cloud-services/frontend-components/esm/NotAuthorized/NotAuthorized.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sanitize_html__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanitize-html */ "./node_modules/sanitize-html/index.js");
/* harmony import */ var sanitize_html__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sanitize_html__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink/ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");








const MuaLink = (chunks) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { appId: "rbac", href: "/settings/my-user-access" }, chunks));
const Description = ({ detail, complianceError }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const description = intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_4__["default"].permissionErrorDescription, {
        MuaLink,
    });
    const errorDetail = intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_4__["default"].permissionErrorDetail, {
        message: detail || '',
    });
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.TextContent, null, detail && complianceError ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Text, { dangerouslySetInnerHTML: { __html: sanitize_html__WEBPACK_IMPORTED_MODULE_6___default()(detail) } })) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Text, null, description),
        detail && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__.Text, null, errorDetail)))));
};
const GatewayErrorComponent = ({ error }) => {
    // get active product, fallback to module name if product is not defined
    const serviceName = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => state.chrome.activeProduct || state.chrome.activeModule);
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_NotAuthorized__WEBPACK_IMPORTED_MODULE_7__["default"], { description: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Description, { complianceError: error.complianceError, detail: error.detail }), serviceName: serviceName });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GatewayErrorComponent);


/***/ }),

/***/ "./src/components/ErrorComponents/IDPError.tsx":
/*!*****************************************************!*\
  !*** ./src/components/ErrorComponents/IDPError.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/exclamation-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-circle-icon.js");
/* harmony import */ var _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jwt/jwt */ "./src/jwt/jwt.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");






const IDPError = () => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_4__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, { color: "var(--pf-global--danger-color--100)", icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_5__["default"] }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, { headingLevel: "h1", size: "lg" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].authFailure)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].accessRestricted)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: () => {
                    (0,_jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.logoutAllTabs)(true);
                }, variant: "primary" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].tryUsingDifferentAccount)))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IDPError);


/***/ }),

/***/ "./src/components/FavoriteServices/EmptyState.tsx":
/*!********************************************************!*\
  !*** ./src/components/FavoriteServices/EmptyState.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");



const EmptyState = () => (react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null,
    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.StackItem, { className: "chr-l-stack__item-centered" },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img", { src: "https://console.redhat.com/apps/frontend-assets/favoritedservices/favoriting-emptystate.svg", alt: "favoriting image" })),
    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.StackItem, { className: "chr-l-stack__item-centered pf-u-mt-md" },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "h3", className: "pf-m-center" }, "No favorited services"),
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "small", className: "pf-u-mt-sm" }, "Add a service to your favorites to get started here."))),
    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.StackItem, { className: "chr-l-stack__item-centered pf-u-mt-md" },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Button, { variant: "primary", alt: "View all services", component: (props) => react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { ...props, href: "/allservices" }) }, "View all services"))));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EmptyState);


/***/ }),

/***/ "./src/components/FavoriteServices/ServiceTile.tsx":
/*!*********************************************************!*\
  !*** ./src/components/FavoriteServices/ServiceTile.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/star-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/star-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_star_half_alt_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/star-half-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/star-half-alt-icon.js");
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");
/* harmony import */ var _hooks_useBundle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useBundle */ "./src/hooks/useBundle.ts");
/* harmony import */ var _ServiceTile_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ServiceTile.scss */ "./src/components/FavoriteServices/ServiceTile.scss");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @redhat-cloud-services/chrome */ "webpack/sharing/consume/default/@redhat-cloud-services/chrome/@redhat-cloud-services/chrome");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_5__);








// FIXME: Get the real description
const ServiceTile = ({ name, pathname, description = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit,', isExternal }) => {
    const bundle = _hooks_useBundle__WEBPACK_IMPORTED_MODULE_3__.bundleMapping[pathname.split('/')[1]];
    const { unfavoritePage } = (0,_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_5__.useFavoritePages)();
    const [mouseOver, setMouseOver] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { isExternal: isExternal, href: pathname, className: "chr-c-favorite-service__tile" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isSelectableRaised: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Split, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.SplitItem, { className: "pf-m-fill" }, name),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.SplitItem, null,
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: (e) => {
                                // do not trigger click events on the the parent elements
                                e.stopPropagation();
                                e.preventDefault();
                                unfavoritePage(pathname);
                            }, className: "pf-u-p-0", variant: "plain" },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { onMouseEnter: () => setMouseOver(true), onMouseLeave: () => setMouseOver(false), status: "warning" }, mouseOver ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_star_half_alt_icon__WEBPACK_IMPORTED_MODULE_6__["default"], null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_7__["default"], null))))),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "small" }, bundle),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "p" }, description))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServiceTile);


/***/ }),

/***/ "./src/components/FeatureFlags/FeatureFlagsProvider.tsx":
/*!**************************************************************!*\
  !*** ./src/components/FeatureFlags/FeatureFlagsProvider.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UNLEASH_ERROR_KEY": () => (/* binding */ UNLEASH_ERROR_KEY),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getFeatureFlagsError": () => (/* binding */ getFeatureFlagsError),
/* harmony export */   "unleashClient": () => (/* binding */ unleashClient)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @unleash/proxy-client-react */ "webpack/sharing/consume/default/@unleash/proxy-client-react/@unleash/proxy-client-react");
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/core/esm/exports.js");






const config = {
    url: `${document.location.origin}/api/featureflags/v0`,
    clientKey: 'proxy-123',
    appName: 'web',
    headerName: 'X-Unleash-Auth',
    refreshInterval: 60000,
    metricsInterval: 120000,
    fetch: (url, headers) => {
        /**
         * The default fetch handler in the client does not handle 500 errors and does not set the error flag or calls the on('error') listener.
         * So we need a little bit of cheating to unblock the flagError and flagsReady variables
         */
        return window
            .fetch(url, headers)
            .then((resp) => {
            // prevent the request from falling back to default error behavior
            //add warning level
            if (resp.status >= 400) {
                _sentry_react__WEBPACK_IMPORTED_MODULE_3__.captureMessage(`Feature loading error server error! ${resp.status}: ${resp.statusText}.`, 'warning');
                throw new Error(`Feature loading error server error! ${resp.status}: ${resp.statusText}.`);
            }
            const contentType = resp.headers.get('content-type');
            // make sure the response has correct content type
            // in case the API falls back to the chrome HTML template
            if (!contentType?.includes('application/json')) {
                throw new Error(`Feature loading error server error! Invalid response content type. Expected 'application/json, got: ${contentType}'`);
            }
            return resp;
        })
            .catch((err) => {
            (0,_sentry_react__WEBPACK_IMPORTED_MODULE_3__.captureException)(err);
            // set the error flag
            localStorage.setItem(UNLEASH_ERROR_KEY, 'true');
            return {
                headers: {
                    get: () => '',
                },
                json: () => Promise.resolve({ toggles: [] }),
                ok: true,
            };
        });
    },
};
const UNLEASH_ERROR_KEY = 'chrome:feature-flags:error';
/**
 * Clear error localstorage flag before initialization
 */
localStorage.setItem(UNLEASH_ERROR_KEY, 'false');
let unleashClient;
const getFeatureFlagsError = () => localStorage.getItem(UNLEASH_ERROR_KEY) === 'true';
const FeatureFlagsProvider = ({ children }) => {
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state) => state.chrome.user);
    const unleashClientInternal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    // create the unleash client only after the user object is avaiable
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (user && !unleashClientInternal.current) {
            unleashClientInternal.current = new _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1__.UnleashClient({
                ...config,
                context: {
                    properties: {
                        account_number: user.identity.account_number,
                    },
                },
            });
            unleashClient = unleashClientInternal.current;
            unleashClient.on('error', (error) => {
                console.log('error', error);
                localStorage.setItem(UNLEASH_ERROR_KEY, 'true');
            });
        }
    }, [user]);
    // fallback to render the chrome withouth the feature flags if the provider is not initialized properly
    if (getFeatureFlagsError() || !unleashClientInternal.current) {
        // Fallback to handle errored client. The default flags provides has silent error handling if the client fails to initialize
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1__.FlagProvider, { config: config }, children);
    }
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_1___default()), { unleashClient: unleashClientInternal.current }, children);
};
FeatureFlagsProvider.propTypes = {
    children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeatureFlagsProvider);


/***/ }),

/***/ "./src/components/FeatureFlags/index.ts":
/*!**********************************************!*\
  !*** ./src/components/FeatureFlags/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureFlagsProvider": () => (/* reexport safe */ _FeatureFlagsProvider__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _FeatureFlagsProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FeatureFlagsProvider */ "./src/components/FeatureFlags/FeatureFlagsProvider.tsx");



/***/ }),

/***/ "./src/components/Feedback/FeedbackError.tsx":
/*!***************************************************!*\
  !*** ./src/components/Feedback/FeedbackError.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-icon.js");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _Feedback_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Feedback.scss */ "./src/components/Feedback/Feedback.scss");






const FeedbackError = ({ onCloseModal }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_4__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-success-content" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_5__["default"], { size: "md", color: "var(--pf-global--success-color--100)", className: "pf-u-mx-auto" }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextVariants.h1 }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].somethingWentWrong)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null,
                intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].problemProcessingRequest),
                ' ',
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { target: "_blank", href: "https://access.redhat.com/support", rel: "noreferrer" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].redHatSupport)))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { variant: "primary", onClick: onCloseModal }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].close))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackError);


/***/ }),

/***/ "./src/components/Feedback/FeedbackForm.tsx":
/*!**************************************************!*\
  !*** ./src/components/Feedback/FeedbackForm.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _Feedback_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Feedback.scss */ "./src/components/Feedback/Feedback.scss");






const FeedbackForm = ({ user, onCloseModal, onSubmit, onClickBack, handleFeedbackError, modalTitle, modalDescription, textareaLabel, feedbackType, checkboxDescription, textAreaHidden = false, submitTitle, }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const [textAreaValue, setTextAreaValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [checked, setChecked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const env = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getEnv)();
    const app = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getUrl)('app');
    const bundle = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getUrl)('bundle');
    const isAvailable = env === 'prod' || env === 'stage';
    const addFeedbackTag = () => ((0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isProd)() ? `[${bundle}]` : '[PRE-PROD]');
    async function handleModalSubmission() {
        const token = await window.insights.chrome.auth.getToken();
        if (isAvailable) {
            try {
                await fetch(`${window.origin}/api/platform-feedback/v1/issues`, {
                    method: 'POST',
                    headers: {
                        Accept: 'application/json',
                        Authorization: `Bearer ${token}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        description: `${feedbackType} ${textAreaValue}, Username: ${user.identity.user.username}, Account ID: ${user.identity.account_number}, Email: ${checked ? user.identity.user.email : ''}, URL: ${window.location.href}`,
                        summary: `${addFeedbackTag()} App Feedback`,
                        labels: [app, bundle],
                    }),
                }).then((response) => response.json());
                onSubmit();
            }
            catch (err) {
                console.error(err);
                handleFeedbackError();
            }
        }
        else {
            console.log('Submitting feedback only works in prod and stage');
        }
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-content" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextVariants.h1 }, modalTitle),
            modalDescription),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Form, null,
            textAreaHidden ? ('') : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.FormGroup, { label: textareaLabel, fieldId: "horizontal-form-exp" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextArea, { value: textAreaValue, onChange: (value) => setTextAreaValue(value), className: "chr-c-feedback-text-area", name: "feedback-description-text", id: "feedback-description-text" }))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.FormGroup, { className: "pf-u-mt-20" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Checkbox, { id: "feedback-checkbox", isChecked: checked, onChange: () => setChecked(!checked), label: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].researchOpportunities), description: checkboxDescription }))),
        checked ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "pf-u-font-family-heading-sans-serif chr-c-feedback-email" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].email)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Panel, { variant: "raised", className: "chr-c-feedback-panel" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PanelMain, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PanelMainBody, { className: "chr-c-feedback-panel__body" }, user.identity.user.email))))) : (''),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-buttons" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { ouiaId: "submit-feedback", className: "chr-c-feedback-footer-button", key: "confirm", variant: "primary", isDisabled: feedbackType !== '[Research Opportunities]' ? (textAreaValue.length > 1 ? false : true) : !checked, onClick: handleModalSubmission }, submitTitle),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { ouiaId: "back-feedback", className: "chr-c-feedback-footer-button", key: "back", variant: "secondary", onClick: onClickBack }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].back)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { ouiaId: "cancel-feedback", className: "chr-c-feedback-footer-button", key: "cancel", variant: "link", onClick: onCloseModal }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].cancel)))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackForm);


/***/ }),

/***/ "./src/components/Feedback/FeedbackModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/Feedback/FeedbackModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @patternfly/react-icons */ "./node_modules/@patternfly/react-icons/dist/esm/icons/external-link-alt-icon.js");
/* harmony import */ var _patternfly_react_icons__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @patternfly/react-icons */ "./node_modules/@patternfly/react-icons/dist/esm/icons/outlined-comments-icon.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _static_images_feedback_illo_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../static/images/feedback_illo.svg */ "./static/images/feedback_illo.svg");
/* harmony import */ var _FeedbackForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FeedbackForm */ "./src/components/Feedback/FeedbackForm.tsx");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _FeedbackSuccess__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FeedbackSuccess */ "./src/components/Feedback/FeedbackSuccess.tsx");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _FeedbackError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeedbackError */ "./src/components/Feedback/FeedbackError.tsx");
/* harmony import */ var _Feedback_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Feedback.scss */ "./src/components/Feedback/Feedback.scss");












const FeedbackModal = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ user }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_10__["default"])();
    const usePendoFeedback = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { usePendoFeedback } }) => usePendoFeedback);
    const isOpen = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { isFeedbackModalOpen } }) => isFeedbackModalOpen);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const [modalPage, setModalPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('feedbackHome');
    const env = window.insights.chrome.getEnvironment();
    const isAvailable = env === 'prod' || env === 'stage';
    const setIsModalOpen = (isOpen) => dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_5__.toggleFeedbackModal)(isOpen));
    const handleCloseModal = () => {
        setIsModalOpen(false), setModalPage('feedbackHome');
    };
    const ModalDescription = ({ modalPage }) => {
        switch (modalPage) {
            case 'feedbackHome':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-content" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextVariants.h1 }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].tellAboutExperience)),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].helpUsImproveHCC))),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-cards" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isSelectableRaised: true, isCompact: true, onClick: () => setModalPage('feedbackOne') },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardTitle, { className: "chr-c-feedback-card-title" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].shareFeedback)),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].howIsConsoleExperience))),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isSelectableRaised: true, isCompact: true, onClick: () => setModalPage('reportBugOne') },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardTitle, { className: "chr-c-feedback-card-title" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].reportABug)),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].describeBugUrgentCases))),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isSelectableRaised: true, isCompact: true, onClick: () => {
                                window.open('https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true', '_blank');
                            } },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardTitle, { className: "chr-c-feedback-card-title" },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null,
                                    intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].openSupportCase),
                                    " ",
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons__WEBPACK_IMPORTED_MODULE_11__.ExternalLinkAltIcon, null))),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].getSupport))),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isSelectableRaised: true, isCompact: true, onClick: () => setModalPage('informDirection') },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardTitle, { className: "chr-c-feedback-card-title" },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].informRedhatDirection))),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].learnAboutResearchOpportunities)))),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { className: "chr-c-feedback-button", ouiaId: "cancel-feedback", key: "cancel", variant: "link", onClick: handleCloseModal }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].cancel))));
            case 'feedbackOne':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackForm__WEBPACK_IMPORTED_MODULE_4__["default"], { user: user, onCloseModal: handleCloseModal, onSubmit: () => setModalPage('feedbackSuccess'), onClickBack: () => setModalPage('feedbackHome'), handleFeedbackError: () => setModalPage('feedbackError'), modalTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].shareYourFeedback), textareaLabel: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].enterFeedback), feedbackType: "Feedback", checkboxDescription: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].learnAboutResearchOpportunities), submitTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].submitFeedback) }));
            case 'reportBugOne':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackForm__WEBPACK_IMPORTED_MODULE_4__["default"], { user: user, onCloseModal: handleCloseModal, onSubmit: () => setModalPage('bugReportSuccess'), onClickBack: () => setModalPage('feedbackHome'), handleFeedbackError: () => setModalPage('feedbackError'), modalTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].reportABug), modalDescription: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null,
                        intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].describeReportBug),
                        ' ',
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "a", href: "https://access.redhat.com/support/cases/#/case/new/open-case?caseCreate=true", target: "_blank" },
                            intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].openSupportCase),
                            " ",
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons__WEBPACK_IMPORTED_MODULE_11__.ExternalLinkAltIcon, null))), feedbackType: "Bug", checkboxDescription: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].learnAboutResearchOpportunities)} ${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].weNeverSharePersonalInformation)}`, submitTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].submitFeedback) }));
            case 'informDirection':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackForm__WEBPACK_IMPORTED_MODULE_4__["default"], { user: user, onCloseModal: handleCloseModal, onSubmit: () => setModalPage('informDirectionSuccess'), onClickBack: () => setModalPage('feedbackHome'), handleFeedbackError: () => setModalPage('feedbackError'), modalTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].informRedhatDirection), modalDescription: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null,
                        intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].informDirectionDescription),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "a", href: "https://www.redhat.com/en/about/user-research", target: "_blank" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].userResearchTeam)),
                        intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].directInfluence)), feedbackType: "[Research Opportunities]", textAreaHidden: true, checkboxDescription: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].weNeverSharePersonalInformation), submitTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].joinMailingList) }));
            case 'feedbackSuccess':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackSuccess__WEBPACK_IMPORTED_MODULE_6__["default"], { successTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].feedbackSent), successDescription: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].thankYouForFeedback), onCloseModal: handleCloseModal }));
            case 'bugReportSuccess':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackSuccess__WEBPACK_IMPORTED_MODULE_6__["default"], { successTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].bugReported), successDescription: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].teamWillReviewBug), onCloseModal: handleCloseModal }));
            case 'informDirectionSuccess':
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackSuccess__WEBPACK_IMPORTED_MODULE_6__["default"], { successTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].responseSent), successDescription: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].thankYouForInterest), onCloseModal: handleCloseModal }));
            case 'feedbackError':
                return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeedbackError__WEBPACK_IMPORTED_MODULE_8__["default"], { onCloseModal: handleCloseModal });
        }
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { ouiaId: "feedback-button", className: "chr-c-button-feedback", onClick: () => {
                if (!usePendoFeedback) {
                    setIsModalOpen(true);
                }
            } },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons__WEBPACK_IMPORTED_MODULE_12__.OutlinedCommentsIcon, null),
            intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].feedback)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Modal, { "aria-label": "Feedback modal", isOpen: isOpen, className: "chr-c-feedback-modal", variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ModalVariant.large, onClose: handleCloseModal },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Grid, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.GridItem, { span: 8, rowSpan: 12 },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModalDescription, { modalPage: modalPage })),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.GridItem, { span: 4, className: "chr-c-feedback-image" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", { alt: "feedback illustration", src: _static_images_feedback_illo_svg__WEBPACK_IMPORTED_MODULE_3__ }))),
            !isAvailable && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Label, { color: "red" },
                " ",
                intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_7__["default"].submitOnlyInStageProd),
                " "))));
});
FeedbackModal.displayName = 'FeedbackModal';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackModal);


/***/ }),

/***/ "./src/components/Feedback/FeedbackSuccess.tsx":
/*!*****************************************************!*\
  !*** ./src/components/Feedback/FeedbackSuccess.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/check-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/check-icon.js");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _Feedback_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Feedback.scss */ "./src/components/Feedback/Feedback.scss");






const FeedbackSuccess = ({ onCloseModal, successTitle, successDescription }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_4__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-feedback-success-content" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_check_icon__WEBPACK_IMPORTED_MODULE_5__["default"], { size: "md", color: "var(--pf-global--success-color--100)", className: "pf-u-mx-auto" }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextVariants.h1 }, successTitle),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null, successDescription)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { variant: "primary", onClick: onCloseModal }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].close))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackSuccess);


/***/ }),

/***/ "./src/components/Feedback/index.ts":
/*!******************************************!*\
  !*** ./src/components/Feedback/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _FeedbackModal__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "usePendoFeedback": () => (/* reexport safe */ _usePendoFeedback__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _FeedbackModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FeedbackModal */ "./src/components/Feedback/FeedbackModal.tsx");
/* harmony import */ var _usePendoFeedback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePendoFeedback */ "./src/components/Feedback/usePendoFeedback.ts");




/***/ }),

/***/ "./src/components/Feedback/usePendoFeedback.ts":
/*!*****************************************************!*\
  !*** ./src/components/Feedback/usePendoFeedback.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redux_redux_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../redux/redux-config */ "./src/redux/redux-config.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");



const usePendoFeedback = () => {
    /**
     * We have to use the "spinUpStore" instead of just calling useDispatch
     * Otherwise we will end up using the "dispatch" instance from the application not chrome!
     */
    const { store: { dispatch }, } = (0,_redux_redux_config__WEBPACK_IMPORTED_MODULE_1__.spinUpStore)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.setPendoFeedbackFlag)(true));
        return () => {
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.setPendoFeedbackFlag)(false));
        };
    }, []);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (usePendoFeedback);


/***/ }),

/***/ "./src/components/Footer/Footer.tsx":
/*!******************************************!*\
  !*** ./src/components/Footer/Footer.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_redhat_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/redhat-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/redhat-icon.js");
/* harmony import */ var _Footer_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Footer.scss */ "./src/components/Footer/Footer.scss");




const Footer = ({ setCookieElement, cookieElement }) => {
    const cookieRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (cookieRef.current) {
            if (cookieElement) {
                cookieRef.current.replaceWith(cookieElement);
            }
            else {
                setCookieElement(cookieRef.current);
            }
        }
    }, [cookieRef.current]);
    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null,
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.PageSection, { className: "chr-c-footer pf-u-mt-auto pf-u-p-lg pf-m-no-fill pf-u-mt-auto pf-u-background-color-dark-100" },
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Flex, { role: "contentinfo", className: "pf-m-column pf-m-row-on-lg" },
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", { href: "https://www.redhat.com", target: "_blank", rel: "noopener noreferrer", className: "pf-l-flex" },
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Icon, { className: "pf-u-mx-md pf-u-mt-xs pf-u-mb-md" },
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_icons_dist_js_icons_redhat_icon__WEBPACK_IMPORTED_MODULE_3__["default"], null))),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Flex, { className: "pf-m-column pf-u-align-self-flex-start" },
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextContent, { className: "pf-l-flex pf-u-mb-sm" },
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "p", className: "pf-u-color-400 pf-u-font-size-xs" }, "\u00A92023 Red Hat, Inc.")),
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextContent, { className: "pf-l-flex pf-m-column pf-m-row-on-md pf-u-font-size-xs" },
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "a", onClick: () => setIsModalOpen(true) }, "Browser Support"),
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "a", href: "https://www.redhat.com/en/about/privacy-policy" }, "Privacy Policy"),
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "a", href: "https://access.redhat.com/help/terms/" }, "Terms of Use"),
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "a", href: "https://www.redhat.com/en/about/all-policies-guidelines" }, "All Policies and Guidelines"),
                        react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", { id: "teconsent", ref: cookieRef }))))),
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Modal, { title: "Browser support", isOpen: isModalOpen, variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.ModalVariant.small, onClose: () => setIsModalOpen(false) },
            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextContent, null,
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "p" }, "Red Hat captures and regularly reviews statistical data from our actual web visitors and registered users, rather than generic industry data, to identify the browsers we need to support in alignment with our customers\u2019 needs. Additionally, to safeguard customer data, only browsers which receive security updates from the browser manufacturer are considered for support. We have implemented this policy to ensure that we can provide an excellent experience to a wide user base."),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextVariants.h4 }, "Cookies and Javascript "),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "p" }, "To successfully interact with our websites and services, your browser must meet the following feature requirements:"),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextList, null,
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "The browser must be configured to accept cookies"),
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "The browser must be configured to execute JavaScript")),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextVariants.h4 }, "Specific browser support "),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.Text, { component: "p" }, "We validate against and fully support our customers' use of the past two major releases of the following browsers:"),
                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextList, null,
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "Mozilla Firefox"),
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "Google Chrome"),
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "Apple Safari"),
                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.TextListItem, null, "Microsoft Edge"))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Footer);


/***/ }),

/***/ "./src/components/GlobalFilter/GlobalFilter.tsx":
/*!******************************************************!*\
  !*** ./src/components/GlobalFilter/GlobalFilter.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redhat_cloud_services_frontend_components_FilterHooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/FilterHooks */ "./node_modules/@redhat-cloud-services/frontend-components/esm/FilterHooks/tagFilterHook.js");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _globalFilterApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _GlobalFilterMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GlobalFilterMenu */ "./src/components/GlobalFilter/GlobalFilterMenu.tsx");
/* harmony import */ var _filterApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./filterApi */ "./src/components/GlobalFilter/filterApi.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");










const useLoadTags = (hasAccess = false) => {
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useNavigate)();
    const registeredWith = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { scope } }) => scope);
    const isDisabled = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { globalFilterHidden }, chrome: { appId } }) => globalFilterHidden || !appId);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((activeTags, search) => {
        (0,_filterApi__WEBPACK_IMPORTED_MODULE_6__.storeFilter)(activeTags, hasAccess && !isDisabled, navigate);
        (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllTags)({
                registeredWith,
                activeTags,
                search,
            }));
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllSIDs)({
                registeredWith,
                activeTags,
                search,
            }));
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllWorkloads)({
                registeredWith,
                activeTags,
                search,
            }));
        });
    }, [registeredWith, hasAccess]);
};
const GlobalFilter = ({ hasAccess }) => {
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    const isLoaded = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { tags, sid, workloads } }) => tags.isLoaded && sid.isLoaded && workloads.isLoaded);
    const { count, total, tags, sid, workloads } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { tags, sid, workloads } }) => ({
        count: (tags.count || 0) + (sid.count || 0) + (workloads.count || 0),
        total: (tags.total || 0) + (sid.total || 0) + (workloads.total || 0),
        tags: tags.items || [],
        sid: sid.items || [],
        workloads,
    }), react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual);
    const isDisabled = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { globalFilterHidden }, chrome: { appId } }) => globalFilterHidden || !appId);
    const { filter, chips, selectedTags, setValue, filterTagsBy } = (0,_redhat_cloud_services_frontend_components_FilterHooks__WEBPACK_IMPORTED_MODULE_8__.useTagsFilter)([workloads, ...sid, ...tags], isLoaded, total - count, (_e, closeFn) => {
        setIsOpen(() => true);
        closeFn && closeFn();
    }, undefined, 'system', 'View more'); // TODO: Fix types in FEC
    const loadTags = useLoadTags(hasAccess);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setValue(() => (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_3__.generateFilter)());
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (hasAccess && !isDisabled) {
            loadTags(selectedTags, filterTagsBy);
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.globalFilterChange)(selectedTags));
        }
    }, [selectedTags, filterTagsBy, hasAccess, isDisabled]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_GlobalFilterMenu__WEBPACK_IMPORTED_MODULE_5__.GlobalFilterDropdown, { allowed: hasAccess, isDisabled: isDisabled, filter: filter, chips: [...chips.filter(({ key }) => key === 'Workloads'), ...chips.filter(({ key }) => key !== 'Workloads')], setValue: setValue, selectedTags: selectedTags, isOpen: isOpen, filterTagsBy: filterTagsBy, setIsOpen: (isOpen) => setIsOpen(!!isOpen) }));
};
GlobalFilter.propTypes = {
    hasAccess: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool),
};
const GlobalFilterWrapper = () => {
    const [hasAccess, setHasAccess] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const globalFilterRemoved = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { globalFilterRemoved } }) => globalFilterRemoved);
    const userLoaded = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ chrome: { user } }) => Boolean(user));
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useLocation)();
    // FIXME: Clean up the global filter display flag
    const isLanding = pathname === '/';
    const isAllowed = (0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isGlobalFilterAllowed)();
    const isGlobalFilterEnabled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
        const globalFilterAllowed = isAllowed || globalFilterRemoved;
        return !isLanding && (globalFilterAllowed || Boolean(localStorage.getItem('chrome:experimental:global-filter')));
    }, [isLanding, isAllowed]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        let mounted = true;
        const fetchPermissions = async () => {
            const permissions = await window.insights?.chrome?.getUserPermissions?.('inventory');
            if (mounted) {
                setHasAccess(permissions?.some((item) => ['inventory:*:*', 'inventory:*:read', 'inventory:hosts:read'].includes((typeof item === 'string' && item) || item?.permission)));
            }
        };
        fetchPermissions();
        return () => {
            mounted = false;
        };
    }, []);
    return isGlobalFilterEnabled && userLoaded ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(GlobalFilter, { hasAccess: hasAccess }) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GlobalFilterWrapper);


/***/ }),

/***/ "./src/components/GlobalFilter/GlobalFilterMenu.tsx":
/*!**********************************************************!*\
  !*** ./src/components/GlobalFilter/GlobalFilterMenu.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GlobalFilterDropdown": () => (/* binding */ GlobalFilterDropdown),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redhat_cloud_services_frontend_components_ConditionalFilter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/ConditionalFilter */ "./node_modules/@redhat-cloud-services/frontend-components/esm/ConditionalFilter/GroupFilter.js");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _global_filter_menu_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./global-filter-menu.scss */ "./src/components/GlobalFilter/global-filter-menu.scss");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _TagsModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TagsModal */ "./src/components/GlobalFilter/TagsModal.tsx");
/* harmony import */ var _globalFilterApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");










/** Create unique hotjar event for selected tags */
const generateGlobalFilterEvent = (isChecked, value) => `global_filter_tag_${isChecked ? 'uncheck' : 'check'}_${value}`;
const GlobalFilterDropdown = ({ allowed, isDisabled, filter, chips, setValue, selectedTags, isOpen, filterTagsBy, setIsOpen, }) => {
    /**
     * Hotjar API reference: https://help.hotjar.com/hc/en-us/articles/4405109971095-Events-API-Reference#the-events-api-call
     * window.hj is only avaiable in console.redhat.com and console.redhat.com/beta
     * We are unable to test it in any local development environment
     * */
    const hotjarEventEmitter = typeof window.hj === 'function' ? window.hj : () => undefined;
    const registeredWith = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ globalFilter: { scope } }) => scope);
    const userLoaded = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome: { user } }) => Boolean(user));
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_8__["default"])();
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
    const GroupFilterWrapper = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (!allowed || isDisabled ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Tooltip : ({ children }) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children)), [allowed, isDisabled]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Split, { id: "global-filter", hasGutter: true, className: "chr-c-global-filter" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.SplitItem, null, userLoaded && allowed !== undefined ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(GroupFilterWrapper, { content: !allowed || isDisabled
                    ? !allowed
                        ? `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_1__["default"].noInventoryPermissions)}`
                        : `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_1__["default"].globalFilterNotApplicable)}`
                    : '', position: "right" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_ConditionalFilter__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "chr-c-menu-global-filter__select", selected: selectedTags, isDisabled: isDisabled, groups: filter.groups?.map((group) => ({
                        ...group,
                        items: group.items.map((item) => ({
                            ...item,
                            onClick: (e, selected, group, currItem, groupName, itemName) => {
                                generateGlobalFilterEvent(selected?.[groupName]?.[itemName]?.isSelected, item.value);
                                item.onClick?.(e, selected, group, currItem, groupName, itemName);
                            },
                        })),
                    })), onChange: filter.onChange, placeholder: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_1__["default"].filterByTags), isFilterable: true, onFilter: filter.onFilter, filterBy: filter.filterBy, showMoreTitle: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_1__["default"].showMore), onShowMore: () => setIsOpen(true), showMoreOptions: {
                        isLoadButton: true,
                    } }))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Skeleton, { fontSize: 'xl' }))),
            allowed && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.SplitItem, { isFilled: true }, chips?.length > 0 && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                chips.map(({ category, chips }, key) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ChipGroup, { key: key, categoryName: category, className: category === 'Workloads' ? 'chr-c-chip' : '' }, chips?.map(({ key: chipName, tagKey, value }, chipKey) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Chip, { key: chipKey, onClick: () => setValue(() => (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_6__.updateSelected)(selectedTags, category, chipName, value, false, {})), isReadOnly: isDisabled },
                    tagKey,
                    value ? `=${value}` : '')))))),
                !isDisabled && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Button, { variant: "link", ouiaId: "global-filter-clear", onClick: () => setValue(() => ({})) }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_1__["default"].clearFilters)))))))),
        isOpen && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_TagsModal__WEBPACK_IMPORTED_MODULE_5__["default"], { isOpen: isOpen, filterTagsBy: filterTagsBy, selectedTags: selectedTags, toggleModal: (isSubmit) => {
                if (!isSubmit) {
                    dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_7__.fetchAllTags)({
                        registeredWith: registeredWith,
                        activeTags: selectedTags,
                        search: filterTagsBy,
                    }));
                }
                hotjarEventEmitter('event', 'global_filter_bulk_action');
                setIsOpen(false);
            }, onApplyTags: (selected, sidSelected) => {
                setValue(() => [...(selected || []), ...(sidSelected || [])].reduce((acc, { key, value, namespace }) => {
                    return (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_6__.updateSelected)(acc, namespace, `${key}${value ? `=${value}` : ''}`, value, true, {
                        item: { tagKey: key },
                    });
                }, selectedTags));
            } })),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Divider, null)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GlobalFilterDropdown);


/***/ }),

/***/ "./src/components/GlobalFilter/TagsModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/GlobalFilter/TagsModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "useMetaSelector": () => (/* binding */ useMetaSelector)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redhat_cloud_services_frontend_components_TagModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/TagModal */ "./node_modules/@redhat-cloud-services/frontend-components/esm/TagModal/TagModal.js");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");









const useMetaSelector = (key) => (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter }) => {
    const selected = globalFilter[key];
    return [selected?.isLoaded, selected?.total || 0, selected?.page || 1, selected?.perPage || 10];
}, react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual);
const usePagination = (loaded, perPage, page, count) => {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
        if (loaded) {
            return {
                perPage: perPage,
                page: page,
                count: count,
            };
        }
        return {};
    }, [loaded, perPage, page, count]);
};
const useRow = (resource, loaded, idMapper, cellsMapper, selected) => {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
        if (loaded) {
            return lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default()(resource, ({ tags }) => tags?.map(({ tag }) => ({
                id: idMapper(tag),
                namespace: tag.namespace,
                key: tag.key,
                value: tag.value,
                selected: selected?.find?.(({ id }) => id === idMapper(tag)),
                cells: cellsMapper(tag),
            })));
        }
        return [];
    }, [resource, loaded, selected]);
};
const useDebounce = (callback, perPage, activeTags) => {
    const registeredWith = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { scope } }) => scope || undefined);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()((search) => {
        dispatch(callback({
            registeredWith,
            activeTags,
            search,
        }, { page: 1, perPage }));
    }, 800), [perPage, registeredWith, activeTags]);
};
const TagsModal = ({ isOpen, filterTagsBy, onApplyTags, toggleModal, selectedTags }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_6__["default"])();
    const [tagsSelected, setTagsSelected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
    const [sidsSelected, setSidsSelected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
    const [filterBy, setFilterBy] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [filterSIDsBy, setFilterSIDsBy] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    const [tagsLoaded, tagsCount, tagsPage, tagsPerPage] = useMetaSelector('tags');
    const [sidLoaded, sidCount, sidPage, sidPerPage] = useMetaSelector('sid');
    const tags = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { tags } }) => tags?.items || []);
    const sids = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { sid } }) => sid?.items || []);
    const filterScope = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ globalFilter: { scope } }) => scope || undefined);
    const debounceGetTags = useDebounce(_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllTags, tagsPerPage, selectedTags);
    const debounceGetSIDs = useDebounce(_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllSIDs, sidPerPage, selectedTags);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setFilterBy(filterTagsBy);
        setFilterSIDsBy(filterTagsBy);
    }, [filterTagsBy]);
    const tagsPagination = usePagination(tagsLoaded, tagsPerPage, tagsPage, tagsCount);
    const sidPagination = usePagination(sidLoaded, sidPerPage, sidPage, sidCount);
    const tagsRows = useRow(tags, tagsLoaded, ({ key, value, namespace }) => `${namespace}/${key}=${value}`, ({ key, value, namespace }) => [key, value, namespace], tagsSelected);
    const sidRows = useRow(sids, sidLoaded, ({ key }) => key, ({ key }) => [key], sidsSelected);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_TagModal__WEBPACK_IMPORTED_MODULE_7__["default"], { tabNames: ['tags', 'SAP IDs (SID)'], tableProps: {
            canSelectAll: false,
        }, pagination: [tagsPagination, sidPagination], rows: [tagsRows, sidRows], loaded: [tagsLoaded, sidLoaded], width: "50%", isOpen: isOpen, toggleModal: (_e, open) => {
            setSidsSelected([]);
            setTagsSelected([]);
            setFilterBy('');
            setFilterSIDsBy('');
            toggleModal(!!open);
        }, filters: [
            [
                {
                    label: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].tagsFilter)}`,
                    placeholder: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].filterTags)}`,
                    value: 'tags-filter',
                    type: 'text',
                    filterValues: {
                        value: filterBy,
                        onChange: (_e, value) => {
                            setFilterBy(() => value);
                            debounceGetTags(value);
                        },
                    },
                },
            ],
            [
                {
                    label: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].SIDsFilter)}`,
                    placeholder: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].filterSAPIDs)}`,
                    value: 'sids-filter',
                    type: 'text',
                    filterValues: {
                        value: filterSIDsBy,
                        onChange: (_e, value) => {
                            setFilterSIDsBy(() => value);
                            debounceGetSIDs(value);
                        },
                    },
                },
            ],
        ], onUpdateData: [
            (pagination) => {
                dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllTags)({
                    registeredWith: filterScope,
                    activeTags: selectedTags,
                    search: filterBy,
                }, pagination));
            },
            (pagination) => {
                dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_2__.fetchAllSIDs)({
                    registeredWith: filterScope,
                    activeTags: selectedTags,
                    search: filterSIDsBy,
                }, pagination));
            },
        ], columns: [
            [
                { title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].name)}` },
                { title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].value)}` },
                { title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].tagSources)}` },
            ],
            [{ title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].value)}` }],
        ], onSelect: [
            (selected) => setTagsSelected(selected),
            (selected) => setSidsSelected(selected),
        ], selected: [tagsSelected, sidsSelected], onApply: () => onApplyTags(tagsSelected, sidsSelected), title: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].selectTagsOrSIDs), ouiaId: "global-filter-tags-modal" }));
};
TagsModal.propTypes = {
    isOpen: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().bool),
    selectedTags: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().object),
    filterTagsBy: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().string),
    onApplyTags: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func),
    toggleModal: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func),
};
TagsModal.defaultProps = {
    isOpen: false,
    selectedTags: {},
    onApplyTags: () => undefined,
    toggleModal: () => undefined,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TagsModal);


/***/ }),

/***/ "./src/components/GlobalFilter/filterApi.ts":
/*!**************************************************!*\
  !*** ./src/components/GlobalFilter/filterApi.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "storeFilter": () => (/* binding */ storeFilter)
/* harmony export */ });
/* harmony import */ var _globalFilterApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");

const storeFilter = (tags, isEnabled, navigate) => {
    if (isEnabled) {
        const searchParams = new URLSearchParams();
        const [, SIDs, mappedTags] = (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.flatTags)(tags, false, true);
        if (tags?.Workloads) {
            const currWorkloads = Object.entries(tags?.Workloads || {})?.find(([, workload]) => workload.isSelected)?.[0];
            if (currWorkloads) {
                searchParams.append('workloads', currWorkloads);
            }
        }
        searchParams.append('SIDs', SIDs);
        searchParams.append('tags', mappedTags);
        setTimeout(() => {
            // needs to be in timeout to not override existing URLs caused by nested routers
            // FIXME: After router v6 migration can be removed and we can use router location instead of document location
            navigate({
                pathname: location.pathname.replace(/^\/beta\//, ''),
                search: location.search,
                hash: searchParams.toString(),
            });
        });
    }
};


/***/ }),

/***/ "./src/components/GlobalFilter/globalFilterApi.ts":
/*!********************************************************!*\
  !*** ./src/components/GlobalFilter/globalFilterApi.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AAP_KEY": () => (/* binding */ AAP_KEY),
/* harmony export */   "INVENTORY_API_BASE": () => (/* binding */ INVENTORY_API_BASE),
/* harmony export */   "MSSQL_KEY": () => (/* binding */ MSSQL_KEY),
/* harmony export */   "SID_KEY": () => (/* binding */ SID_KEY),
/* harmony export */   "createTagsFilter": () => (/* binding */ createTagsFilter),
/* harmony export */   "escaper": () => (/* binding */ escaper),
/* harmony export */   "flatTags": () => (/* binding */ flatTags),
/* harmony export */   "generateFilter": () => (/* binding */ generateFilter),
/* harmony export */   "updateSelected": () => (/* binding */ updateSelected),
/* harmony export */   "workloads": () => (/* binding */ workloads)
/* harmony export */ });
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");




const SID_KEY = 'SAP ID (SID)';
const AAP_KEY = 'Ansible Automation Platform';
const MSSQL_KEY = 'Microsoft SQL';
const INVENTORY_API_BASE = '/api/inventory/v1';
const workloads = [
    {
        name: 'Workloads',
        noFilter: true,
        tags: [
            {
                tag: { key: 'SAP' },
            },
            {
                tag: { key: AAP_KEY },
            },
            {
                tag: { key: MSSQL_KEY },
            },
        ],
    },
];
const updateSelected = (original, namespace, key, value, isSelected, extra) => ({
    ...original,
    [namespace]: {
        ...original?.[namespace],
        [key]: {
            ...original?.[namespace]?.[key],
            isSelected,
            value,
            ...extra,
        },
    },
});
const createTagsFilter = (tags = []) => tags.reduce((acc, curr) => {
    const [namespace, tag] = curr.split('/');
    const [tagKey, tagValue] = tag?.split('=') || [];
    return {
        ...acc,
        [namespace]: {
            ...(acc[namespace] || {}),
            ...(tagKey?.length > 0 && {
                [`${tagKey}${tagValue ? `=${tagValue}` : ''}`]: {
                    isSelected: true,
                    group: { value: namespace, label: namespace, type: 'checkbox' },
                    item: { tagValue, tagKey },
                },
            }),
        },
    };
}, {});
const generateFilter = () => {
    const searchParams = new URLSearchParams(location.hash?.substring(1));
    // Ansible bundle requires AAP to be active at all times
    if ((0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getUrl)('bundle') === 'ansible') {
        searchParams.set('workloads', AAP_KEY);
    }
    let Workloads = {};
    let tags = {};
    let SIDs = {};
    if (searchParams.get('workloads')) {
        const { tag } = workloads[0].tags.find(({ tag: { key } }) => key === searchParams.get('workloads')) || {};
        Workloads = tag?.key
            ? {
                [tag?.key]: {
                    group: lodash_omit__WEBPACK_IMPORTED_MODULE_0___default()(workloads[0], 'tags'),
                    isSelected: true,
                    item: { tagKey: tag?.key },
                },
            }
            : {};
    }
    if (typeof searchParams.get('tags') === 'string') {
        tags = createTagsFilter(searchParams.get('tags')?.split(','));
    }
    if (typeof searchParams.get('SIDs') === 'string') {
        SIDs = createTagsFilter(searchParams
            .get('SIDs')
            ?.split(',')
            .map((sid) => `${SID_KEY}/${sid}`))?.[SID_KEY];
    }
    return {
        Workloads,
        ...(SIDs && { [SID_KEY]: SIDs }),
        ...tags,
    };
};
const escaper = (value) => value.replace(/\//gi, '%2F').replace(/=/gi, '%3D');
const flatTags = lodash_memoize__WEBPACK_IMPORTED_MODULE_2___default()((filter = {}, encode = false, format = false) => {
    const { Workloads, [SID_KEY]: SID, ...tags } = filter;
    const mappedTags = lodash_flatMap__WEBPACK_IMPORTED_MODULE_1___default()(Object.entries({ ...tags, ...(!format && { Workloads }) } || {}), ([namespace, item]) => Object.entries(item || {})
        .filter(([, { isSelected }]) => isSelected)
        .map(([tagKey, { item, value: tagValue }]) => {
        return `${namespace ? `${encode ? encodeURIComponent(escaper(namespace)) : escaper(namespace)}/` : ''}${encode ? encodeURIComponent(escaper(item?.tagKey || tagKey)) : escaper(item?.tagKey || tagKey)}${item?.tagValue || tagValue
            ? `=${encode ? encodeURIComponent(escaper(item?.tagValue || tagValue)) : escaper(item?.tagValue || tagValue)}`
            : ''}`;
    }));
    return format
        ? [
            Workloads,
            Object.entries(SID || {})
                .filter(([, { isSelected }]) => isSelected)
                .reduce((acc, [key]) => [...acc, key], []),
            mappedTags,
        ]
        : mappedTags;
}, (filter = {}, encode, format) => `${Object.entries(filter)
    .map(([namespace, val]) => `${namespace}.${Object.entries(val || {})
    .filter(([, { isSelected }]) => isSelected)
    .map(([key]) => key)
    .join('')}`)
    .join(',')}${encode ? '_encode' : ''}${format ? '_format' : ''}`);


/***/ }),

/***/ "./src/components/GlobalFilter/tagsApi.ts":
/*!************************************************!*\
  !*** ./src/components/GlobalFilter/tagsApi.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllSIDs": () => (/* binding */ getAllSIDs),
/* harmony export */   "getAllTags": () => (/* binding */ getAllTags),
/* harmony export */   "getAllWorkloads": () => (/* binding */ getAllWorkloads),
/* harmony export */   "sap": () => (/* binding */ sap),
/* harmony export */   "system": () => (/* binding */ system),
/* harmony export */   "tags": () => (/* binding */ tags)
/* harmony export */ });
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/interceptors/interceptors.js");
/* harmony import */ var _globalFilterApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");
/* harmony import */ var _redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @redhat-cloud-services/host-inventory-client */ "./node_modules/@redhat-cloud-services/host-inventory-client/dist/index.js");
/* harmony import */ var _redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1__);
/* eslint-disable camelcase */



const tags = new _redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1__.TagsApi(undefined, _globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.INVENTORY_API_BASE, _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_2__["default"]);
const sap = new _redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1__.SystemProfileApi(undefined, _globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.INVENTORY_API_BASE, _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_2__["default"]);
const system = new _redhat_cloud_services_host_inventory_client__WEBPACK_IMPORTED_MODULE_1__.HostsApi(undefined, _globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.INVENTORY_API_BASE, _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_2__["default"]);
const buildFilter = (workloads, SID) => ({
    system_profile: {
        ...(workloads?.SAP?.isSelected && { sap_system: true }),
        // enable once AAP filter is enabled
        ...(workloads?.[_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.AAP_KEY]?.isSelected && {
            ansible: 'not_nil',
        }),
        ...(workloads?.[_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.MSSQL_KEY]?.isSelected && {
            mssql: 'not_nil',
        }),
        sap_sids: SID,
    },
});
/**
 * This has to be pulled out of FEC for a while until we split react and non react helper functions
 */
const generateFilter = (data, path = 'filter', options) => Object.entries(data || {}).reduce((acc, [key, value]) => {
    const newPath = `${path || ''}[${key}]${Array.isArray(value) ? `${options?.arrayEnhancer ? `[${options.arrayEnhancer}]` : ''}[]` : ''}`;
    if (value instanceof Function || value instanceof Date) {
        return acc;
    }
    return {
        ...acc,
        ...(Array.isArray(value) || typeof value !== 'object' ? { [newPath]: value } : generateFilter(value, newPath, options)),
    };
}, {});
function getAllTags({ search, activeTags, registeredWith } = {}, pagination) {
    const [workloads, SID, selectedTags] = (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.flatTags)(activeTags, false, true);
    return tags.apiTagGetTags(selectedTags, // tag filer
    'tag', 'ASC', pagination?.perPage || 10, pagination?.page || 1, undefined, search, undefined, undefined, undefined, undefined, undefined, undefined, registeredWith ? [registeredWith] : undefined, undefined, {
        query: generateFilter(buildFilter(workloads, SID)),
    });
}
function getAllSIDs({ search, activeTags, registeredWith } = {}, pagination = {}) {
    const [workloads, SID, selectedTags] = (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.flatTags)(activeTags, false, true);
    return sap.apiSystemProfileGetSapSids(search, selectedTags, // tags
    (pagination && pagination.perPage) || 10, (pagination && pagination.page) || 1, undefined, // staleness,
    registeredWith ? [registeredWith] : undefined, undefined, {
        query: generateFilter(buildFilter(workloads, SID)),
    });
}
async function getAllWorkloads({ activeTags, registeredWith } = {}, pagination = {}) {
    const [workloads, SID, selectedTags] = (0,_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.flatTags)(activeTags, false, true);
    const [SAP, AAP, MSSQL] = await Promise.all([
        sap.apiSystemProfileGetSapSystem(selectedTags, // tags
        (pagination && pagination.perPage) || 10, (pagination && pagination.page) || 1, undefined, // staleness,
        registeredWith ? [registeredWith] : undefined, undefined, {
            query: generateFilter(buildFilter(workloads, SID)),
        }),
        system.apiHostGetHostList(undefined, undefined, undefined, undefined, undefined, undefined, undefined, 1, // number of items per page
        undefined, undefined, undefined, ['fresh', 'stale'], selectedTags, registeredWith ? [registeredWith] : undefined, undefined, undefined, {
            query: generateFilter(buildFilter({
                ...(workloads || {}),
                [_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.AAP_KEY]: { isSelected: true },
            }, SID)),
        }),
        system.apiHostGetHostList(undefined, undefined, undefined, undefined, undefined, undefined, undefined, 1, // number of items per page
        undefined, undefined, undefined, ['fresh', 'stale'], selectedTags, registeredWith ? [registeredWith] : undefined, undefined, undefined, {
            query: generateFilter(buildFilter({
                ...(workloads || {}),
                [_globalFilterApi__WEBPACK_IMPORTED_MODULE_0__.MSSQL_KEY]: { isSelected: true },
            }, SID)),
        }),
    ]);
    return { SAP, AAP, MSSQL };
}


/***/ }),

/***/ "./src/components/Header/FavoritesLink.tsx":
/*!*************************************************!*\
  !*** ./src/components/Header/FavoritesLink.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/star-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/star-icon.js");
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");




const FavoritesLink = () => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { className: "chr-c-button-masthead pf-u-px-lg-on-md", component: (props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { ...props, href: "/favoritedservices" }) },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { isInline: true, className: "ins-m-hide-on-sm" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_star_icon__WEBPACK_IMPORTED_MODULE_3__["default"], null)),
        "Favorites"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FavoritesLink);


/***/ }),

/***/ "./src/components/Header/Header.tsx":
/*!******************************************!*\
  !*** ./src/components/Header/Header.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Header": () => (/* binding */ Header),
/* harmony export */   "HeaderTools": () => (/* binding */ HeaderTools)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "webpack/sharing/consume/default/react-dom/react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tools */ "./src/components/Header/Tools.tsx");
/* harmony import */ var _UnAuthtedHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UnAuthtedHeader */ "./src/components/Header/UnAuthtedHeader.tsx");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _AppFilter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../AppFilter */ "./src/components/AppFilter/index.ts");
/* harmony import */ var _ServicesLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ServicesLink */ "./src/components/Header/ServicesLink.tsx");
/* harmony import */ var _FavoritesLink__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FavoritesLink */ "./src/components/Header/FavoritesLink.tsx");
/* harmony import */ var _ContextSwitcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ContextSwitcher */ "./src/components/ContextSwitcher/index.tsx");
/* harmony import */ var _Feedback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Feedback */ "./src/components/Feedback/index.ts");
/* harmony import */ var _Activation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Activation */ "./src/components/Activation/index.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _Logo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Logo */ "./src/components/Header/Logo.tsx");
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _Header_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Header.scss */ "./src/components/Header/Header.scss");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _Search_SearchInput__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../Search/SearchInput */ "./src/components/Search/SearchInput.tsx");



















const FeedbackRoute = ({ user }) => {
    const paths = localStorage.getItem('chrome:experimental:feedback') === 'true'
        ? ['*']
        : ['insights/*', 'settings/*', 'openshift/*', 'application-services/*', 'ansible/*', 'edge/*'];
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.Routes, null, paths.map((path) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.Route, { key: path, path: path, element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Feedback__WEBPACK_IMPORTED_MODULE_9__["default"], { user: user }) })))));
};
const Header = () => {
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)(({ chrome }) => chrome.user);
    const search = new URLSearchParams(window.location.search).keys().next().value;
    const isActivationPath = _utils_consts__WEBPACK_IMPORTED_MODULE_16__.activationRequestURLs.includes(search);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.MastheadMain, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.MastheadBrand, { component: (props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_13__["default"], { ...props, appId: "landing", href: "/" }) },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Logo__WEBPACK_IMPORTED_MODULE_12__["default"], null))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.MastheadContent, null,
            user?.identity?.account_number && !(0,_utils_common__WEBPACK_IMPORTED_MODULE_17__.isFedRamp)() && react_dom__WEBPACK_IMPORTED_MODULE_1___default().createPortal(react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FeedbackRoute, { user: user }), document.body),
            user && isActivationPath && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Activation__WEBPACK_IMPORTED_MODULE_10__["default"], { user: user, request: search }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.Toolbar, { isFullHeight: true },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ToolbarContent, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ToolbarGroup, { variant: "filter-group" },
                        user && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ToolbarItem, null, (0,_utils_common__WEBPACK_IMPORTED_MODULE_17__.isProd)() && !(0,_utils_common__WEBPACK_IMPORTED_MODULE_17__.isBeta)() ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_AppFilter__WEBPACK_IMPORTED_MODULE_5__["default"], null)) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ServicesLink__WEBPACK_IMPORTED_MODULE_6__["default"], null),
                            " ",
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FavoritesLink__WEBPACK_IMPORTED_MODULE_7__["default"], null))))),
                        user && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ToolbarItem, { className: "pf-m-hidden pf-m-visible-on-xl" },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ContextSwitcher__WEBPACK_IMPORTED_MODULE_8__["default"], { user: user, className: "data-hj-suppress sentry-mask" })))),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__.ToolbarGroup, { style: {
                            flex: 1,
                            justifyContent: 'center',
                        }, variant: "filter-group" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Search_SearchInput__WEBPACK_IMPORTED_MODULE_18__["default"], null)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(HeaderTools, null))))));
};
const HeaderTools = () => {
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)(({ chrome }) => chrome?.user);
    if (!user) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UnAuthtedHeader__WEBPACK_IMPORTED_MODULE_3__["default"], null);
    }
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Tools__WEBPACK_IMPORTED_MODULE_2__["default"], null);
};


/***/ }),

/***/ "./src/components/Header/HeaderAlert.tsx":
/*!***********************************************!*\
  !*** ./src/components/Header/HeaderAlert.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _HeaderAlert_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HeaderAlert.scss */ "./src/components/Header/HeaderAlert.scss");



const HeaderAlert = ({ title, variant = _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.AlertVariant.info, onDismiss, dismissable = false, dismissDelay = 5000 }) => {
    const [alertVisible, setAlertVisible] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
    const [timer, setTimer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        dismissable || createTimer();
        return () => {
            timer && clearTimeout(timer);
        };
    }, []);
    const createTimer = () => {
        timer !== null && clearTimeout(timer);
        setTimer(setTimeout(() => {
            setAlertVisible(false);
            if (timer) {
                clearTimeout(timer);
            }
            onDismiss && onDismiss();
        }, dismissDelay));
    };
    const onClose = () => {
        onDismiss && onDismiss();
        setAlertVisible(false);
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, alertVisible && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Alert, { variant: variant, title: title, className: "chr-c-alert", actionClose: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.AlertActionCloseButton, { onClose: onClose }) })));
};
HeaderAlert.defaultProps = {
    variant: 'info',
    dismissable: false,
    dismissDelay: 5000,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HeaderAlert);


/***/ }),

/***/ "./src/components/Header/Login.tsx":
/*!*****************************************!*\
  !*** ./src/components/Header/Login.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jwt/jwt */ "./src/jwt/jwt.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");






const Login = () => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_4__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageHeaderTools, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { ouiaId: "top-right-login-button", variant: "tertiary", "aria-label": "Toggle primary navigation", "widget-type": "InsightsNavToggle", onClick: () => (0,_jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.login)() }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_3__["default"].login))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Login);


/***/ }),

/***/ "./src/components/Header/Logo.tsx":
/*!****************************************!*\
  !*** ./src/components/Header/Logo.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _static_images_logo_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../static/images/logo.svg */ "./static/images/logo.svg");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__);



const Logo = () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.Brand, { className: "chr-c-brand", src: _static_images_logo_svg__WEBPACK_IMPORTED_MODULE_1__, alt: "Red Hat Logo" });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Logo));


/***/ }),

/***/ "./src/components/Header/ServicesLink.tsx":
/*!************************************************!*\
  !*** ./src/components/Header/ServicesLink.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cloud_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cloud-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cloud-icon.js");
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");




const ServicesLink = () => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { className: "chr-c-button-masthead pf-u-px-lg-on-md", component: (props) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { ...props, href: "/allservices" }) },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { isInline: true, className: "ins-m-hide-on-sm" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_cloud_icon__WEBPACK_IMPORTED_MODULE_3__["default"], null)),
        "Services"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServicesLink);


/***/ }),

/***/ "./src/components/Header/ToolbarToggle.tsx":
/*!*************************************************!*\
  !*** ./src/components/Header/ToolbarToggle.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink/ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");




const ToolbarToggle = (props) => {
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const onSelect = () => {
        setIsOpen((prev) => !prev);
    };
    const onToggle = (isOpen) => setIsOpen(isOpen);
    const onClickInternal = (ev, url, onClick) => {
        ev.preventDefault();
        if (url) {
            window.location.href = `${url}`;
        }
        if (onClick) {
            onClick(ev);
        }
    };
    // Render the questionmark icon items
    const dropdownItems = props.dropdownItems.map(({ url, appId, title, onClick, isHidden, isDisabled, target = '_blank', rel = 'noopener noreferrer', ...rest }) => !isHidden ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: title, ouiaId: title, disabled: isDisabled, component: appId && url ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { href: url, target: target, rel: rel, isBeta: (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isBeta)(), appId: appId }, title)) : url ? ('a') : ('button'), ...(appId
            ? {}
            : url
                ? {
                    href: url,
                    target,
                    rel,
                    ...rest,
                }
                : { onClick: (ev) => onClickInternal(ev, url, onClick) }) }, title)) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: "fragment" })));
    const toggle = (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownToggle, { className: props.className, id: props.id?.toString(), ouiaId: props.id, toggleIndicator: props.hasToggleIndicator, onToggle: onToggle, "aria-label": props.ariaLabel }, props.icon && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(props.icon, null)));
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { position: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownPosition.right, toggle: toggle, isOpen: isOpen, dropdownItems: dropdownItems, onSelect: onSelect, ouiaId: props.ouiaId, isPlain: true }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolbarToggle);


/***/ }),

/***/ "./src/components/Header/Tools.tsx":
/*!*****************************************!*\
  !*** ./src/components/Header/Tools.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "switchRelease": () => (/* binding */ switchRelease)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_question_circle_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/question-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/question-circle-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cog_icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cog-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cog-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_redhat_icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/redhat-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/redhat-icon.js");
/* harmony import */ var _UserToggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserToggle */ "./src/components/Header/UserToggle.tsx");
/* harmony import */ var _ToolbarToggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToolbarToggle */ "./src/components/Header/ToolbarToggle.tsx");
/* harmony import */ var _HeaderAlert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HeaderAlert */ "./src/components/Header/HeaderAlert.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @unleash/proxy-client-react */ "webpack/sharing/consume/default/@unleash/proxy-client-react/@unleash/proxy-client-react");
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _utils_createCase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/createCase */ "./src/utils/createCase.ts");
/* harmony import */ var _LibJWTContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../LibJWTContext */ "./src/components/LibJWTContext/index.ts");

















const fedRampEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isFedRamp)();
const switchRelease = (isBeta, pathname) => {
    js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].set('cs_toggledRelease', 'true');
    if (isBeta) {
        return `${document.baseURI.replace(/\/*beta/, '')}${pathname.replace(/\/*beta\/*/, '')}`;
    }
    else {
        const path = pathname.split('/');
        path[0] = 'beta';
        return document.baseURI.concat(path.join('/'));
    }
};
const InternalButton = () => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, { variant: "plain", "aria-label": "Go to internal tools", "widget-type": "InternalButton", className: "chr-c-toolbar__button-internal", href: `${document.baseURI}internal`, component: "a" },
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_redhat_icon__WEBPACK_IMPORTED_MODULE_12__["default"], null)));
const SettingsButton = ({ settingsMenuDropdownItems }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ToolbarToggle__WEBPACK_IMPORTED_MODULE_3__["default"], { key: "Settings menu", icon: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_cog_icon__WEBPACK_IMPORTED_MODULE_13__["default"], null), id: "SettingsMenu", ariaLabel: "Settings menu", ouiaId: "chrome-settings", hasToggleIndicator: null, "widget-type": "SettingsMenu", dropdownItems: settingsMenuDropdownItems }));
SettingsButton.propTypes = {
    settingsMenuDropdownItems: (prop_types__WEBPACK_IMPORTED_MODULE_14___default().array.isRequired),
};
const Tools = () => {
    const [{ isDemoAcc, isInternal, isRhosakEntitled }, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
        isInternal: true,
        isRhosakEntitled: false,
        isDemoAcc: false,
    });
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)(({ chrome: { user } }) => user);
    const libjwt = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_LibJWTContext__WEBPACK_IMPORTED_MODULE_11__["default"]);
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_15__["default"])();
    const bundle = (0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.getUrl)('bundle');
    const settingsPath = `/settings/my-user-access${bundle ? `?bundle=${bundle}` : ''}`;
    const identityAndAccessManagmentPath = '/iam/user-access/users';
    const betaSwitcherTitle = `${(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isBeta)() ? intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].stopUsing) : intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].use)} ${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].betaRelease)}`;
    const enableAuthDropdownOption = (0,_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__.useFlag)('platform.chrome.dropdown.authfactor');
    /* list out the items for the settings menu */
    const settingsMenuDropdownItems = [
        {
            url: settingsPath,
            title: 'Settings',
            target: '_self',
            appId: 'rbac',
        },
        ...(enableAuthDropdownOption
            ? [
                {
                    url: identityAndAccessManagmentPath,
                    title: 'Identity & Access Management',
                    target: '_self',
                    appId: 'iam',
                },
            ]
            : []),
        {
            title: betaSwitcherTitle,
            onClick: () => (window.location.href = switchRelease((0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isBeta)(), window.location.pathname)),
        },
    ];
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (user) {
            setState({
                isInternal: !!user?.identity?.user?.is_internal,
                isRhosakEntitled: !!user?.entitlements?.rhosak?.is_entitled,
                isDemoAcc: user?.identity?.user?.username === 'insights-demo-2021',
            });
        }
    }, [user]);
    /* list out the items for the about menu */
    const aboutMenuDropdownItems = [
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].apiDocumentation)}`,
            url: `/docs/api`,
            appId: 'apiDocs',
        },
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].openSupportCase)}`,
            onClick: () => (0,_utils_createCase__WEBPACK_IMPORTED_MODULE_10__.createSupportCase)(user.identity, libjwt),
            isDisabled: window.location.href.includes('/application-services') && !isRhosakEntitled,
        },
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].statusPage)}`,
            url: 'https://status.redhat.com/',
            isHidden: fedRampEnv,
        },
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].supportOptions)}`,
            url: 'https://access.redhat.com/support',
            isHidden: fedRampEnv,
        },
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].insightsRhelDocumentation)}`,
            url: `https://access.redhat.com/documentation/en-us/red_hat_insights/`,
            isHidden: (0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.getSection)() !== 'insights' || fedRampEnv,
        },
        {
            title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_9__["default"].demoMode)}`,
            onClick: () => js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].set('cs_demo', 'true') && location.reload(),
            isHidden: !isDemoAcc,
        },
    ];
    /* Combine aboutMenuItems with a settings link on mobile */
    const mobileDropdownItems = [
        { title: 'separator' },
        {
            url: settingsPath,
            title: 'Settings',
            target: '_self',
        },
        {
            title: betaSwitcherTitle,
            onClick: () => (window.location.href = switchRelease((0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isBeta)(), window.location.pathname)),
        },
        { title: 'separator' },
        ...aboutMenuDropdownItems,
    ];
    /* QuestionMark icon that should be used for "help/support" things */
    const AboutButton = () => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ToolbarToggle__WEBPACK_IMPORTED_MODULE_3__["default"], { key: "Help menu", icon: _patternfly_react_icons_dist_js_icons_question_circle_icon__WEBPACK_IMPORTED_MODULE_16__["default"], id: "HelpMenu", ouiaId: "chrome-help", ariaLabel: "Help menu", hasToggleIndicator: null, dropdownItems: aboutMenuDropdownItems }));
    const ThemeToggle = () => {
        const [darkmode, setDarkmode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Switch, { id: "no-label-switch-on", isChecked: darkmode || false, "aria-label": "Dark mode switch", onChange: () => {
                setDarkmode(!darkmode);
                document.body.classList.contains('pf-theme-dark')
                    ? document.body.classList.remove('pf-theme-dark')
                    : document.body.classList.add('pf-theme-dark');
            } }));
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarGroup, { className: "pf-m-icon-button-group pf-m-align-right pf-m-spacer-none pf-m-spacer-md-on-md pf-u-mr-0", alignment: { default: 'alignRight' }, spaceItems: { default: 'spaceItemsNone' }, "widget-type": "InsightsToolbar" },
        (0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isBeta)() && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Badge, { className: "chr-c-badge-beta" }, "beta"))),
        localStorage.getItem('chrome:darkmode') === 'true' && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ThemeToggle, null))),
        isInternal && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(InternalButton, null)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SettingsButton, { settingsMenuDropdownItems: settingsMenuDropdownItems })),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AboutButton, null),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, { visibility: { default: 'hidden', lg: 'visible' }, className: "pf-u-mr-0" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserToggle__WEBPACK_IMPORTED_MODULE_2__["default"], null)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, { visibility: { lg: 'hidden' } },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserToggle__WEBPACK_IMPORTED_MODULE_2__["default"], { isSmall: true, extraItems: mobileDropdownItems.map((action, key) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: key }, action.title === 'separator' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Divider, { component: "li" })) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { ...(action.onClick
                        ? {
                            component: 'button',
                            onClick: action.onClick,
                        }
                        : {
                            href: action.url,
                            component: 'a',
                            target: '_blank',
                            rel: 'noopener noreferrer',
                        }) }, action.title))))) })),
        js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].get('cs_toggledRelease') === 'true' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HeaderAlert__WEBPACK_IMPORTED_MODULE_4__["default"], { title: `You're ${(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.isBeta)() ? 'now' : 'no longer'} using the beta release.`, onDismiss: () => js_cookie__WEBPACK_IMPORTED_MODULE_6__["default"].set('cs_toggledRelease', 'false') })) : null));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Tools));


/***/ }),

/***/ "./src/components/Header/UnAuthtedHeader.tsx":
/*!***************************************************!*\
  !*** ./src/components/Header/UnAuthtedHeader.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Login */ "./src/components/Header/Login.tsx");
/* harmony import */ var _HeaderAlert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HeaderAlert */ "./src/components/Header/HeaderAlert.tsx");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");







function Unauthed() {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_6__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Login__WEBPACK_IMPORTED_MODULE_2__["default"], null),
        js_cookie__WEBPACK_IMPORTED_MODULE_4__["default"].get('cs_loggedOut') === 'true' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HeaderAlert__WEBPACK_IMPORTED_MODULE_3__["default"], { variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.AlertVariant.success, title: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_5__["default"].loggedOut), onDismiss: () => js_cookie__WEBPACK_IMPORTED_MODULE_4__["default"].set('cs_loggedOut', 'false') })) : null));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Unauthed);


/***/ }),

/***/ "./src/components/Header/UserIcon.tsx":
/*!********************************************!*\
  !*** ./src/components/Header/UserIcon.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);



const UserIcon = () => {
    const username = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome.user?.identity.user?.username);
    const [avatar, setAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('/apps/chrome/assets/images/img_avatar.svg');
    const getImage = (img) => {
        if (img.width === 140) {
            setAvatar(img.src);
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        const img = new Image();
        img.src = `https://access.redhat.com/api/users/avatar/${username}/`;
        img.onload = () => getImage(img);
    }, []);
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Avatar, { src: avatar, alt: "User Avatar" });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserIcon);


/***/ }),

/***/ "./src/components/Header/UserToggle.tsx":
/*!**********************************************!*\
  !*** ./src/components/Header/UserToggle.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_question_circle_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/question-circle-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/question-circle-icon.js");
/* harmony import */ var _UserIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserIcon */ "./src/components/Header/UserIcon.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ChromeLink/ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _jwt_jwt__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../jwt/jwt */ "./src/jwt/jwt.ts");










const buildItems = (username = '', isOrgAdmin, accountNumber = -1, isInternal, extraItems = []) => {
    const env = (0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.getEnv)();
    const isProd = (0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isProd)();
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_8__["default"])();
    const prefix = isProd ? '' : `${env === 'ci' ? 'qa' : env}.`;
    const accountNumberTooltip = `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].useAccountNumber)}`;
    return [
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: "Username", isDisabled: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dl", { className: "chr-c-dropdown-item__stack" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dt", { className: "chr-c-dropdown-item__stack--header" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].username)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", { className: "chr-c-dropdown-item__stack--value data-hj-suppress sentry-mask" }, username),
                isOrgAdmin && react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", { className: "chr-c-dropdown-item__stack--subValue" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].orgAdministrator)))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: "account wrapper" }, accountNumber > -1 && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: "Account", isPlainText: true, className: "disabled-pointer" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dl", { className: "chr-c-dropdown-item__stack" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dt", { className: "chr-c-dropdown-item__stack--header" },
                    intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].accountNumber),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: "visible-pointer pf-u-ml-sm" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Tooltip, { id: "accountNumber-tooltip", content: accountNumberTooltip },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_question_circle_icon__WEBPACK_IMPORTED_MODULE_9__["default"], null)))),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", { className: "chr-c-dropdown-item__stack--value sentry-mask data-hj-suppress" }, accountNumber),
                isInternal && react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", { className: "chr-c-dropdown-item__stack--subValue" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].internalUser)))))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownSeparator, { key: "separator" }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: "My Profile", href: `https://www.${prefix}redhat.com/wapps/ugc/protected/personalInfo.html`, target: "_blank", rel: "noopener noreferrer" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].myProfile)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: "My user access wrapper" }, accountNumber > -1 && (0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isBeta)() && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { component: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_5__["default"], { href: "/settings/my-user-access", isBeta: (0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isBeta)(), appId: "rbac" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].myUserAccess)), key: "My user access" }))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: "user prefs wrapper" }, accountNumber > -1 && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { component: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_5__["default"], { href: "/user-preferences/notifications", isBeta: (0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isBeta)(), appId: "userPreferences" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].userPreferences)), key: "User preferences" }))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), { key: "internal wrapper" }, isInternal && isProd && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: "Internal", href: "./internal" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].internal)))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownItem, { key: "logout", component: "button", onClick: () => (0,_jwt_jwt__WEBPACK_IMPORTED_MODULE_7__.logout)(true) }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_6__["default"].logout)),
        extraItems,
    ];
};
const UserToggle = ({ isSmall = false, extraItems = [] }) => {
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const account = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(({ chrome }) => {
        return {
            number: chrome.user?.identity.account_number || 1,
            username: chrome.user?.identity.user?.username,
            isOrgAdmin: chrome.user?.identity.user?.is_org_admin,
            isInternal: chrome.user?.identity.user?.is_internal,
            name: `${chrome.user?.identity.user?.first_name || ''} ${chrome.user?.identity.user?.last_name || ''}`,
        };
    });
    const onSelect = () => {
        setIsOpen(!isOpen);
    };
    const onToggle = (isOpen) => {
        setIsOpen(isOpen);
    };
    const toggle = isSmall ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.KebabToggle, { onToggle: onToggle, className: "data-hj-suppress sentry-mask" })) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownToggle, { id: "UserMenu", icon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserIcon__WEBPACK_IMPORTED_MODULE_2__["default"], null), className: "data-hj-suppress sentry-mask", "widget-type": "UserMenu", onToggle: onToggle }, account.name));
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Dropdown, { position: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.DropdownPosition.right, "aria-label": "Overflow actions", ouiaId: "chrome-user-menu", onSelect: onSelect, toggle: toggle, className: "chr-c-dropdown-user-toggle", isOpen: isOpen, dropdownItems: buildItems(account.username, account.isOrgAdmin, account.number, account.isInternal, extraItems), isFullHeight: true }));
};
// TODO update this to use account_id
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserToggle);


/***/ }),

/***/ "./src/components/IDPChecker/IDPChecker.tsx":
/*!**************************************************!*\
  !*** ./src/components/IDPChecker/IDPChecker.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _ErrorComponents_IDPError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ErrorComponents/IDPError */ "./src/components/ErrorComponents/IDPError.tsx");





const IDPStatuses = {
    OK: 'OK',
    UNKNOWN: 'UNKNOWN',
    PENDING: 'PENDING',
    ERROR: 'ERROR',
};
const IDPChecker = ({ children }) => {
    const isFedrampEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFedRamp)();
    const missingIDP = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.missingIDP);
    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {
        if (isFedrampEnv) {
            return missingIDP === true ? IDPStatuses.ERROR : IDPStatuses.UNKNOWN;
        }
        return IDPStatuses.OK;
    });
    const hasUser = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { user } }) => Object.keys(user || {}).length > 0);
    const allowStateChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isFedrampEnv);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (isFedrampEnv && status !== IDPStatuses.PENDING && hasUser) {
            allowStateChange.current && setStatus(IDPStatuses.PENDING);
            axios__WEBPACK_IMPORTED_MODULE_1___default().get('/api/entitlements/v1/services')
                .then(() => {
                allowStateChange.current && setStatus(IDPStatuses.OK);
            })
                .catch((err) => {
                const authError = err.response.status === 403 && err.message === 'Insights authorization failed - account number not in allow list';
                allowStateChange.current && setStatus(authError ? IDPStatuses.ERROR : IDPStatuses.OK);
            });
        }
    }, [hasUser, missingIDP]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (missingIDP === true) {
            allowStateChange.current && setStatus(IDPStatuses.ERROR);
            allowStateChange.current = false;
        }
    }, [missingIDP]);
    if (status === IDPStatuses.OK) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);
    }
    if (status === IDPStatuses.ERROR) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ErrorComponents_IDPError__WEBPACK_IMPORTED_MODULE_4__["default"], null);
    }
    return null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IDPChecker);


/***/ }),

/***/ "./src/components/LandingNav/LandingNav.tsx":
/*!**************************************************!*\
  !*** ./src/components/LandingNav/LandingNav.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _LandingNav_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LandingNav.scss */ "./src/components/LandingNav/LandingNav.scss");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _Navigation_Loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Navigation/Loader */ "./src/components/Navigation/Loader.tsx");
/* harmony import */ var _Navigation_ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Navigation/ChromeNavItemFactory */ "./src/components/Navigation/ChromeNavItemFactory.tsx");
/* harmony import */ var _Navigation_navContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Navigation/navContext */ "./src/components/Navigation/navContext.ts");
/* harmony import */ var _Navigation_componentMapper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Navigation/componentMapper */ "./src/components/Navigation/componentMapper.ts");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");













const LandingNav = () => {
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_12__["default"])();
    const [elementReady, setElementReady] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const showNav = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useSelector)(({ chrome: { user } }) => !!user);
    const schema = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useSelector)(({ chrome: { navigation: { landingPage }, }, }) => landingPage);
    const modules = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useSelector)((state) => state.chrome.modules);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (showNav) {
            setElementReady(true);
        }
    }, [showNav]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        axios__WEBPACK_IMPORTED_MODULE_5___default().get(`${window.location.origin}${(0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.isBeta)() ? '/beta' : ''}/config/chrome/landing-navigation.json`).then((response) => {
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_6__.loadNavigationLandingPage)(response.data));
        });
    }, []);
    /**
     * render navigation only if the user is logged in
     */
    if (!showNav || !elementReady || !schema) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Navigation_Loader__WEBPACK_IMPORTED_MODULE_7__["default"], null);
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Nav, { className: "chr-c-landing-nav", ouiaId: "SideNavigation" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavList, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-app-title" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("b", null, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_11__["default"].home))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageContextConsumer, null, ({ isNavOpen }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Navigation_navContext__WEBPACK_IMPORTED_MODULE_9__["default"].Provider, { value: {
                    componentMapper: _Navigation_componentMapper__WEBPACK_IMPORTED_MODULE_10__["default"],
                    inPageLayout: true,
                    isNavOpen,
                } }, schema
                .filter(({ appId }) => (appId && (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.isFedRamp)() ? modules?.[appId]?.isFedramp === true : true))
                .map((item, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Navigation_ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_8__["default"], { key: index, ...item })))))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LandingNav);


/***/ }),

/***/ "./src/components/LandingNav/index.ts":
/*!********************************************!*\
  !*** ./src/components/LandingNav/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _LandingNav__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _LandingNav__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LandingNav */ "./src/components/LandingNav/LandingNav.tsx");



/***/ }),

/***/ "./src/components/LibJWTContext/index.ts":
/*!***********************************************!*\
  !*** ./src/components/LibJWTContext/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const LibtJWTContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibtJWTContext);


/***/ }),

/***/ "./src/components/Navigation/ChromeNavExapandable.tsx":
/*!************************************************************!*\
  !*** ./src/components/Navigation/ChromeNavExapandable.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChromeNavItemFactory */ "./src/components/Navigation/ChromeNavItemFactory.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/useRenderFedramp */ "./src/utils/useRenderFedramp.ts");






const ChromeNavExapandable = ({ title, routes, active, isHidden, id }) => {
    const modules = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state) => state.chrome.modules);
    let filteredFedrampRoutes = routes;
    if ((0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFedRamp)()) {
        filteredFedrampRoutes = routes.filter(({ appId, href }) => {
            return appId && (0,_utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_5__.computeFedrampResult)(appId, href, modules[appId]);
        });
    }
    if (isHidden || filteredFedrampRoutes.filter(({ appId }) => !!appId).length === 0) {
        return null;
    }
    const quickStartHighlightId = title.replace(/\s/g, '-');
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavExpandable, { id: id, isExpanded: active, isActive: active, title: title, "data-quickstart-id": quickStartHighlightId }, filteredFedrampRoutes.map((item, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_2__["default"], { key: index, ...item })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeNavExapandable);


/***/ }),

/***/ "./src/components/Navigation/ChromeNavGroup.tsx":
/*!******************************************************!*\
  !*** ./src/components/Navigation/ChromeNavGroup.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChromeNavItemFactory */ "./src/components/Navigation/ChromeNavItemFactory.tsx");



const ChromeNavGroup = ({ navItems, isHidden, icon, title }) => {
    const filteredFedrampNavItems = navItems;
    if (isHidden) {
        return null;
    }
    const groupTitle = (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { size: "sm", className: "pf-u-mr-sm", isInline: true }, icon && _ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_2__.sectionTitleMapper[icon]),
        title));
    return (
    // PF does not allow node/element in the NavGroup prop types, hence the type cast
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavGroup, { className: "chr-c-section-nav", id: title, title: groupTitle }, filteredFedrampNavItems.map((item, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_2__["default"], { key: index, ...item })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeNavGroup);


/***/ }),

/***/ "./src/components/Navigation/ChromeNavItem.tsx":
/*!*****************************************************!*\
  !*** ./src/components/Navigation/ChromeNavItem.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_react_icons_dist_js_icons_external_link_alt_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/external-link-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/external-link-alt-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_flask_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/flask-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/flask-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_bell_icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/bell-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/bell-icon.js");
/* harmony import */ var title_case__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! title-case */ "./node_modules/title-case/dist.es2015/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ChromeLink/ChromeLink */ "./src/components/ChromeLink/ChromeLink.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/useRenderFedramp */ "./src/utils/useRenderFedramp.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");













const ChromeNavItem = ({ appId, className, href, isHidden, ignoreCase, title, isExternal, isBeta: isBetaEnv, active, product, notifier = '', }) => {
    const hasNotifier = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(state, notifier));
    const renderFedramp = (0,_utils_useRenderFedramp__WEBPACK_IMPORTED_MODULE_7__["default"])(appId, href);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useDispatch)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (active) {
            dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_8__.markActiveProduct)(product));
        }
    }, [active]);
    if (renderFedramp !== true) {
        return null;
    }
    if (isHidden) {
        return null;
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavItem, { className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, { 'chr-c-navigation__with-notifier': hasNotifier }), itemID: href, "data-quickstart-id": href, preventDefault: true, isActive: active, to: href, ouiaId: title, component: (props) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeLink_ChromeLink__WEBPACK_IMPORTED_MODULE_5__["default"], { ...props, documentTitleUpdate: title, isBeta: isBetaEnv, isExternal: isExternal, appId: appId })) },
        typeof title === 'string' && !ignoreCase ? (0,title_case__WEBPACK_IMPORTED_MODULE_9__.titleCase)(title) : title,
        ' ',
        isExternal && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { isInline: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_external_link_alt_icon__WEBPACK_IMPORTED_MODULE_10__["default"], null))),
        isBetaEnv && !(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isBeta)() && !isExternal && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Tooltip, { position: 'right', content: react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "This service is a Preview.") },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Icon, { className: "chr-c-navigation__beta-icon", isInline: true },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_flask_icon__WEBPACK_IMPORTED_MODULE_11__["default"], null)))),
        hasNotifier && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_bell_icon__WEBPACK_IMPORTED_MODULE_12__["default"], { size: "md", className: "notifier-icon", color: "var(--pf-global--default-color--200)" })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeNavItem);


/***/ }),

/***/ "./src/components/Navigation/ChromeNavItemFactory.tsx":
/*!************************************************************!*\
  !*** ./src/components/Navigation/ChromeNavItemFactory.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "sectionTitleMapper": () => (/* binding */ sectionTitleMapper)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _navContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./navContext */ "./src/components/Navigation/navContext.ts");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_wrench_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/wrench-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/wrench-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_security_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/security-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/security-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_trend_up_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/trend-up-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/trend-up-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_code_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/code-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/code-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_database_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/database-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/database-icon.js");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_cloud_upload_alt_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/cloud-upload-alt-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/cloud-upload-alt-icon.js");








const sectionTitleMapper = {
    wrench: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_wrench_icon__WEBPACK_IMPORTED_MODULE_2__["default"], null),
    shield: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_security_icon__WEBPACK_IMPORTED_MODULE_3__["default"], null),
    database: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_database_icon__WEBPACK_IMPORTED_MODULE_4__["default"], null),
    cloud: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_cloud_upload_alt_icon__WEBPACK_IMPORTED_MODULE_5__["default"], null),
    code: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_code_icon__WEBPACK_IMPORTED_MODULE_6__["default"], null),
    'trend-up': react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_trend_up_icon__WEBPACK_IMPORTED_MODULE_7__["default"], null),
};
const isNavExpandableProps = (props, expandable) => expandable === true;
const isNavGroupProps = (props, groupId) => typeof groupId === 'string';
const isDynamicNavProps = (props, dynamicNav) => typeof dynamicNav === 'string';
const ChromeNavItemFactory = ({ groupId, expandable, dynamicNav, ...rest }) => {
    const { componentMapper } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_navContext__WEBPACK_IMPORTED_MODULE_1__["default"]);
    const props = rest;
    if (isNavGroupProps(props, groupId)) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(componentMapper.group, { ...props });
    }
    else if (isNavExpandableProps(props, expandable)) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(componentMapper.expandable, { ...props });
    }
    else if (isDynamicNavProps(props, dynamicNav)) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(componentMapper.dynamicNav, { ...props, dynamicNav: dynamicNav });
    }
    else {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(componentMapper.item, { ...props });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeNavItemFactory);


/***/ }),

/***/ "./src/components/Navigation/DynamicNav.tsx":
/*!**************************************************!*\
  !*** ./src/components/Navigation/DynamicNav.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scalprum/react-core */ "webpack/sharing/consume/default/@scalprum/react-core/@scalprum/react-core");
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/Skeleton */ "./node_modules/@redhat-cloud-services/frontend-components/esm/Skeleton/Skeleton.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _ChromeNavItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ChromeNavItem */ "./src/components/Navigation/ChromeNavItem.tsx");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");









const toArray = (value) => (Array.isArray(value) ? value : [value]);
const mergeArrays = (orig, index, value) => [...orig.slice(0, index), ...toArray(value), ...orig.slice(index)];
const isRootNavigation = (schema) => {
    return !!(!Array.isArray(schema) && schema?.navItems);
};
const HookedNavigation = ({ useNavigation, dynamicNav, pathname, ...props }) => {
    const currentNamespace = pathname.split('/')[1];
    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
    const schema = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useSelector)(({ chrome: { navigation } }) => navigation[currentNamespace]);
    const currNav = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useSelector)(({ chrome: { navigation } }) => navigation[currentNamespace]?.navItems?.filter((item) => item.dynamicNav === dynamicNav));
    const newNav = useNavigation({ schema, dynamicNav, currentNamespace, currNav });
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (newNav) {
            const newValue = toArray(newNav).map((item, key) => ({
                appId: dynamicNav.split('/')[0],
                ...(currNav?.[key] || currNav?.[0]),
                ...item,
            }));
            if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_5___default()(newValue, currNav) && isRootNavigation(schema)) {
                const currNavIndex = schema.navItems.findIndex((item) => item.dynamicNav === dynamicNav);
                if (currNavIndex !== -1) {
                    dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_7__.loadLeftNavSegment)({
                        ...schema,
                        navItems: mergeArrays(schema.navItems.filter((item) => !(item.dynamicNav && item.dynamicNav === dynamicNav)), currNavIndex, newValue),
                    }, currentNamespace, pathname, true));
                }
            }
            setIsLoaded(true);
        }
    }, [JSON.stringify(newNav)]);
    return isLoaded ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeNavItem__WEBPACK_IMPORTED_MODULE_6__["default"], { ...props })) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__.NavItem, { preventDefault: true },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: "#" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_8__["default"], { size: _redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_8__.SkeletonSize.lg, isDark: true }))));
};
const DynamicNav = ({ dynamicNav, ...props }) => {
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useLocation)();
    const [appName] = dynamicNav.split('/');
    // TODO make useLoadModule generic type
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    const [{ useNavigation }] = (0,_scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__.useLoadModule)({ appName, scope: appName, module: './Navigation' }, {});
    return useNavigation ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(HookedNavigation, { ...props, dynamicNav: dynamicNav, useNavigation: useNavigation, pathname: pathname }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DynamicNav);


/***/ }),

/***/ "./src/components/Navigation/Loader.tsx":
/*!**********************************************!*\
  !*** ./src/components/Navigation/Loader.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/Skeleton */ "./node_modules/@redhat-cloud-services/frontend-components/esm/Skeleton/Skeleton.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);



const NavLoader = () => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("section", { className: "chr-c-app-switcher--loading" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__["default"], { isDark: true, size: _redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__.SkeletonSize.lg })),
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Nav, { "aria-label": "Insights Global Navigation", "data-ouia-safe": "false", ouiaId: "SideNavigation" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavList, null, [...new Array(4)].map((_i, key) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: key, preventDefault: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: "#" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__["default"], { isDark: true, size: _redhat_cloud_services_frontend_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__.SkeletonSize.lg })))))))));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NavLoader);


/***/ }),

/***/ "./src/components/Navigation/componentMapper.ts":
/*!******************************************************!*\
  !*** ./src/components/Navigation/componentMapper.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ChromeNavGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeNavGroup */ "./src/components/Navigation/ChromeNavGroup.tsx");
/* harmony import */ var _ChromeNavExapandable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChromeNavExapandable */ "./src/components/Navigation/ChromeNavExapandable.tsx");
/* harmony import */ var _ChromeNavItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChromeNavItem */ "./src/components/Navigation/ChromeNavItem.tsx");
/* harmony import */ var _DynamicNav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DynamicNav */ "./src/components/Navigation/DynamicNav.tsx");




const componentMapper = {
    group: _ChromeNavGroup__WEBPACK_IMPORTED_MODULE_0__["default"],
    expandable: _ChromeNavExapandable__WEBPACK_IMPORTED_MODULE_1__["default"],
    item: _ChromeNavItem__WEBPACK_IMPORTED_MODULE_2__["default"],
    dynamicNav: _DynamicNav__WEBPACK_IMPORTED_MODULE_3__["default"],
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (componentMapper);


/***/ }),

/***/ "./src/components/Navigation/index.tsx":
/*!*********************************************!*\
  !*** ./src/components/Navigation/index.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _navContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./navContext */ "./src/components/Navigation/navContext.ts");
/* harmony import */ var _componentMapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./componentMapper */ "./src/components/Navigation/componentMapper.ts");
/* harmony import */ var _ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChromeNavItemFactory */ "./src/components/Navigation/ChromeNavItemFactory.tsx");
/* harmony import */ var _components_BetaInfoModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/BetaInfoModal */ "./src/components/BetaInfoModal/index.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _Loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Loader */ "./src/components/Navigation/Loader.tsx");
/* harmony import */ var _ChromeNavItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChromeNavItem */ "./src/components/Navigation/ChromeNavItem.tsx");









const Navigation = ({ loaded, schema }) => {
    const [showBetaModal, setShowBetaModal] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const deferedOnClickArgs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([
        undefined,
        undefined,
        undefined,
    ]);
    const showBundleCatalog = localStorage.getItem('chrome:experimental:quickstarts') === 'true';
    const onLinkClick = (origEvent, href) => {
        if (!showBetaModal && !(0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.isBeta)()) {
            origEvent.preventDefault();
            deferedOnClickArgs.current = [origEvent, href, origEvent?.currentTarget?.text];
            setShowBetaModal(true);
            return false;
        }
        return true;
    };
    if (!loaded) {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Loader__WEBPACK_IMPORTED_MODULE_7__["default"], null);
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-app-title" }, schema?.title),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Nav, { "aria-label": "Insights Global Navigation", "data-ouia-safe": "true", ouiaId: "SideNavigation" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.NavList, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageContextConsumer, null, ({ isNavOpen }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_navContext__WEBPACK_IMPORTED_MODULE_2__["default"].Provider, { value: {
                        componentMapper: _componentMapper__WEBPACK_IMPORTED_MODULE_3__["default"],
                        onLinkClick,
                        inPageLayout: true,
                        isNavOpen,
                    } },
                    schema.navItems.map((item, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeNavItemFactory__WEBPACK_IMPORTED_MODULE_4__["default"], { key: index, ...item }))),
                    showBundleCatalog ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeNavItem__WEBPACK_IMPORTED_MODULE_8__["default"], { title: "Quickstarts", href: `/${(0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.getUrl)('bundle')}/quickstarts`, appId: "dynamic" }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null)))))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_BetaInfoModal__WEBPACK_IMPORTED_MODULE_5__["default"], { isOpen: showBetaModal, onClick: (event) => {
                if (!(0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.isBeta)()) {
                    const [origEvent, href] = deferedOnClickArgs.current;
                    const isMetaKey = event.ctrlKey || event.metaKey || origEvent?.ctrlKey || origEvent?.metaKey;
                    const url = `${document.baseURI}beta${href}`;
                    isMetaKey ? window.open(url) : (window.location.href = url);
                }
            }, onCancel: () => setShowBetaModal(false), menuItemClicked: deferedOnClickArgs.current[2] })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Navigation);


/***/ }),

/***/ "./src/components/Navigation/navContext.ts":
/*!*************************************************!*\
  !*** ./src/components/Navigation/navContext.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const NavContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NavContext);


/***/ }),

/***/ "./src/components/NotFoundRoute/NotFoundRoute.tsx":
/*!********************************************************!*\
  !*** ./src/components/NotFoundRoute/NotFoundRoute.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redhat_cloud_services_frontend_components_InvalidObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components/InvalidObject */ "./node_modules/@redhat-cloud-services/frontend-components/esm/InvalidObject/InvalidObject.js");



const NotFoundRoute = () => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, { id: "not-found" },
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_frontend_components_InvalidObject__WEBPACK_IMPORTED_MODULE_2__["default"], null))));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotFoundRoute);


/***/ }),

/***/ "./src/components/NotFoundRoute/index.ts":
/*!***********************************************!*\
  !*** ./src/components/NotFoundRoute/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _NotFoundRoute__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _NotFoundRoute__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NotFoundRoute */ "./src/components/NotFoundRoute/NotFoundRoute.tsx");



/***/ }),

/***/ "./src/components/QuickStart/LazyQuickStartCatalog.tsx":
/*!*************************************************************!*\
  !*** ./src/components/QuickStart/LazyQuickStartCatalog.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LazyQuickStartCatalog": () => (/* binding */ LazyQuickStartCatalog)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/Messages */ "./src/locales/Messages.ts");




const QuickStartCatalog = (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => __webpack_require__.e(/*! import() | quick-start */ "quick-start").then(__webpack_require__.bind(__webpack_require__, /*! ./QuickStartCatalog */ "./src/components/QuickStart/QuickStartCatalog.tsx")));
const LazyQuickStartCatalog = ({ ...props }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_3__["default"])();
    const propsWithDefaults = {
        title: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].quickStarts)}`,
        hint: `${intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_2__["default"].learnHowTo)}`,
        showFilter: true,
        ...props,
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__.LoadingBox, null) },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(QuickStartCatalog, { ...propsWithDefaults })));
};


/***/ }),

/***/ "./src/components/QuickStart/quickstartValidation.ts":
/*!***********************************************************!*\
  !*** ./src/components/QuickStart/quickstartValidation.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const validateQuickstart = (key, qs) => {
    if (typeof key !== 'string') {
        throw new Error('"key" must be type of string.');
    }
    else if (typeof qs?.metadata?.name !== 'string') {
        throw new Error('"qs.metadata.name" must be type of string.');
    }
    else if (Array.isArray(qs?.spec?.tasks)) {
        throw new Error('qs.metadata.task must be array.');
    }
    else {
        return true;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validateQuickstart);


/***/ }),

/***/ "./src/components/QuickStart/useHelpTopicManager.ts":
/*!**********************************************************!*\
  !*** ./src/components/QuickStart/useHelpTopicManager.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__);


const helpTopicsReducer = (state, action) => {
    switch (action.type) {
        case 'setActiveTopic':
            return {
                ...state,
                activeTopicName: action.activeTopicName,
                prevActiveTopic: action.prevActiveTopic,
                internalTopicsSwitch: false,
            };
        case 'setActiveTopicExternal':
            return {
                ...state,
                internalTopicsSwitch: false,
                prevActiveTopic: action.prevActiveTopic,
            };
        case 'setActiveTopicInternal':
            return {
                ...state,
                prevActiveTopic: action.prevActiveTopic,
                internalTopicsSwitch: true,
            };
        case 'resetActiveTopic': {
            return {
                ...state,
                prevActiveTopic: undefined,
                internalTopicsSwitch: false,
            };
        }
        default:
            return state;
    }
};
const useHelpTopicManager = (helpTopicsAPI) => {
    const [{ activeTopicName, internalTopicsSwitch, prevActiveTopic }, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(helpTopicsReducer, {
        internalTopicsSwitch: false,
    });
    const { setActiveHelpTopicByName, helpTopics, activeHelpTopic } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_1__.HelpTopicContext);
    async function setActiveTopic(activeTopicName, prevActiveTopic) {
        dispatch({ type: 'setActiveTopic', activeTopicName, prevActiveTopic });
        if (activeTopicName?.length > 0) {
            helpTopicsAPI.enableTopics(activeTopicName);
        }
    }
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        /**
         * We can't call the setActiveHelpTopicByName directly after we populate the context with new value
         * The quickstarts module returns a undefined value
         * TODO: Fix it in the quickstarts repository
         */
        if (prevActiveTopic && activeHelpTopic === null) {
            setActiveTopic('', undefined);
        }
        else {
            if (activeHelpTopic?.name && prevActiveTopic === activeTopicName && activeHelpTopic?.name !== activeTopicName) {
                // switching topics via the drawer dropdown
                setActiveHelpTopicByName && setActiveHelpTopicByName(activeHelpTopic.name);
                dispatch({ type: 'setActiveTopicInternal', prevActiveTopic });
            }
            else if (typeof activeTopicName === 'string' && activeTopicName?.length > 0) {
                // switching from outside of the drawer
                if (helpTopics?.find(({ name }) => name === activeTopicName)) {
                    setActiveHelpTopicByName && setActiveHelpTopicByName(activeTopicName);
                    dispatch({ type: 'setActiveTopicExternal', prevActiveTopic: activeTopicName });
                }
            }
            else {
                // clearing active topic
                setActiveHelpTopicByName && setActiveHelpTopicByName('');
                dispatch({ type: 'resetActiveTopic' });
            }
        }
        // active help topic has to be in the list to reset the active topic name
    }, [activeTopicName, helpTopics, activeHelpTopic, internalTopicsSwitch]);
    return {
        setActiveTopic,
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useHelpTopicManager);


/***/ }),

/***/ "./src/components/QuickStart/useHelpTopicState.ts":
/*!********************************************************!*\
  !*** ./src/components/QuickStart/useHelpTopicState.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/interceptors/interceptors.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


const helpTopicsReducer = (state, action) => {
    switch (action.type) {
        case 'setActiveTopics':
            return {
                ...state,
                activeTopics: (action.activeTopics || []).reduce((acc, curr) => ({
                    ...acc,
                    [curr]: !!action.active,
                }), { ...state.activeTopics }),
            };
        case 'setHelpTopics':
            return {
                ...state,
                helpTopics: (action.helpTopics || []).reduce((acc, curr) => ({
                    ...acc,
                    [curr.name]: curr,
                }), { ...state.helpTopics }),
            };
        default:
            return state;
    }
};
const useHelpTopicState = (initialState = { activeTopics: {}, helpTopics: {} }) => {
    const [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(helpTopicsReducer, {
        activeTopics: initialState.activeTopics || {},
        helpTopics: initialState.helpTopics || {},
    });
    function batchToggleTopic(names, active) {
        dispatch({ type: 'setActiveTopics', activeTopics: names, active });
    }
    /**
     * Add new or replace exiting topics
     * New topics
     */
    const addHelpTopics = (topics, enabled = true) => {
        dispatch({ type: 'setHelpTopics', helpTopics: topics });
        batchToggleTopic(topics.map(({ name }) => name), enabled);
    };
    function appendQueryArray(params, name, values) {
        values.forEach((value) => {
            params.append(name, value);
        });
        return params;
    }
    async function fetchHelpTopics({ bundles = [], applications = [], names = [], enabled = true, }) {
        let params = new URLSearchParams('');
        params = appendQueryArray(params, 'bundle', bundles);
        params = appendQueryArray(params, 'application', applications);
        params = appendQueryArray(params, 'name', names);
        try {
            const { data } = await _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_1__["default"].get(`/api/quickstarts/v1/helptopics?${params.toString()}`);
            const content = data.map(({ content }) => content);
            addHelpTopics(content, enabled);
            return content;
        }
        catch (error) {
            console.error('Unable to fetch help topics', error);
            return [];
        }
    }
    function enableTopics(...topicsNames) {
        const newTopics = [];
        const existingTopics = [];
        topicsNames.forEach((name) => {
            if (typeof state.helpTopics[name] === 'undefined') {
                newTopics.push(name);
            }
            else {
                existingTopics.push(name);
            }
        });
        const tasks = [];
        if (newTopics.length > 0) {
            tasks.push(fetchHelpTopics({ enabled: true, names: newTopics }));
        }
        const existingContent = Object.entries(state.helpTopics).reduce((acc, [name, topic]) => [...acc, ...(topicsNames.includes(name) ? [topic] : [])], []);
        batchToggleTopic(existingTopics, true);
        return Promise.all(tasks).then((res) => [...res.flat(), ...existingContent]);
    }
    const disableTopics = (...topicsNames) => {
        batchToggleTopic(topicsNames, false);
    };
    return {
        helpTopics: Object.values(state.helpTopics).filter(({ name }) => state.activeTopics?.[name]),
        addHelpTopics,
        disableTopics,
        enableTopics,
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useHelpTopicState);


/***/ }),

/***/ "./src/components/QuickStart/useQuickstartsStates.ts":
/*!***********************************************************!*\
  !*** ./src/components/QuickStart/useQuickstartsStates.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);



const useQuickstartsStates = () => {
    const accountId = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome }) => chrome?.user?.identity?.internal?.account_id);
    const [allQuickStartStates, setAllQuickStartStatesInternal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [activeQuickStartID, setActiveQuickStartIDInternal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    function setAllQuickStartStates(value) {
        const valueToStore = typeof value === 'function' ? value(allQuickStartStates) : value;
        const activeState = valueToStore[activeQuickStartID];
        if (typeof activeState === 'object') {
            axios__WEBPACK_IMPORTED_MODULE_0___default().post('/api/quickstarts/v1/progress', {
                quickstartName: activeQuickStartID,
                accountId: parseInt(accountId),
                progress: activeState,
            })
                .catch((err) => {
                console.error(`Unable to persis quickstart progress! ${activeQuickStartID}`, err);
            });
        }
        setAllQuickStartStatesInternal(value);
    }
    function setActiveQuickStartID(id) {
        id !== '' && typeof id !== 'function' ? document.body.classList.add('quickstarts-open') : document.body.classList.remove('quickstarts-open');
        setActiveQuickStartIDInternal(id);
    }
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (accountId) {
            axios__WEBPACK_IMPORTED_MODULE_0___default().get('/api/quickstarts/v1/progress', {
                params: {
                    account: accountId,
                },
            })
                .then(({ data: { data } }) => {
                const states = data.reduce((acc, curr) => ({
                    ...acc,
                    [curr.quickstartName]: curr.progress,
                }), {});
                setAllQuickStartStates(states);
            })
                .catch((error) => {
                console.error(error);
            });
        }
    }, [accountId]);
    return {
        allQuickStartStates,
        setAllQuickStartStates,
        activeQuickStartID,
        setActiveQuickStartID,
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useQuickstartsStates);


/***/ }),

/***/ "./src/components/RootApp/RootApp.tsx":
/*!********************************************!*\
  !*** ./src/components/RootApp/RootApp.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @redhat-cloud-services/chrome */ "webpack/sharing/consume/default/@redhat-cloud-services/chrome/@redhat-cloud-services/chrome");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/chromeHistory */ "./src/utils/chromeHistory.ts");
/* harmony import */ var _FeatureFlags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../FeatureFlags */ "./src/components/FeatureFlags/index.ts");
/* harmony import */ var _IDPChecker_IDPChecker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../IDPChecker/IDPChecker */ "./src/components/IDPChecker/IDPChecker.tsx");
/* harmony import */ var _ScalprumRoot__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ScalprumRoot */ "./src/components/RootApp/ScalprumRoot.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _QuickStart_LazyQuickStartCatalog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../QuickStart/LazyQuickStartCatalog */ "./src/components/QuickStart/LazyQuickStartCatalog.tsx");
/* harmony import */ var _QuickStart_useQuickstartsStates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../QuickStart/useQuickstartsStates */ "./src/components/QuickStart/useQuickstartsStates.ts");
/* harmony import */ var _QuickStart_useHelpTopicState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../QuickStart/useHelpTopicState */ "./src/components/QuickStart/useHelpTopicState.ts");
/* harmony import */ var _QuickStart_quickstartValidation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../QuickStart/quickstartValidation */ "./src/components/QuickStart/quickstartValidation.ts");
/* harmony import */ var _analytics_SegmentProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../analytics/SegmentProvider */ "./src/analytics/SegmentProvider.tsx");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _hooks_useBundle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useBundle */ "./src/hooks/useBundle.ts");
/* harmony import */ var _hooks_useUserProfile__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useUserProfile */ "./src/hooks/useUserProfile.ts");


















const NotEntitledModal = (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => __webpack_require__.e(/*! import() */ "src_components_NotEntitledModal_index_tsx").then(__webpack_require__.bind(__webpack_require__, /*! ../NotEntitledModal */ "./src/components/NotEntitledModal/index.tsx")));
const RootApp = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((props) => {
    const { allQuickStartStates, setAllQuickStartStates, activeQuickStartID, setActiveQuickStartID } = (0,_QuickStart_useQuickstartsStates__WEBPACK_IMPORTED_MODULE_11__["default"])();
    const { helpTopics, addHelpTopics, disableTopics, enableTopics } = (0,_QuickStart_useHelpTopicState__WEBPACK_IMPORTED_MODULE_12__["default"])();
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useDispatch)();
    const activeModule = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)(({ chrome: { activeModule } }) => activeModule);
    const quickStarts = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)(({ chrome: { quickstarts: { quickstarts }, }, }) => Object.values(quickstarts).flat());
    const { bundleTitle } = (0,_hooks_useBundle__WEBPACK_IMPORTED_MODULE_16__["default"])();
    // verify if full profile reauth is required
    (0,_hooks_useUserProfile__WEBPACK_IMPORTED_MODULE_17__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_9__.clearQuickstarts)(activeQuickStartID));
    }, [activeModule]);
    /**
     * Updates the available quick starts
     *
     * Usage example:
     * const { quickStarts } = useChrome();
     * quickStarts.set('applicationServices', quickStartsArray)
     *
     * @param {string} key App identifier
     * @param {array} qs Array of quick starts
     */
    const updateQuickStarts = (key, qs) => {
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_9__.populateQuickstartsCatalog)(key, qs));
    };
    const addQuickstart = (key, qs) => {
        return (0,_QuickStart_quickstartValidation__WEBPACK_IMPORTED_MODULE_13__["default"])(key, qs) ? !!dispatch(addQuickstart(key, qs)) : false;
    };
    const quickStartProps = {
        quickStarts,
        activeQuickStartID,
        allQuickStartStates,
        setActiveQuickStartID: setActiveQuickStartID,
        setAllQuickStartStates: setAllQuickStartStates,
        showCardFooters: false,
        language: 'en',
        alwaysShowTaskReview: true,
    };
    const helpTopicsAPI = {
        addHelpTopics,
        disableTopics,
        enableTopics,
    };
    const quickstartsAPI = {
        version: 1,
        set: updateQuickStarts,
        add: addQuickstart,
        toggle: setActiveQuickStartID,
        Catalog: _QuickStart_LazyQuickStartCatalog__WEBPACK_IMPORTED_MODULE_10__.LazyQuickStartCatalog,
        updateQuickStarts,
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_HistoryRouter, { history: _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_4__["default"], basename: (0,_utils_common__WEBPACK_IMPORTED_MODULE_15__.isBeta)() ? '/beta' : '/' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_analytics_SegmentProvider__WEBPACK_IMPORTED_MODULE_14__["default"], { activeModule: activeModule },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FeatureFlags__WEBPACK_IMPORTED_MODULE_5__.FeatureFlagsProvider, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_IDPChecker_IDPChecker__WEBPACK_IMPORTED_MODULE_6__["default"], null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: null },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NotEntitledModal, null)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_3__.ChromeProvider, { bundle: bundleTitle },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_2__.QuickStartContainer, { ...quickStartProps },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_2__.HelpTopicContainer, { helpTopics: helpTopics },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScalprumRoot__WEBPACK_IMPORTED_MODULE_7__["default"], { ...props, quickstartsAPI: quickstartsAPI, helpTopicsAPI: helpTopicsAPI })))))))));
});
RootApp.displayName = 'MemoizedRootApp';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RootApp);


/***/ }),

/***/ "./src/components/RootApp/ScalprumRoot.tsx":
/*!*************************************************!*\
  !*** ./src/components/RootApp/ScalprumRoot.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scalprum/react-core */ "webpack/sharing/consume/default/@scalprum/react-core/@scalprum/react-core");
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/chromeHistory */ "./src/utils/chromeHistory.ts");
/* harmony import */ var _layouts_DefaultLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layouts/DefaultLayout */ "./src/layouts/DefaultLayout.tsx");
/* harmony import */ var _layouts_AllServices__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layouts/AllServices */ "./src/layouts/AllServices.tsx");
/* harmony import */ var _layouts_FavoritedServices__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layouts/FavoritedServices */ "./src/layouts/FavoritedServices.tsx");
/* harmony import */ var _utils_historyListener__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/historyListener */ "./src/utils/historyListener.ts");
/* harmony import */ var _analytics_SegmentContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../analytics/SegmentContext */ "./src/analytics/SegmentContext.ts");
/* harmony import */ var _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/loading-fallback */ "./src/utils/loading-fallback.tsx");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../auth */ "./src/auth/index.ts");
/* harmony import */ var _LibJWTContext__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../LibJWTContext */ "./src/components/LibJWTContext/index.ts");
/* harmony import */ var _chrome_create_chrome__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../chrome/create-chrome */ "./src/chrome/create-chrome.ts");
/* harmony import */ var _LandingNav__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../LandingNav */ "./src/components/LandingNav/index.ts");
/* harmony import */ var _Navigation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Navigation */ "./src/components/Navigation/index.tsx");
/* harmony import */ var _QuickStart_useHelpTopicManager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../QuickStart/useHelpTopicManager */ "./src/components/QuickStart/useHelpTopicManager.ts");
/* harmony import */ var _Footer_Footer__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../Footer/Footer */ "./src/components/Footer/Footer.tsx");
/* harmony import */ var _chrome_update_shared_scope__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../chrome/update-shared-scope */ "./src/chrome/update-shared-scope.ts");
/* harmony import */ var _hooks_useBundleVisitDetection__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../hooks/useBundleVisitDetection */ "./src/hooks/useBundleVisitDetection.ts");






















const ProductSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => __webpack_require__.e(/*! import() */ "src_components_Stratosphere_ProductSelection_tsx").then(__webpack_require__.bind(__webpack_require__, /*! ../Stratosphere/ProductSelection */ "./src/components/Stratosphere/ProductSelection.tsx")));
const useGlobalFilter = (callback) => {
    const selectedTags = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ globalFilter: { selectedTags } }) => selectedTags, react_redux__WEBPACK_IMPORTED_MODULE_2__.shallowEqual);
    return callback(selectedTags);
};
const ScalprumRoot = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ config, helpTopicsAPI, quickstartsAPI, ...props }) => {
    const { setFilteredHelpTopics } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_4__.HelpTopicContext);
    const [cookieElement, setCookieElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
    const internalFilteredTopics = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
    const { analytics } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_analytics_SegmentContext__WEBPACK_IMPORTED_MODULE_11__["default"]);
    const libJwt = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_LibJWTContext__WEBPACK_IMPORTED_MODULE_14__["default"]);
    const store = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useStore)();
    const modulesConfig = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { modules } }) => modules);
    const { setActiveTopic } = (0,_QuickStart_useHelpTopicManager__WEBPACK_IMPORTED_MODULE_18__["default"])(helpTopicsAPI);
    function isStringArray(arr) {
        return typeof arr[0] === 'string';
    }
    async function enableTopics(...names) {
        let internalNames = [];
        let shouldAppend = false;
        if (isStringArray(names)) {
            internalNames = names;
        }
        else {
            internalNames = names[0].names;
            shouldAppend = !!names[0].append;
        }
        return helpTopicsAPI.enableTopics(...internalNames).then((res) => {
            internalFilteredTopics.current = shouldAppend
                ? [...internalFilteredTopics.current, ...res.filter((topic) => !internalFilteredTopics.current.find(({ name }) => name === topic.name))]
                : res;
            setFilteredHelpTopics?.(internalFilteredTopics.current);
            return res;
        });
    }
    function disableTopics(...topicsNames) {
        helpTopicsAPI.disableTopics(...topicsNames);
        internalFilteredTopics.current = internalFilteredTopics.current.filter((topic) => !topicsNames.includes(topic.name));
        setFilteredHelpTopics?.(internalFilteredTopics.current);
    }
    // track bundle visits
    (0,_hooks_useBundleVisitDetection__WEBPACK_IMPORTED_MODULE_21__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        // prepare webpack module sharing scope overrides
        (0,_chrome_update_shared_scope__WEBPACK_IMPORTED_MODULE_20__["default"])();
        const unregister = _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_6__["default"].listen(_utils_historyListener__WEBPACK_IMPORTED_MODULE_10__["default"]);
        return () => {
            if (typeof unregister === 'function') {
                return unregister();
            }
        };
    }, []);
    const setPageMetadata = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((pageOptions) => {
        window._segment = {
            ...window._segment,
            pageOptions,
        };
    }, []);
    const getUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((0,_auth__WEBPACK_IMPORTED_MODULE_13__.createGetUser)(libJwt), [libJwt]);
    const helpTopicsChromeApi = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
        ...helpTopicsAPI,
        setActiveTopic,
        enableTopics,
        disableTopics,
        closeHelpTopic: () => {
            setActiveTopic('');
        },
    }), []);
    const chromeApi = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_chrome_create_chrome__WEBPACK_IMPORTED_MODULE_15__.createChromeContext)({
        analytics: analytics,
        getUser,
        helpTopics: helpTopicsChromeApi,
        libJwt,
        modulesConfig,
        quickstartsAPI,
        useGlobalFilter,
        store,
        setPageMetadata,
    }), []);
    const scalprumProviderProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
        // set the deprecated chrome API to window
        window.insights.chrome = chromeApi;
        return {
            config,
            api: {
                chrome: chromeApi,
            },
            pluginSDKOptions: {
                pluginLoaderOptions: {
                    // sharedScope: scope,
                    postProcessManifest: (manifest) => {
                        if (manifest.name === 'chrome') {
                            return {
                                ...manifest,
                                // Do not include chrome chunks in manifest for chrome. It will result in an infinite loading loop
                                // window.chrome always exists because chrome container is always initialized
                                loadScripts: [],
                            };
                        }
                        return {
                            ...manifest,
                            loadScripts: manifest.loadScripts ?? ['plugin-entry.js'],
                            registrationMethod: manifest.registrationMethod ?? 'callback',
                        };
                    },
                },
            },
        };
    }, []);
    return (
    /**
     * Once all applications are migrated to chrome 2:
     * - define chrome API in chrome root after it mounts
     * - copy these functions to window
     * - add deprecation warning to the window functions
     */
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_1__.ScalprumProvider, { ...scalprumProviderProps },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Routes, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { index: true, path: "/", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_layouts_DefaultLayout__WEBPACK_IMPORTED_MODULE_7__["default"], { Sidebar: _LandingNav__WEBPACK_IMPORTED_MODULE_16__["default"], Footer: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Footer_Footer__WEBPACK_IMPORTED_MODULE_19__["default"], { setCookieElement: setCookieElement, cookieElement: cookieElement }), ...props }) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { path: "/connect/products", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_12__["default"] },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProductSelection, null)) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { path: "/allservices", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_12__["default"] },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_layouts_AllServices__WEBPACK_IMPORTED_MODULE_8__["default"], { Footer: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Footer_Footer__WEBPACK_IMPORTED_MODULE_19__["default"], { setCookieElement: setCookieElement, cookieElement: cookieElement }) })) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { path: "/favoritedservices", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_12__["default"] },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_layouts_FavoritedServices__WEBPACK_IMPORTED_MODULE_9__["default"], { Footer: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Footer_Footer__WEBPACK_IMPORTED_MODULE_19__["default"], { setCookieElement: setCookieElement, cookieElement: cookieElement }) })) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { path: "/security", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_layouts_DefaultLayout__WEBPACK_IMPORTED_MODULE_7__["default"], { ...props }) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Route, { path: "*", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_layouts_DefaultLayout__WEBPACK_IMPORTED_MODULE_7__["default"], { Sidebar: _Navigation__WEBPACK_IMPORTED_MODULE_17__["default"], ...props }) }))));
}, 
// config rarely changes
(prev, next) => lodash_isEqual__WEBPACK_IMPORTED_MODULE_5___default()(prev.config, next.config));
ScalprumRoot.displayName = 'MemoizedScalprumRoot';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScalprumRoot);


/***/ }),

/***/ "./src/components/RootApp/index.ts":
/*!*****************************************!*\
  !*** ./src/components/RootApp/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _RootApp__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _RootApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RootApp */ "./src/components/RootApp/RootApp.tsx");



/***/ }),

/***/ "./src/components/Routes/Routes.tsx":
/*!******************************************!*\
  !*** ./src/components/Routes/Routes.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ChromeRoute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ChromeRoute */ "./src/components/ChromeRoute/index.ts");
/* harmony import */ var _NotFoundRoute__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../NotFoundRoute */ "./src/components/NotFoundRoute/index.ts");
/* harmony import */ var _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/loading-fallback */ "./src/utils/loading-fallback.tsx");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/common */ "./src/utils/common.ts");







const QuickstartCatalogRoute = (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => __webpack_require__.e(/*! import() */ "src_components_QuickstartsCatalogRoute_index_ts").then(__webpack_require__.bind(__webpack_require__, /*! ../QuickstartsCatalogRoute */ "./src/components/QuickstartsCatalogRoute/index.ts")));
const redirects = [
    {
        path: '/insights',
        to: '/insights/dashboard',
    },
    {
        path: '/docs',
        to: '/api/docs',
    },
];
const ChromeRoutes = ({ routesProps }) => {
    const moduleRoutes = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ chrome: { moduleRoutes } }) => moduleRoutes);
    const showBundleCatalog = localStorage.getItem('chrome:experimental:quickstarts') === 'true';
    let list = moduleRoutes;
    if ((0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.isFedRamp)()) {
        list = list.filter((list) => list.isFedramp);
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Routes, null,
        showBundleCatalog && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { path: "/([^\\/]+)/quickstarts", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: _utils_loading_fallback__WEBPACK_IMPORTED_MODULE_5__["default"] },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(QuickstartCatalogRoute, null)) })),
        redirects.map(({ path, to }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { key: path, path: path, element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Navigate, { replace: true, to: to }) }))),
        list.map((app) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { key: app.path, path: app.absolute ? app.path : `${app.path}/*`, element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChromeRoute__WEBPACK_IMPORTED_MODULE_3__["default"], { ...routesProps, ...app }) }))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { path: "*", element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotFoundRoute__WEBPACK_IMPORTED_MODULE_4__["default"], null) })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeRoutes);


/***/ }),

/***/ "./src/components/Search/SearchDescription.tsx":
/*!*****************************************************!*\
  !*** ./src/components/Search/SearchDescription.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _parseHighlight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseHighlight */ "./src/components/Search/parseHighlight.ts");
/* harmony import */ var _SearchDescription_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchDescription.scss */ "./src/components/Search/SearchDescription.scss");



const SearchDescription = ({ description, bundleTitle, highlight = [], }) => {
    const parsedDescription = (0,_parseHighlight__WEBPACK_IMPORTED_MODULE_1__["default"])(description, highlight);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-c-search__item__description", style: { display: 'flex', flexDirection: 'column' } },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", { dangerouslySetInnerHTML: { __html: parsedDescription } }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: "bundle" }, bundleTitle)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchDescription);


/***/ }),

/***/ "./src/components/Search/SearchGroup.tsx":
/*!***********************************************!*\
  !*** ./src/components/Search/SearchGroup.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ChromeLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeLink */ "./src/components/ChromeLink/index.ts");
/* harmony import */ var _SearchDescription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchDescription */ "./src/components/Search/SearchDescription.tsx");
/* harmony import */ var _SearchTitle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SearchTitle */ "./src/components/Search/SearchTitle.tsx");





const SearchGroup = ({ groupLabel, items, highlighting, }) => {
    return items.length > 0 ? (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.MenuGroup, { label: groupLabel }, items.map(({ id, allTitle, bundle, bundle_title, abstract, relative_uri }) => (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_0__.MenuItem, { component: (props) => react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ChromeLink__WEBPACK_IMPORTED_MODULE_2__["default"], { ...props, href: relative_uri }), description: react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_SearchDescription__WEBPACK_IMPORTED_MODULE_3__["default"], { highlight: highlighting[id]?.abstract, bundle: bundle[0], description: abstract, bundleTitle: bundle_title[0] }), key: id },
        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_SearchTitle__WEBPACK_IMPORTED_MODULE_4__["default"], { title: allTitle, highlight: highlighting[id]?.allTitle })))))) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchGroup);


/***/ }),

/***/ "./src/components/Search/SearchInput.tsx":
/*!***********************************************!*\
  !*** ./src/components/Search/SearchInput.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _SearchInput_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchInput.scss */ "./src/components/Search/SearchInput.scss");
/* harmony import */ var _SearchGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SearchGroup */ "./src/components/Search/SearchGroup.tsx");





const REPLACE_TAG = 'REPLACE_TAG';
/**
 * The ?q is the search term.
 * ------
 * The "~" after the search term enables fuzzy search (case sensitivity, similar results for typos).
 * For example "inventry" query yields results with Inventory string within it.
 * We can use distance ~(0-2) for example: "~2" to narrow restrict/expand the fuzzy search range
 *
 * Query parsin docs: https://solr.apache.org/guide/7_7/the-standard-query-parser.html#the-standard-query-parser
 *
 * hl=true enables string "highlight"
 * hl.fl=field_name specifies field to be highlighted
 */
const BASE_SEARCH = new URLSearchParams();
BASE_SEARCH.append('q', `${REPLACE_TAG}~2`); // add query replacement tag and enable fuzzy search with ~10
BASE_SEARCH.append('fq', 'documentKind:ModuleDefinition'); // search for ModuleDefinition documents
BASE_SEARCH.append('rows', '10'); // request 10 results
BASE_SEARCH.append('hl', 'true'); // enable highlight
BASE_SEARCH.append('hl.fl', 'abstract'); // highlight description
BASE_SEARCH.append('hl.fl', 'allTitle'); // highlight title
BASE_SEARCH.append('hl.snippets', '3'); // enable up to 3 highlights in a single string
const BASE_URL = new URL('https://access.stage.redhat.com/hydra/rest/search/platform/console/');
BASE_URL.search = BASE_SEARCH.toString();
const SEARCH_QUERY = BASE_URL.toString();
const getMaxMenuHeight = (menuElement) => {
    if (!menuElement) {
        return 0;
    }
    const { height: bodyHeight } = document.body.getBoundingClientRect();
    const { top: menuTopOffset } = menuElement.getBoundingClientRect();
    // do not allow the menu to overflow the screen
    // leave 4 px free on the bottom of the viewport
    return bodyHeight - menuTopOffset - 4;
};
const SearchInput = () => {
    const isEnabled = localStorage.getItem('chrome:experimental:search') === 'true';
    const [isOpen, setIsOpen] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(false);
    const [searchValue, setSearchValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [isFetching, setIsFetching] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
        docs: [],
        maxScore: 0,
        numFound: 0,
        start: 0,
    });
    const [highlighting, sethigHlighting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
    const toggleRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    // sort result items based on matched field and its priority
    const resultCategories = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => searchResults.docs.reduce((acc, curr) => {
        if (highlighting[curr.id]?.allTitle) {
            return {
                ...acc,
                highLevel: [...acc.highLevel, curr],
            };
        }
        if (highlighting[curr.id]?.abstract) {
            return {
                ...acc,
                midLevel: [...acc.midLevel, curr],
            };
        }
        return {
            ...acc,
            lowLevel: [...acc.lowLevel, curr],
        };
    }, {
        highLevel: [],
        midLevel: [],
        lowLevel: [],
    }), [searchResults.docs, highlighting]);
    const handleMenuKeys = (event) => {
        if (!isOpen) {
            return;
        }
        if (menuRef.current?.contains(event.target) || toggleRef.current?.contains(event.target)) {
            if (event.key === 'Escape' || event.key === 'Tab') {
                setIsOpen(!isOpen);
                toggleRef.current?.focus();
            }
        }
    };
    const handleClickOutside = (event) => {
        if (isOpen && !menuRef.current?.contains(event.target)) {
            setIsOpen(false);
        }
    };
    const onInputClick = (ev) => {
        ev.stopPropagation(); // Stop handleClickOutside from handling, it would close the menu
        searchResults.numFound > 0 && setIsOpen(true);
    };
    const onToggleKeyDown = (ev) => {
        ev.stopPropagation(); // Stop handleClickOutside from handling, it would close the menu
        if (!isOpen) {
            setIsOpen(true);
        }
        if (isOpen && ev.key === 'ArrowDown' && menuRef.current) {
            const firstElement = menuRef.current.querySelector('li > button:not(:disabled), li > a:not(:disabled)');
            firstElement && firstElement.focus();
        }
        else if (isOpen && ev.key === 'Escape') {
            setIsOpen(false);
        }
    };
    const handleWindowResize = () => {
        const maxHeight = getMaxMenuHeight(menuRef.current);
        if (menuRef.current) {
            menuRef.current.style.maxHeight = `${maxHeight}px`;
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        isMounted.current = true;
        // make sure the menu does not overflow the screen and creates extra space bellow the main content
        window.addEventListener('resize', handleWindowResize);
        // calculate initial max height
        handleWindowResize();
        return () => {
            window.removeEventListener('resize', handleWindowResize);
            isMounted.current = false;
        };
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        handleWindowResize();
        window.addEventListener('keydown', handleMenuKeys);
        window.addEventListener('click', handleClickOutside);
        return () => {
            window.removeEventListener('keydown', handleMenuKeys);
            window.removeEventListener('click', handleClickOutside);
        };
    }, [isOpen, menuRef]);
    if (!isEnabled) {
        return null;
    }
    const handleFetch = (value) => {
        return fetch(SEARCH_QUERY.replace(REPLACE_TAG, value))
            .then((r) => r.json())
            .then(({ response, highlighting }) => {
            if (isMounted.current) {
                setSearchResults(response);
                sethigHlighting(highlighting);
            }
        })
            .finally(() => {
            isMounted.current && setIsFetching(false);
        });
    };
    const debouncedFetch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(handleFetch, 500), []);
    const handleChange = (value) => {
        setSearchValue(value);
        setIsFetching(true);
        debouncedFetch(value);
    };
    const toggle = (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.SearchInput, { onClick: onInputClick, ref: toggleRef, onKeyDown: onToggleKeyDown, placeholder: "Search for services", value: searchValue, onChange: handleChange, className: "chr-c-search__input" }));
    const menu = (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Menu, { ref: menuRef, className: "pf-u-mt-xs chr-c-search__menu" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.MenuContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.MenuList, null,
                isFetching ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, { className: "pf-u-p-md" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner, { size: "xl" }))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { highlighting: highlighting, groupLabel: "High priority", items: resultCategories.highLevel }),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { highlighting: highlighting, groupLabel: "Medium priority", items: resultCategories.midLevel }),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { highlighting: highlighting, groupLabel: "Low priority", items: resultCategories.lowLevel }))),
                searchResults.numFound === 0 && !isFetching && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.MenuItem, null, "No matching results")))));
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { ref: containerRef, className: "chr-c-search__input" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Popper, { trigger: toggle, popper: menu, appendTo: containerRef.current || undefined, isVisible: isOpen })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchInput);


/***/ }),

/***/ "./src/components/Search/SearchTitle.tsx":
/*!***********************************************!*\
  !*** ./src/components/Search/SearchTitle.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _parseHighlight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseHighlight */ "./src/components/Search/parseHighlight.ts");
/* harmony import */ var _SearchTitle_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchTitle.scss */ "./src/components/Search/SearchTitle.scss");



const SearchTitle = ({ title, highlight }) => {
    const parsedDescription = (0,_parseHighlight__WEBPACK_IMPORTED_MODULE_1__["default"])(title, highlight);
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", { className: "chr-c-search__title", dangerouslySetInnerHTML: { __html: parsedDescription } });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchTitle);


/***/ }),

/***/ "./src/components/Search/parseHighlight.ts":
/*!*************************************************!*\
  !*** ./src/components/Search/parseHighlight.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// legth of </mark> string
const MARK_SIZE = 6;
// number of characters of full mark tag <mark></mark>
const MARK_OFFSET = 13;
const MARK_START = '<mark>';
const MARK_END = '</mark>';
// merge multiple highlight marks into single string
const parseHighlights = (base, highlights = []) => {
    let result = base;
    let markIndexes = [];
    // find all highlight indexes
    highlights.forEach((highlight) => {
        const markStart = highlight.match(/<mark>/);
        const markEnd = highlight.match(/<\/mark>/);
        if (typeof markStart?.index === 'number' && typeof markEnd?.index === 'number') {
            markIndexes.push([markStart.index, markEnd.index]);
        }
    });
    const highlightStartIndexes = highlights.map((item) => base.match(item.replace('<mark>', '').replace('</mark>', ''))?.index);
    markIndexes = markIndexes
        // update mark positions based mark count
        .map((marks, index) => [marks[0] + index * MARK_OFFSET, marks[1] + index * MARK_OFFSET]);
    // highlight marks in string
    markIndexes.forEach(([start, end], index) => {
        // adjust for highlight starting index
        const startIndex = start + highlightStartIndexes[index];
        const endIndex = end + highlightStartIndexes[index];
        result = `${result.slice(0, startIndex)}${MARK_START}${result.slice(startIndex, endIndex - MARK_SIZE)}${MARK_END}${result.slice(endIndex - MARK_SIZE)}`;
    });
    // replace mark with span tags
    return result.replaceAll('<mark>', '<span>').replaceAll('</mark>', '</span>');
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parseHighlights);


/***/ }),

/***/ "./src/components/Stratosphere/RedirectBanner.tsx":
/*!********************************************************!*\
  !*** ./src/components/Stratosphere/RedirectBanner.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AWS_BANNER_NAME": () => (/* binding */ AWS_BANNER_NAME),
/* harmony export */   "AZURE_BANNER_NAME": () => (/* binding */ AZURE_BANNER_NAME),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);




// TODO: Figure out what param chrome should expect
const AWS_BANNER_NAME = 'from-aws';
const AZURE_BANNER_NAME = 'from-azure';
const RedirectBanner = () => {
    const { pathname, search, hash, state } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useLocation)();
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useNavigate)();
    const params = new URLSearchParams(search);
    const partner = params.has(AWS_BANNER_NAME) ? 'AWS' : params.has(AZURE_BANNER_NAME) ? 'Microsoft Azure' : null;
    const product = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state) => state.chrome.activeProduct);
    const handleClose = () => {
        // remove only the flag search param
        params.delete(AWS_BANNER_NAME);
        params.delete(AZURE_BANNER_NAME);
        // only change the search params
        navigate({
            pathname,
            search: params.toString(),
            hash,
        }, {
            state,
            replace: true,
        });
    };
    // show the banner only if correct search param exists
    return params.has(AWS_BANNER_NAME) || params.has(AZURE_BANNER_NAME) ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Alert, { actionClose: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.AlertActionCloseButton, { "data-testid": "stratosphere-banner-close", onClose: handleClose }), isInline: true, variant: "success", title: `Congratulations, your Red Hat and ${partner} accounts are linked` },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, null,
                "Welcome to the Red Hat Hybrid Cloud Console. If you cannot access production tools for a subscription that you have purchased, please wait 5 minutes and and confirm your subscription at subscription inventory. ",
                product ? `Here you can configure or manage ${product}` : '',
                "."),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: "#" }, "View subscription inventory")))) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedirectBanner);


/***/ }),

/***/ "./src/hooks/useAllServices.ts":
/*!*************************************!*\
  !*** ./src/hooks/useAllServices.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_AllServices_allServicesLinks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/AllServices/allServicesLinks */ "./src/components/AllServices/allServicesLinks.ts");
/* harmony import */ var _components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/AllServices/AllServicesSection */ "./src/components/AllServices/AllServicesSection.tsx");
/* harmony import */ var _components_AppFilter_useAppFilter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/AppFilter/useAppFilter */ "./src/components/AppFilter/useAppFilter.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");







const isBetaEnv = (0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.isBeta)();
const handleBundleResponse = (bundle) => {
    const flatLinks = bundle.data.navItems.reduce((acc, { navItems, routes, expandable, ...rest }) => {
        // item is a group
        if (navItems) {
            return [
                ...acc,
                ...handleBundleResponse({
                    data: {
                        ...rest,
                        navItems,
                    },
                }),
            ];
        }
        // item is an expandable section
        if (expandable && routes) {
            return [...acc, ...routes];
        }
        // regular NavItem
        return [...acc, rest];
    }, []);
    return flatLinks.flat();
};
const parseBundlesToObject = (items) => items.reduce((acc, curr) => curr.href // Omit items with no href
    ? {
        ...acc,
        [curr.href]: curr,
    }
    : acc, {});
const matchStrings = (value, searchTerm) => {
    // convert strings to lowercase and remove any white spaces
    return value.toLocaleLowerCase().replace(/\s/gm, '').includes(searchTerm.toLocaleLowerCase().replace(/\s/gm, ''));
};
// remove links that do not include the search term
const filterAllServicesLinks = (links, filterValue) => {
    return links.reduce((acc, link) => {
        // groups have links nested, we have to filter them as well
        if ((0,_components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__.isAllServicesGroup)(link)) {
            const groupLinks = filterAllServicesLinks(link.links, filterValue);
            // replace group links with filtered results
            const newGroup = {
                ...link,
                links: groupLinks,
            };
            // do not include empty group to result
            return [...acc, ...(groupLinks.length > 0 ? [newGroup] : [])];
        }
        // include leaf link only if it matches
        if (matchStrings(link.title, filterValue)) {
            return [...acc, link];
        }
        return acc;
    }, []);
};
// remove sections that do not include any relevant items or their title does not match the search term
const filterAllServicesSections = (allServicesLinks, filterValue) => {
    return allServicesLinks.reduce((acc, section) => {
        // if a section title matches, include in results
        if (matchStrings(section.title, filterValue)) {
            return [...acc, section];
        }
        // filter section links
        const sectionLinks = filterAllServicesLinks(section.links, filterValue);
        // include section only if internal links match the term
        if (sectionLinks.length > 0) {
            return [...acc, { ...section, links: sectionLinks }];
        }
        return acc;
    }, []);
};
const useAllServices = () => {
    const [{ availableLinks, ready, error }, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        ready: false,
        availableLinks: [],
        error: false,
    });
    const [filterValue, setFilterValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // TODO: move constant once the AppFilter is fully replaced
    const bundles = _components_AppFilter_useAppFilter__WEBPACK_IMPORTED_MODULE_5__.requiredBundles;
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        Promise.all(bundles.map((fragment) => axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${isBetaEnv ? '/beta' : ''}/config/chrome/${fragment}-navigation.json?ts=${Date.now()}`)
            .then(handleBundleResponse)
            .catch((err) => {
            console.error('Unable to load appfilter bundle', err, fragment);
            return [];
        }))).then((bundleItems) => {
            const availableLinks = parseBundlesToObject(bundleItems.flat());
            setState((prev) => ({
                ...prev,
                availableLinks: bundleItems.flat(),
                ready: true,
                // no links means all bundle requests have failed
                error: Object.keys(availableLinks).length === 0,
            }));
        });
    }, []);
    // AllServices pages section
    // update only on ready status change
    const linkSections = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
        // create a flat array of all available link href
        const linksToMatch = _components_AllServices_allServicesLinks__WEBPACK_IMPORTED_MODULE_3__["default"].flatMap((item) => {
            return item.links;
        })
            .flatMap((item) => {
            // use router "path/*" to increase number of route matches
            if ((0,_components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__.isAllServicesGroup)(item)) {
                return item.links.map(({ href }) => `${href}/*`);
            }
            return [`${item.href}/*`];
        });
        // use router match to remove links that are not included in current environment (chrome navigation files)
        const matchedLinks = availableLinks.reduce((acc, item) => {
            const match = linksToMatch.find((link) => (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.matchPath)(link, item.href));
            if (match) {
                return [...acc, { ...item, routeMatch: match }];
            }
            return acc;
        }, []);
        // pre-filter sections data by filter value
        // re-create all services section data with links avaiable in current environments
        return filterAllServicesSections(_components_AllServices_allServicesLinks__WEBPACK_IMPORTED_MODULE_3__["default"], filterValue).reduce((acc, curr) => {
            const sectionLinks = curr.links.filter((item) => {
                return (0,_components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__.isAllServicesGroup)(item)
                    ? item.links.filter(({ href, isExternal }) => isExternal || matchedLinks.find((link) => (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.matchPath)(link.routeMatch, href))).length > 0
                    : item.isExternal || matchedLinks.find((link) => (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.matchPath)(link.routeMatch, item.href));
            });
            if (sectionLinks.length > 0) {
                return [...acc, { ...curr, links: sectionLinks }];
            }
            return acc;
        }, []);
        // run hook after data are loaded or filter value changed
    }, [ready, filterValue]);
    // Provide a flat list of all avaiable links
    const servicesLinks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => linkSections
        .flatMap(({ links }) => links)
        .flatMap((item) => ((0,_components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__.isAllServicesGroup)(item) ? item.links : item))
        .flat(), [linkSections]);
    return {
        linkSections,
        servicesLinks,
        error,
        ready,
        filterValue,
        setFilterValue,
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useAllServices);


/***/ }),

/***/ "./src/hooks/useBundle.ts":
/*!********************************!*\
  !*** ./src/hooks/useBundle.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bundleMapping": () => (/* binding */ bundleMapping),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");

const bundleMapping = {
    'application-services': 'Application and Data Services',
    openshift: 'OpenShift',
    ansible: 'Ansible Automation Platform',
    insights: 'Red Hat Insights',
    edge: 'Edge management',
    settings: 'Settings',
    landing: 'Home',
    allservices: 'Home',
    iam: 'Identity & Access Management',
    internal: 'Internal',
};
const useBundle = () => {
    const bundleId = (0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.getUrl)('bundle');
    return { bundleId, bundleTitle: bundleMapping[bundleId] || bundleId };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useBundle);


/***/ }),

/***/ "./src/hooks/useBundleVisitDetection.ts":
/*!**********************************************!*\
  !*** ./src/hooks/useBundleVisitDetection.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redhat-cloud-services/chrome */ "webpack/sharing/consume/default/@redhat-cloud-services/chrome/@redhat-cloud-services/chrome");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);






// TMP Insights specific trigger
const shouldSendVisit = (bundle, visits) => bundle === 'insights' && !visits[bundle];
const sendVisitedBundle = async (orgId) => {
    axios__WEBPACK_IMPORTED_MODULE_4___default().post('/api/insights/v1/weeklyreportautosubscribe/', {
        org_id: orgId,
        is_auto_subscribed: true,
    });
};
const useBundleVisitDetection = () => {
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useLocation)();
    const orgId = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)(({ chrome: { user } }) => user?.identity?.org_id);
    const { markVisited, visitedBundles } = (0,_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_2__.useVisitedBundles)();
    const bundle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.getUrl)('bundle'), [pathname]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (shouldSendVisit(bundle, visitedBundles) && orgId) {
            sendVisitedBundle(orgId);
        }
        if (bundle?.length > 0 && orgId) {
            markVisited(bundle);
        }
    }, [bundle, orgId]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useBundleVisitDetection);


/***/ }),

/***/ "./src/hooks/useUserProfile.ts":
/*!*************************************!*\
  !*** ./src/hooks/useUserProfile.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jwt_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../jwt/jwt */ "./src/jwt/jwt.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");




/**
 * If required, attempt to reauthenticated current user with full profile login.
 */
const useUserProfile = () => {
    // get scope module definition
    const activeModule = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ chrome: { activeModule, modules } }) => (activeModule ? (modules || {})[activeModule] : undefined));
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        // check current login method
        const currentProfile = localStorage.getItem(_utils_common__WEBPACK_IMPORTED_MODULE_3__.LOGIN_TYPE_STORAGE_KEY);
        // if current login scope is not full profile and scope requires it, trigger full profile login`
        if (activeModule?.fullProfile && currentProfile !== 'rhfull') {
            (0,_jwt_jwt__WEBPACK_IMPORTED_MODULE_2__.login)(true);
        }
    }, [activeModule]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUserProfile);


/***/ }),

/***/ "./src/jwt/Priv.ts":
/*!*************************!*\
  !*** ./src/jwt/Priv.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var keycloak_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! keycloak-js */ "./node_modules/keycloak-js/dist/keycloak.mjs");

class Priv {
    _cookie;
    _keycloak;
    cookie;
    logoutDelay;
    logoutTimeout;
    constructor() {
        this._cookie;
        this._keycloak = {};
        this.logoutDelay = 3 * 60 * 60 * 1000; // 3 hours in MS
    }
    setCookie(cookie) {
        this.cookie = cookie;
    }
    setKeycloak(options, onTokenExpired, onAuthSuccess, onAuthRefreshSuccess) {
        this._keycloak = new keycloak_js__WEBPACK_IMPORTED_MODULE_0__["default"](options);
        this._keycloak.onTokenExpired = onTokenExpired;
        this._keycloak.onAuthSuccess = onAuthSuccess;
        this._keycloak.onAuthRefreshSuccess = onAuthRefreshSuccess;
    }
    initializeKeycloak(options) {
        this._keycloak?.init(options);
    }
    setToken(token) {
        this._keycloak.authenticated = true;
        this._keycloak.token = token;
    }
    initialize(options) {
        return this._keycloak.init(options);
    }
    setTokenParsed(tokenParsed) {
        this._keycloak.tokenParsed = tokenParsed;
    }
    getTokenParsed() {
        return this._keycloak.tokenParsed;
    }
    getToken() {
        return this._keycloak.token;
    }
    getRefershToken() {
        return this._keycloak.refreshToken;
    }
    login(options) {
        return this._keycloak.login(options).then((resp) => {
            if (this.logoutTimeout) {
                clearTimeout(this.logoutTimeout);
            }
            this.logoutTimeout = setTimeout(() => {
                this.logout();
            }, this.logoutDelay);
            return resp;
        });
    }
    clearToken() {
        this._keycloak.clearToken();
    }
    getCookie() {
        return this.cookie;
    }
    logout(options = {}) {
        return this._keycloak.logout(options);
    }
    getAuthenticated() {
        return this._keycloak.authenticated;
    }
    updateToken() {
        // 5 is default KC value, min validaty is required by KC byt then has a default value for some reason
        return this._keycloak.updateToken(5);
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Priv);


/***/ }),

/***/ "./src/jwt/entitlements.ts":
/*!*********************************!*\
  !*** ./src/jwt/entitlements.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _redhat_cloud_services_entitlements_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @redhat-cloud-services/entitlements-client */ "./node_modules/@redhat-cloud-services/entitlements-client/dist/index.js");
/* harmony import */ var _redhat_cloud_services_entitlements_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_entitlements_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/cache */ "./src/utils/cache.ts");




const BASE_PATH = '/api/entitlements/v1';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((cachePrefix) => {
    const cache = (0,_utils_cache__WEBPACK_IMPORTED_MODULE_3__.bootstrapCache)(BASE_PATH, `${cachePrefix}-entitlements`);
    const instance = axios__WEBPACK_IMPORTED_MODULE_0___default().create({ adapter: cache.adapter });
    instance.interceptors.response.use((response) => {
        if (response && response.request && response.request.fromCache !== true) {
            const last = (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.lastActive)('/api/entitlements/v1/services', 'fallback');
            const keys = Object.keys(localStorage).filter((key) => key.endsWith('/api/entitlements/v1/services') && key !== last);
            (0,_utils_common__WEBPACK_IMPORTED_MODULE_2__.deleteLocalStorageItems)(keys);
        }
        return response.data || response;
    });
    return new _redhat_cloud_services_entitlements_client__WEBPACK_IMPORTED_MODULE_1__.ServicesApi(undefined, BASE_PATH, instance);
});


/***/ }),

/***/ "./src/jwt/initialize-jwt.ts":
/*!***********************************!*\
  !*** ./src/jwt/initialize-jwt.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jwt */ "./src/jwt/jwt.ts");
/* harmony import */ var _redux_redux_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../redux/redux-config */ "./src/redux/redux-config.ts");
/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cache */ "./src/utils/cache.ts");



const initializeJWT = async (libjwt, chromeInstance) => {
    const { actions } = (0,_redux_redux_config__WEBPACK_IMPORTED_MODULE_1__.spinUpStore)();
    try {
        await libjwt.initPromise;
        const user = await libjwt.jwt.getUserInfo();
        if (user) {
            actions.userLogIn(user);
        }
        const encodedToken = libjwt.jwt.getEncodedToken();
        if (encodedToken) {
            chromeInstance.cache = new _utils_cache__WEBPACK_IMPORTED_MODULE_2__.CacheAdapter('chrome-store', `${(0,_jwt__WEBPACK_IMPORTED_MODULE_0__.decodeToken)(encodedToken).session_state}-chrome-store`);
        }
    }
    catch (error) {
        console.error(error);
        actions.userLogIn(false);
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (initializeJWT);


/***/ }),

/***/ "./src/jwt/jwt.ts":
/*!************************!*\
  !*** ./src/jwt/jwt.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decodeToken": () => (/* binding */ decodeToken),
/* harmony export */   "doOffline": () => (/* binding */ doOffline),
/* harmony export */   "expiredToken": () => (/* binding */ expiredToken),
/* harmony export */   "getCookieExpires": () => (/* binding */ getCookieExpires),
/* harmony export */   "getEncodedToken": () => (/* binding */ getEncodedToken),
/* harmony export */   "getUrl": () => (/* binding */ getUrl),
/* harmony export */   "getUserInfo": () => (/* binding */ getUserInfo),
/* harmony export */   "init": () => (/* binding */ init),
/* harmony export */   "initError": () => (/* binding */ initError),
/* harmony export */   "initSuccess": () => (/* binding */ initSuccess),
/* harmony export */   "isAuthenticated": () => (/* binding */ isAuthenticated),
/* harmony export */   "isExistingValid": () => (/* binding */ isExistingValid),
/* harmony export */   "login": () => (/* binding */ login),
/* harmony export */   "logout": () => (/* binding */ logout),
/* harmony export */   "logoutAllTabs": () => (/* binding */ logoutAllTabs),
/* harmony export */   "setCookie": () => (/* binding */ setCookie),
/* harmony export */   "setCookieWrapper": () => (/* binding */ setCookieWrapper),
/* harmony export */   "updateToken": () => (/* binding */ updateToken)
/* harmony export */ });
/* harmony import */ var keycloak_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! keycloak-js */ "./node_modules/keycloak-js/dist/keycloak.mjs");
/* harmony import */ var broadcast_channel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! broadcast-channel */ "./node_modules/broadcast-channel/dist/esbrowser/index.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/core/esm/exports.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */ "./src/jwt/logger.ts");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./url */ "./src/jwt/url.ts");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user */ "./src/jwt/user.ts");
/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! urijs */ "./node_modules/urijs/src/URI.js");
/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(urijs__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _Priv__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Priv */ "./src/jwt/Priv.ts");
// Imports






// Insights Specific





const log = (0,_logger__WEBPACK_IMPORTED_MODULE_4__["default"])('jwt.js');
const DEFAULT_COOKIE_NAME = 'cs_jwt';
const priv = new _Priv__WEBPACK_IMPORTED_MODULE_9__["default"]();
// Broadcast Channel
const authChannel = new broadcast_channel__WEBPACK_IMPORTED_MODULE_1__.BroadcastChannel('auth');
authChannel.onmessage = (e) => {
    if (e && e.data && e.data.type) {
        log(`BroadcastChannel, Received event : ${e.data.type}`);
        switch (e.data.type) {
            case 'logout':
                return logout();
            case 'login':
                return login();
            case 'refresh':
                return updateToken();
        }
    }
};
function getPartnerScope(pathname) {
    // replace beta and leading "/"
    const sanitizedPathname = pathname.replace(/^\/beta\//, '/').replace(/^\//, '');
    // check if the pathname is connect/:partner
    if (sanitizedPathname.match(/^connect\/.+/)) {
        // return :partner param
        return `api.partner_link.${sanitizedPathname.split('/')[1]}`;
    }
    return undefined;
}
function decodeToken(str) {
    str = str.split('.')[1];
    str = str.replace('/-/g', '+');
    str = str.replace('/_/g', '/');
    switch (str.length % 4) {
        case 0:
            break;
        case 2:
            str += '==';
            break;
        case 3:
            str += '=';
            break;
        default:
            throw 'Invalid token';
    }
    str = (str + '===').slice(0, str.length + (str.length % 4));
    str = str.replace(/-/g, '+').replace(/_/g, '/');
    str = decodeURIComponent(escape(atob(str)));
    const res = JSON.parse(str);
    return res;
}
const doOffline = (key, val, configSsoUrl) => {
    // clear previous postback
    localStorage.removeItem(_utils_consts__WEBPACK_IMPORTED_MODULE_8__.OFFLINE_REDIRECT_STORAGE_KEY);
    const url = urijs__WEBPACK_IMPORTED_MODULE_7___default()(window.location.href);
    url.removeSearch(key);
    url.addSearch(key, val);
    const redirectUri = url.toString();
    if (redirectUri) {
        // set new postback
        localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_8__.OFFLINE_REDIRECT_STORAGE_KEY, redirectUri);
    }
    Promise.resolve((0,_url__WEBPACK_IMPORTED_MODULE_5__["default"])(_utils_common__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SSO_ROUTES, configSsoUrl)).then(async (ssoUrl) => {
        const options = {
            ..._utils_consts__WEBPACK_IMPORTED_MODULE_8__.defaultAuthOptions,
            promiseType: 'native',
            redirectUri,
            url: ssoUrl,
        };
        const kc = new keycloak_js__WEBPACK_IMPORTED_MODULE_0__["default"](options);
        await kc.init(options);
        const partnerScope = getPartnerScope(window.location.pathname);
        const profileScope = localStorage.getItem(_utils_common__WEBPACK_IMPORTED_MODULE_3__.LOGIN_TYPE_STORAGE_KEY);
        const scopes = ['offline_access'];
        if (partnerScope) {
            scopes.push(partnerScope);
        }
        if (profileScope) {
            // make sure add openid scope when profile scope is used
            scopes.push('openid', profileScope);
        }
        kc.login({
            scope: scopes.join(' '),
        });
    });
};
/*** Initialization ***/
const init = (options, configSsoUrl) => {
    log('Initializing');
    const cookieName = options.cookieName ? options.cookieName : DEFAULT_COOKIE_NAME;
    priv.setCookie({ cookieName });
    return Promise.resolve((0,_url__WEBPACK_IMPORTED_MODULE_5__["default"])(options.routes ? options.routes : _utils_common__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SSO_ROUTES, configSsoUrl)).then((ssoUrl) => {
        //constructor for new Keycloak Object?
        options.url = ssoUrl;
        options.clientId = 'cloud-services';
        options.realm = 'redhat-external';
        //options for keycloak.init method
        options.promiseType = 'native';
        options.onLoad = 'check-sso';
        options.checkLoginIframe = false;
        const isBeta = window.location.pathname.split('/')[1] === 'beta' ? '/beta' : '';
        options.silentCheckSsoRedirectUri = `https://${window.location.host}${isBeta}/apps/chrome/silent-check-sso.html`;
        if (window.localStorage && window.localStorage.getItem('chrome:jwt:shortSession') === 'true') {
            options.realm = 'short-session';
        }
        //priv.keycloak = Keycloak(options);
        priv.setKeycloak(options, updateToken, loginAllTabs, refreshTokens);
        if (options.token) {
            if (isExistingValid(options.token)) {
                // we still need to init async
                // so that the renewal times and such fire
                priv.initializeKeycloak(options);
                // Here we have an existing key
                // We need to set up some of the keycloak state
                // so that the reset of the methods that Chrome uses
                // to check if things are good get faked out
                // TODO reafctor the direct access to priv.keycloak
                // away from the users
                priv.setToken(options.token);
                return Promise.resolve();
                // return new Promise((resolve) => {
                //   resolve();
                // });
            }
            else {
                delete options.token;
            }
        }
        return priv.initialize(options).then(initSuccess).catch(initError);
    });
};
function isExistingValid(token) {
    log('Checking validity of existing JWT');
    try {
        if (!token) {
            return false;
        }
        const parsed = decodeToken(token);
        if (!parsed.exp) {
            return false;
        }
        // Date.now() has extra precision...
        // it includes milis
        // we need to trim it down to valid seconds from epoch
        // because we compare to KC's exp which is seconds from epoch
        const now = Date.now().toString().substr(0, 10);
        const exp = parsed.exp - parseInt(now);
        log(`Token expires in ${exp}`);
        // We want to invalidate tokens if they are getting close
        // to the expiry time
        // So that we can be someone safe from time skew
        // issues on our APIs
        // i.e. the client could have a slight time skew
        // and the API is true (because NTP) and we could send down
        // a JWT that is actually exipred
        if (exp > 90) {
            priv.setTokenParsed(parsed);
            return true;
        }
        else {
            if (exp > 0) {
                log('token is expiring in < 90 seconds');
            }
            else {
                log('token is expired');
            }
            return false;
        }
    }
    catch (e) {
        log(e);
        return false;
    }
}
// keycloak init successful
function initSuccess() {
    log('JWT Initialized');
    setCookie(priv.getToken());
}
// keycloak init failed
function initError() {
    log('JWT init error');
    logout();
}
/*** Login/Logout ***/
function login(fullProfile = false) {
    log('Logging in');
    // Redirect to login
    js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].set('cs_loggedOut', 'false');
    const redirectUri = location.href;
    const loginProfile = fullProfile ? 'rhfull' : 'nameandterms';
    localStorage.setItem(_utils_common__WEBPACK_IMPORTED_MODULE_3__.LOGIN_TYPE_STORAGE_KEY, loginProfile);
    // TODO: Remove once ephemeral environment supports full and thin profile
    const scope = ['openid', ...(location.origin.includes('redhat.com') ? [loginProfile] : [])];
    const partner = getPartnerScope(window.location.pathname);
    if (partner) {
        scope.push(partner);
    }
    // KC scopes are delimited by a space character, hence the join(' ')
    return priv.login({ redirectUri, scope: scope.join(' ') });
}
function logout(bounce) {
    log('Logging out');
    const cookieName = priv.getCookie()?.cookieName;
    if (cookieName) {
        js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].remove(cookieName);
    }
    js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].remove('cs_demo');
    const isBeta = window.location.pathname.split('/')[1] === 'beta' ? '/beta' : '';
    const keys = Object.keys(localStorage).filter((key) => key.endsWith('/api/entitlements/v1/services') ||
        key.endsWith('/chrome') ||
        key.endsWith('/chrome-store') ||
        key.startsWith('kc-callback') ||
        key.startsWith(_utils_consts__WEBPACK_IMPORTED_MODULE_8__.GLOBAL_FILTER_KEY));
    (0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.deleteLocalStorageItems)([...keys, _utils_common__WEBPACK_IMPORTED_MODULE_3__.LOGIN_TYPE_STORAGE_KEY]);
    // Redirect to logout
    if (bounce) {
        const eightSeconds = new Date(new Date().getTime() + 8 * 1000);
        js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].set('cs_loggedOut', 'true', {
            expires: eightSeconds,
        });
        priv.logout({
            redirectUri: `https://${window.location.host}${isBeta}`,
        });
        // Clear cookies and tokens
        priv.clearToken();
    }
}
const logoutAllTabs = (bounce) => {
    authChannel.postMessage({ type: 'logout' });
    logout(bounce);
};
function loginAllTabs() {
    authChannel.postMessage({ type: 'login' });
}
/*** User Functions ***/
// Get user information
const getUserInfo = () => {
    log('Getting User Information');
    const jwtCookie = js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].get(DEFAULT_COOKIE_NAME);
    if (jwtCookie && isExistingValid(jwtCookie) && isExistingValid(priv.getToken())) {
        return (0,_user__WEBPACK_IMPORTED_MODULE_6__["default"])(priv.getTokenParsed());
    }
    return updateToken()
        .then(() => {
        log('Successfully updated token');
        return (0,_user__WEBPACK_IMPORTED_MODULE_6__["default"])(priv.getTokenParsed());
    })
        .catch(() => {
        if ((0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.pageRequiresAuthentication)()) {
            log('Trying to log in user to refresh token');
            return login();
        }
    });
};
// Check to see if the user is loaded, this is what API calls should wait on
const isAuthenticated = () => {
    log(`User Ready: ${priv.getAuthenticated()}`);
    return priv.getAuthenticated();
};
/*** Check Token Status ***/
// If a token is expired, logout of all tabs
const expiredToken = () => {
    log('Token has expired, trying to log out');
    logout();
};
// Broadcast message to refresh tokens across tabs
function refreshTokens() {
    setCookie(priv.getToken());
    authChannel.postMessage({ type: 'refresh' });
}
// Actually update the token
function updateToken() {
    return Promise.resolve(priv?.updateToken?.())
        .then((refreshed) => {
        // Important! after we update the token
        // we have to again populate the Cookie!
        // Otherwise we just update and dont send
        // the updated token down stream... and things 401
        setCookie(priv.getToken());
        log('Attempting to update token');
        if (refreshed) {
            log('Token was successfully refreshed');
        }
        else {
            log('Token is still valid, not updating');
        }
    })
        .catch((err) => {
        log(err);
        _sentry_react__WEBPACK_IMPORTED_MODULE_10__.captureException(err);
        log('Token updated failed, trying to reauth');
        login();
    });
}
function getCookieExpires(exp) {
    // we want the cookie to expire at the same time as the JWT session
    // so we take the exp and get a new GTMString from that
    const date = new Date(0);
    date.setUTCSeconds(exp);
    return date.toUTCString();
}
// Set the cookie for 3scale
function setCookie(token) {
    log('Setting the cs_jwt cookie');
    if (token && token.length > 10) {
        const cookieName = priv.getCookie()?.cookieName;
        if (cookieName) {
            setCookieWrapper(`${cookieName}=${token};` + `path=/wss;` + `secure=true;` + `expires=${getCookieExpires(decodeToken(token).exp)}`);
            setCookieWrapper(`${cookieName}=${token};` + `path=/ws;` + `secure=true;` + `expires=${getCookieExpires(decodeToken(token).exp)}`);
            setCookieWrapper(`${cookieName}=${token};` + `path=/foo;` + `secure=true;` + `expires=${getCookieExpires(decodeToken(token).exp)}`);
        }
    }
}
// do this so we can mock out for test
function setCookieWrapper(str) {
    window.document.cookie = str;
}
// Encoded WIP
const getEncodedToken = () => {
    log('Trying to get the encoded token');
    if (!isExistingValid(priv.getToken())) {
        log('Failed to get encoded token, trying to update');
        updateToken();
    }
    return priv.getToken();
};
// Keycloak server URL
const getUrl = (ssoUrl) => {
    return (0,_url__WEBPACK_IMPORTED_MODULE_5__["default"])(_utils_common__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SSO_ROUTES, ssoUrl);
};


/***/ }),

/***/ "./src/jwt/logger.ts":
/*!***************************!*\
  !*** ./src/jwt/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// const pub = {};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((fileName) => {
    return (msg) => {
        if (window.console) {
            if (window.localStorage && window.localStorage.getItem('chrome:jwt:debug')) {
                window.console.log(`[JWT][${fileName}] ${msg}`);
            }
        }
    };
});


/***/ }),

/***/ "./src/jwt/offline.ts":
/*!****************************!*\
  !*** ./src/jwt/offline.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getOfflineToken": () => (/* binding */ getOfflineToken),
/* harmony export */   "getPostDataObject": () => (/* binding */ getPostDataObject),
/* harmony export */   "getPostbackUrl": () => (/* binding */ getPostbackUrl),
/* harmony export */   "getWindow": () => (/* binding */ getWindow),
/* harmony export */   "parseHashString": () => (/* binding */ parseHashString),
/* harmony export */   "wipePostbackParamsThatAreNotForUs": () => (/* binding */ wipePostbackParamsThatAreNotForUs)
/* harmony export */ });
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url */ "./src/jwt/url.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");




const priv = {};
// note this function is not exposed
// it is a run everytime and produce some side affect thing
// if a special condition is encountered
//
// it would be great to not have this behave this way
// but the order that this needs to run in is very specific
// so that is somewhat difficult
function wipePostbackParamsThatAreNotForUs() {
    if (getWindow().location.href.indexOf(_utils_consts__WEBPACK_IMPORTED_MODULE_0__["default"].offlineToken) !== -1) {
        const { hash, origin, pathname } = getWindow().location;
        // attempt to use postback created from in previous doOffline call
        const postbackUrl = new URL(localStorage.getItem(_utils_consts__WEBPACK_IMPORTED_MODULE_0__.OFFLINE_REDIRECT_STORAGE_KEY) || `${origin}${pathname}`);
        postbackUrl.hash = hash;
        // this is a UHC offline token postback
        // we need to not let the JWT lib see this
        // and try to use it
        priv.postbackUrl = postbackUrl.toString();
        // we do this because keycloak.js looks at the hash for its parameters
        // and if found uses the params for its own use
        //
        // in the UHC offline post back case we *dont*
        // want the params to be used by keycloak.js
        // so we have to destroy this stuff and let regular auth routines happen
        getWindow().location.hash = '';
        // nuke the params so that people dont see the ugly
        const url = new URL(getWindow().location.href);
        url.searchParams.delete(_utils_consts__WEBPACK_IMPORTED_MODULE_0__["default"].noAuthParam);
        getWindow().history.pushState('offlinePostback', '', url.toString());
    }
}
async function getOfflineToken(realm, clientId, configSsoUrl) {
    const postbackUrl = getPostbackUrl();
    if (priv.response) {
        return Promise.resolve(priv.response);
    }
    if (!postbackUrl) {
        // we need this postback URL because it contains parameters needed to
        // call KC for the actual offline token
        // thus we cant continue if it is missing
        return Promise.reject('not available');
    }
    const ssoUrl = await (0,_url__WEBPACK_IMPORTED_MODULE_1__["default"])(_utils_common__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SSO_ROUTES, configSsoUrl);
    const tokenURL = `${ssoUrl}/realms/${realm}/protocol/openid-connect/token`;
    const params = parseHashString(postbackUrl);
    return axios__WEBPACK_IMPORTED_MODULE_2___default().post(tokenURL, getPostDataString(getPostDataObject(postbackUrl, clientId, params.code)), {
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    })
        .then((response) => {
        priv.response = response;
        return response;
    });
}
function getWindow() {
    return window;
}
function getPostbackUrl() {
    // let folks only do this once
    const ret = priv.postbackUrl;
    delete priv.postbackUrl;
    return ret;
}
function getPostDataObject(url, clientId, code) {
    return {
        code: code,
        grant_type: 'authorization_code',
        client_id: clientId,
        redirect_uri: encodeURIComponent(url.split('#')[0]), // eslint-disable-line camelcase
    };
}
function parseHashString(str) {
    return str
        .split('#')[1]
        .split('&')
        .reduce((result, item) => {
        const parts = item.split('=');
        result[parts[0]] = parts[1];
        return result;
    }, {});
}
function getPostDataString(obj) {
    return Object.entries(obj)
        .map((entry) => {
        return `${entry[0]}=${entry[1]}`;
    })
        .join('&');
}


/***/ }),

/***/ "./src/jwt/url.ts":
/*!************************!*\
  !*** ./src/jwt/url.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ "./src/jwt/logger.ts");

const log = (0,_logger__WEBPACK_IMPORTED_MODULE_0__["default"])('insights/url.js');
// Parse through keycloak options routes
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (env, configSsoUrl) => {
    if (configSsoUrl) {
        return configSsoUrl;
    }
    const ssoEnv = Object.entries(env).find(([, { url }]) => url.includes(location.hostname));
    if (ssoEnv) {
        log(`SSO Url: ${ssoEnv?.[1].sso}`);
        log(`Current env: ${ssoEnv?.[0]}`);
        return ssoEnv?.[1].sso;
    }
    else {
        log('SSO url: not found, defaulting to qa');
        log('Current env: not found, defaultint to qa');
        return 'https://sso.qa.redhat.com/auth';
    }
});


/***/ }),

/***/ "./src/jwt/user.ts":
/*!*************************!*\
  !*** ./src/jwt/user.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildUser": () => (/* binding */ buildUser),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "tryBounceIfUnentitled": () => (/* binding */ tryBounceIfUnentitled)
/* harmony export */ });
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _entitlements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entitlements */ "./src/jwt/entitlements.ts");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ "./src/jwt/logger.ts");
/* harmony import */ var _utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/isAnsibleTrialFlagActive */ "./src/utils/isAnsibleTrialFlagActive.ts");
/* harmony import */ var _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/chromeHistory */ "./src/utils/chromeHistory.ts");





const bounceInvocationLock = {
    // not_entitled modal should appear only once for insights bundle
    insights: false,
};
const log = (0,_logger__WEBPACK_IMPORTED_MODULE_2__["default"])('insights/user.js');
const pathMapper = {
    'cost-management': 'cost_management',
    insights: 'insights',
    openshift: 'openshift',
    migrations: 'migrations',
    ansible: 'ansible',
    subscriptions: 'subscriptions',
    settings: 'settings',
    'user-preferences': 'user_preferences',
    internal: 'internal',
};
const REDIRECT_BASE = `${document.location.origin}${(0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.isBeta)() ? '/beta/' : '/'}`;
const unentitledPathMapper = (section, service, expired = false) => {
    const search = new URLSearchParams(document.location.search);
    if (!search.has('not_entitled')) {
        search.append('not_entitled', service);
    }
    return ({
        ansible: `${REDIRECT_BASE}ansible/ansible-dashboard/${expired ? 'trial/expired' : 'trial'}`,
    }[section] || `${document.location.origin}${document.location.pathname}?${search.toString()}`);
};
function getWindow() {
    return window;
}
/* eslint-disable camelcase */
function buildUser(token) {
    const user = token
        ? {
            identity: {
                account_number: token.account_number,
                org_id: token.org_id,
                type: token.type,
                ...(token.idp && { idp: token.idp }),
                user: {
                    username: token.username,
                    email: token.email,
                    first_name: token.first_name,
                    last_name: token.last_name,
                    is_active: token.is_active,
                    is_org_admin: token.is_org_admin,
                    is_internal: token.is_internal,
                    locale: token.locale,
                },
                internal: {
                    org_id: token.org_id,
                    account_id: token.account_id,
                },
            },
        }
        : null;
    return user;
}
/* eslint-enable camelcase */
function partialBounce(redirectAddress, section) {
    const url = new URL(redirectAddress);
    _utils_chromeHistory__WEBPACK_IMPORTED_MODULE_4__["default"].replace({
        pathname: url.pathname,
        search: url.search,
    });
    if (section !== 'ansible') {
        bounceInvocationLock[section] = true;
    }
}
function tryBounceIfUnentitled(data, section) {
    // only test this on the apps that are in valid sections
    // we need to keep /apps and other things functional
    if (section !== 'insights' &&
        section !== 'openshift' &&
        section !== 'cost-management' &&
        section !== 'migrations' &&
        section !== 'ansible' &&
        section !== 'subscriptions' &&
        section !== 'user-preferences' &&
        section !== 'internal') {
        return;
    }
    const ansibleActive = (0,_utils_isAnsibleTrialFlagActive__WEBPACK_IMPORTED_MODULE_3__.isAnsibleTrialFlagActive)();
    // test temporary ansible trial flag
    if (section === 'ansible' && ansibleActive) {
        return;
    }
    // do not show not entitled modal repeadly for the same section
    if (bounceInvocationLock[section]) {
        return;
    }
    const service = pathMapper[section];
    // ansibleActive can be true/false/undefined
    const redirectAddress = unentitledPathMapper(section, service, ansibleActive === false);
    if (data === true) {
        // this is a force bounce scenario!
        if (section !== 'ansible') {
            partialBounce(redirectAddress, section);
        }
        else {
            getWindow().location.replace(redirectAddress);
        }
    }
    if (section && typeof data === 'object') {
        if (data?.[service]?.is_entitled) {
            log(`Entitled to: ${service}`);
        }
        else {
            log(`Not entitled to: ${service}`);
            try {
                const search = new URLSearchParams(window.location.search);
                // do not trigger redirect if the not_entitled param already exists
                if (!search.has('not_entitled')) {
                    partialBounce(redirectAddress, section);
                }
                else {
                    // lock the section if user landed directly on the not_entitled page
                    if (section !== 'ansible') {
                        bounceInvocationLock[section] = true;
                    }
                }
            }
            catch (error) {
                console.error(error);
                // if something goes wring with the redirect, use standard API
                getWindow().location.replace(redirectAddress);
            }
        }
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (token) => {
    const user = buildUser(token);
    const pathName = getWindow().location.pathname.split('/');
    pathName.shift();
    if (pathName[0] === 'beta') {
        pathName.shift();
    }
    if (pathName?.[1] === 'subscriptions' || pathName?.[1] === 'cost-management') {
        pathName.shift();
    }
    if (user) {
        log(`Account Number: ${user.identity.account_number}`);
        let data = {};
        try {
            if (user.identity.account_number) {
                data = (await (0,_entitlements__WEBPACK_IMPORTED_MODULE_1__["default"])(token.jti).servicesGet());
            }
            else {
                console.log('Cannot call entitlements API, no account number');
            }
        }
        catch {
            // let's swallow error from services API
        }
        // NOTE: Openshift supports Users with Account Number of -1
        // thus we need to bypass here
        // call entitlements on / /beta /openshift or /beta/openshift,
        // but swallow error
        //
        // Landing Page *does* support accounts with -1
        // it has to
        if ((0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.pageAllowsUnentitled)()) {
            return {
                ...user,
                entitlements: data,
            };
        }
        // Important this has to come after the above -1 allow checks
        // Otherwise we get bounced on those paths
        //
        // It also needs to not go int he servicesApi call
        // because 3scale 403s if the Account number is -1
        //
        // we "force" a bounce here because the entitlements API
        // was never called
        if (!(0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.isValidAccountNumber)(user.identity.account_number)) {
            tryBounceIfUnentitled(true, pathName[0]);
            // always return user regardless of the entitlements result
            // required for insights accounts with invalid account number
            return {
                ...user,
                entitlements: data,
            };
        }
        tryBounceIfUnentitled(data, pathName[0]);
        return {
            ...user,
            entitlements: data,
        };
    }
    else {
        log('User not ready');
    }
});


/***/ }),

/***/ "./src/layouts/AllServices.tsx":
/*!*************************************!*\
  !*** ./src/layouts/AllServices.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_Header_Header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Header/Header */ "./src/components/Header/Header.tsx");
/* harmony import */ var _components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Stratosphere/RedirectBanner */ "./src/components/Stratosphere/RedirectBanner.tsx");
/* harmony import */ var _components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/AllServices/AllServicesSection */ "./src/components/AllServices/AllServicesSection.tsx");
/* harmony import */ var _AllServices_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AllServices.scss */ "./src/layouts/AllServices.scss");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _hooks_useAllServices__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/useAllServices */ "./src/hooks/useAllServices.ts");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../locales/Messages */ "./src/locales/Messages.ts");










const AllServices = ({ Footer }) => {
    const { linkSections, error, ready, filterValue, setFilterValue } = (0,_hooks_useAllServices__WEBPACK_IMPORTED_MODULE_7__["default"])();
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_9__["default"])();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        (0,_utils_common__WEBPACK_IMPORTED_MODULE_6__.updateDocumentTitle)('All services');
    }, []);
    if (!ready) {
        // TODO: Add loading state
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "Loading");
    }
    if (error) {
        // TODO: Add error state
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "Error");
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { id: "chrome-app-render-root" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Page, { className: "chr-c-all-services", onPageResize: null, header: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Masthead, { className: "chr-c-masthead" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Header_Header__WEBPACK_IMPORTED_MODULE_2__.Header, null)) },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_3__["default"], null),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageGroup, { stickyOnBreakpoint: { default: 'top' } },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageSection, { variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageSectionVariants.light, className: "pf-u-px-2xl-on-md" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, { headingLevel: "h2" }, "All Services"),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.SearchInput, { className: "chr-c-all-services-filter pf-u-m-auto pf-u-mt-md", "data-ouia-component-id": "app-filter-search", placeholder: intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_8__["default"].findAppOrService), value: filterValue, onChange: (val) => setFilterValue(val), onClear: (e) => {
                            setFilterValue('');
                            e.stopPropagation();
                        } }))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageSection, { padding: { default: 'noPadding', md: 'padding', lg: 'padding' } },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Gallery, { className: "pf-u-display-block", hasGutter: true },
                    linkSections.map((section, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_AllServices_AllServicesSection__WEBPACK_IMPORTED_MODULE_4__["default"], { key: index, ...section }))),
                    linkSections.length === 0 && filterValue.length !== 0 && react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "Nothing found"))),
            Footer)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AllServices);


/***/ }),

/***/ "./src/layouts/DefaultLayout.tsx":
/*!***************************************!*\
  !*** ./src/layouts/DefaultLayout.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_GlobalFilter_GlobalFilter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/GlobalFilter/GlobalFilter */ "./src/components/GlobalFilter/GlobalFilter.tsx");
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @scalprum/react-core */ "webpack/sharing/consume/default/@scalprum/react-core/@scalprum/react-core");
/* harmony import */ var _scalprum_react_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_scalprum_react_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _components_Header_Header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Header/Header */ "./src/components/Header/Header.tsx");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _components_Routes_Routes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Routes/Routes */ "./src/components/Routes/Routes.tsx");
/* harmony import */ var _utils_useOuiaTags__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/useOuiaTags */ "./src/utils/useOuiaTags.ts");
/* harmony import */ var _components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/Stratosphere/RedirectBanner */ "./src/components/Stratosphere/RedirectBanner.tsx");
/* harmony import */ var _patternfly_react_icons_dist_js_icons_bars_icon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/bars-icon */ "./node_modules/@patternfly/react-icons/dist/js/icons/bars-icon.js");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/src/components/useIntl.js");
/* harmony import */ var _locales_Messages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../locales/Messages */ "./src/locales/Messages.ts");
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");
/* harmony import */ var _components_Navigation_Navigation_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/Navigation/Navigation.scss */ "./src/components/Navigation/Navigation.scss");
/* harmony import */ var _DefaultLayout_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DefaultLayout.scss */ "./src/layouts/DefaultLayout.scss");
/* harmony import */ var _utils_useNavigation__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/useNavigation */ "./src/utils/useNavigation.ts");





















const DefaultLayout = ({ hasBanner, selectedAccountNumber, hideNav, isNavOpen, setIsNavOpen, Sidebar, Footer }) => {
    const intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_19__["default"])();
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const { loaded, schema, noNav } = (0,_utils_useNavigation__WEBPACK_IMPORTED_MODULE_18__["default"])();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__.Page, { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({ 'chr-c-page__hasBanner': hasBanner, 'chr-c-page__account-banner': selectedAccountNumber }), onPageResize: null, header: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__.Masthead, { className: "chr-c-masthead" },
            !hideNav && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__.MastheadToggle, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__.PageToggleButton, { variant: "plain", "aria-label": "Global navigation", isNavOpen: isNavOpen, onNavToggle: () => {
                        setIsNavOpen((prev) => !prev);
                        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_9__.onToggle)());
                    } },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_icons_dist_js_icons_bars_icon__WEBPACK_IMPORTED_MODULE_20__["default"], null)))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Header_Header__WEBPACK_IMPORTED_MODULE_6__.Header, null)), sidebar: (noNav || hideNav) && Sidebar
            ? undefined
            : Sidebar && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__.PageSidebar, { isNavOpen: isNavOpen, id: "chr-c-sidebar", nav: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Sidebar, { schema: schema, loaded: loaded }) }) },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('chr-render') },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_GlobalFilter_GlobalFilter__WEBPACK_IMPORTED_MODULE_3__["default"], { key: (0,_utils_common__WEBPACK_IMPORTED_MODULE_15__.getUrl)('bundle') }),
            selectedAccountNumber && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "chr-viewing-as sentry-mask data-hj-suppress" }, intl.formatMessage(_locales_Messages__WEBPACK_IMPORTED_MODULE_13__["default"].viewingAsAccount, { selectedAccountNumber }))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_12__["default"], null),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Routes_Routes__WEBPACK_IMPORTED_MODULE_10__["default"], { routesProps: { scopeClass: 'chr-scope__default-layout' } }),
            Footer)));
};
const ShieldedRoot = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ hideNav = false, initialized = false, Sidebar, Footer }) => {
    const [isMobileView, setIsMobileView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(window.document.body.clientWidth < 1200);
    const [isNavOpen, setIsNavOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!isMobileView);
    /**
     * Required for event listener to access the variables
     */
    const mutableStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({
        isMobileView,
    });
    function navReziseListener() {
        const internalMobile = window.document.body.clientWidth < 1200;
        const { isMobileView } = mutableStateRef.current;
        if (!isMobileView && internalMobile) {
            setIsMobileView(true);
            setIsNavOpen(false);
            mutableStateRef.current = {
                isMobileView: true,
            };
        }
        else if (isMobileView && !internalMobile) {
            setIsMobileView(false);
            setIsNavOpen(true);
            mutableStateRef.current = {
                isMobileView: false,
            };
        }
    }
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        window.addEventListener('resize', navReziseListener);
        return () => {
            window.removeEventListener('resize', navReziseListener);
        };
    }, []);
    if (!initialized) {
        return null;
    }
    const selectedAccountNumber = js_cookie__WEBPACK_IMPORTED_MODULE_7__["default"].get(_utils_consts__WEBPACK_IMPORTED_MODULE_14__.CROSS_ACCESS_ACCOUNT_NUMBER);
    const hasBanner = false; // Update this later when we use feature flags
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DefaultLayout, { setIsNavOpen: setIsNavOpen, hideNav: hideNav, isNavOpen: isNavOpen, hasBanner: hasBanner, selectedAccountNumber: selectedAccountNumber, Sidebar: Sidebar, Footer: Footer }));
}, (prevProps, nextProps) => lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default()(prevProps, nextProps));
ShieldedRoot.displayName = 'ShieldedRoot';
const DefaultLayoutRoot = ({ Sidebar, Footer }) => {
    const ouiaTags = (0,_utils_useOuiaTags__WEBPACK_IMPORTED_MODULE_11__["default"])();
    const initialized = (0,_scalprum_react_core__WEBPACK_IMPORTED_MODULE_4__.useScalprum)(({ initialized }) => initialized);
    const hideNav = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { user } }) => !user || !Sidebar);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { id: "chrome-app-render-root", ...ouiaTags },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ShieldedRoot, { hideNav: hideNav, initialized: initialized, Sidebar: Sidebar, Footer: Footer })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultLayoutRoot);


/***/ }),

/***/ "./src/layouts/FavoritedServices.tsx":
/*!*******************************************!*\
  !*** ./src/layouts/FavoritedServices.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_Header_Header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Header/Header */ "./src/components/Header/Header.tsx");
/* harmony import */ var _components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Stratosphere/RedirectBanner */ "./src/components/Stratosphere/RedirectBanner.tsx");
/* harmony import */ var _components_ChromeLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ChromeLink */ "./src/components/ChromeLink/index.ts");
/* harmony import */ var _FavoritedServices_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FavoritedServices.scss */ "./src/layouts/FavoritedServices.scss");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @redhat-cloud-services/chrome */ "webpack/sharing/consume/default/@redhat-cloud-services/chrome/@redhat-cloud-services/chrome");
/* harmony import */ var _redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_FavoriteServices_EmptyState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/FavoriteServices/EmptyState */ "./src/components/FavoriteServices/EmptyState.tsx");
/* harmony import */ var _components_FavoriteServices_ServiceTile__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/FavoriteServices/ServiceTile */ "./src/components/FavoriteServices/ServiceTile.tsx");
/* harmony import */ var _hooks_useAllServices__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hooks/useAllServices */ "./src/hooks/useAllServices.ts");










const QuickAccess = () => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.StackItem, null,
    "Get quick access to your favorite services. To add more services to your Favorites,",
    ' ',
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ChromeLink__WEBPACK_IMPORTED_MODULE_4__["default"], { href: "/allservices" }, "browse all Hybrid Cloud Console services.")));
const FavoritedServices = ({ Footer }) => {
    const { favoritePages } = (0,_redhat_cloud_services_chrome__WEBPACK_IMPORTED_MODULE_6__.useFavoritePages)();
    const { servicesLinks } = (0,_hooks_useAllServices__WEBPACK_IMPORTED_MODULE_9__["default"])();
    // extract human friendly data from the all services data set
    const favoritedServices = favoritePages.reduce((acc, curr) => {
        const service = servicesLinks.find(({ isExternal, href }) => !isExternal && href.includes(curr.pathname));
        // only pick favorite link if it is favorited and application exists in our all services registry
        if (curr.favorite && service) {
            return [
                ...acc,
                {
                    name: service.title,
                    pathname: curr.pathname,
                },
            ];
        }
        return acc;
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { id: "chrome-app-render-root" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Page, { className: "chr-c-favoritedservices", onPageResize: null, header: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Masthead, { className: "chr-c-masthead" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Header_Header__WEBPACK_IMPORTED_MODULE_2__.Header, null)) },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Stratosphere_RedirectBanner__WEBPACK_IMPORTED_MODULE_3__["default"], null),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageSection, { variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.PageSectionVariants.light, className: "pf-u-px-2xl-on-md pf-m-fill" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Stack, { className: "pf-u-background-color-100" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.StackItem, { className: "pf-u-pb-md" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, { headingLevel: "h2" }, "Favorited Services")),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(QuickAccess, null),
                    favoritePages.length === 0 ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_FavoriteServices_EmptyState__WEBPACK_IMPORTED_MODULE_7__["default"], null)) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.StackItem, { className: "pf-u-pt-xl" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Gallery, { hasGutter: true },
                            favoritedServices.map((props, index) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_FavoriteServices_ServiceTile__WEBPACK_IMPORTED_MODULE_8__["default"], { ...props, key: index }))),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Card, { isPlain: true, className: "chr-c-card-centered pf-u-background-color-200" },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.CardBody, { className: "pf-u-pt-lg" },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TextContent, null,
                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "p" }, "Go to the All Services page to tag your favorites."),
                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Text, { component: "p" },
                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ChromeLink__WEBPACK_IMPORTED_MODULE_4__["default"], { href: "/allservices" }, "View all services")))))))))),
            Footer)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FavoritedServices);


/***/ }),

/***/ "./src/locales/Messages.ts":
/*!*********************************!*\
  !*** ./src/locales/Messages.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-intl */ "./node_modules/react-intl/lib/index.js");
/* eslint-disable max-len */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_intl__WEBPACK_IMPORTED_MODULE_0__.defineMessages)({
    activationTitle: {
        id: 'activationTitle',
        description: 'Thank you for submitting your activation request',
        defaultMessage: 'Thank you for submitting your activation request',
    },
    activationDescription: {
        id: 'activationDescription',
        description: 'Red Hat will be in touch within 1 business day to confirm your subscription benefits are ready to be activated.',
        defaultMessage: 'Red Hat will be in touch within 1 business day to confirm your subscription benefits are ready to be activated.',
    },
    segmentError: {
        id: 'segmentError',
        description: 'Context used outside of its Provider!',
        defaultMessage: 'Context used outside of its Provider!',
    },
    changesComing: {
        id: 'changesComing',
        description: 'Changes are coming to cloud.redhat.com on July 29.',
        defaultMessage: 'Changes are coming to cloud.redhat.com on July 29.',
    },
    learnMore: {
        id: 'learnMore',
        description: 'Learn more on our blog.',
        defaultMessage: 'Learn more on our blog.',
    },
    viewChanged: {
        id: 'viewChanged',
        description: 'View has changed',
        defaultMessage: 'View has changed',
    },
    viewAsCustomer: {
        id: 'viewAsCustomer',
        description: 'You are now viewing console.redhat.com as a customer, and will be interacting with real customer data.',
        defaultMessage: 'You are now viewing console.redhat.com as a customer, and will be interacting with real customer data.',
    },
    newRequestReview: {
        id: 'newRequestReview',
        description: 'You have a new access request that needs your review',
        defaultMessage: 'You have a new access request that needs your review',
    },
    noLongerHaveAccess: {
        id: 'noLongerHaveAccess',
        description: `You no longer have access to account {accountId}.`,
        defaultMessage: `You no longer have access to account {accountId}.`,
    },
    somethingWentWrong: {
        id: 'somethingWentWrong',
        description: 'Something went wrong',
        defaultMessage: 'Something went wrong',
    },
    globalRuntimeErrorId: {
        id: 'globalRuntimeErrorId',
        description: 'Global runtime error Id',
        defaultMessage: 'Sentry error ID: {errorId}',
    },
    problemProcessingRequest: {
        id: 'problemProcessingRequest',
        description: 'There was a problem processing the request. Try reloading the page. If the problem persists, contact',
        defaultMessage: 'There was a problem processing the request. Try reloading the page. If the problem persists, contact',
    },
    redHatSupport: {
        id: 'redHatSupport',
        description: 'Red Hat support',
        defaultMessage: 'Red Hat support',
    },
    checkOur: {
        id: 'checkOur',
        description: 'or check our',
        defaultMessage: 'or check our',
    },
    statusPage: {
        id: 'statusPage',
        description: 'Status page',
        defaultMessage: 'Status page',
    },
    knownOutages: {
        id: 'knownOutages',
        description: 'for known outages.',
        defaultMessage: 'for known outages.',
    },
    returnToHomepage: {
        id: 'returnToHomepage',
        description: 'Return to home page',
        defaultMessage: 'Return to home page',
    },
    shareYourFeedback: {
        id: 'shareYourFeedback',
        description: 'Share your feedback with us!',
        defaultMessage: 'Share your feedback with us!',
    },
    enterFeedback: {
        id: 'enterFeedback',
        description: 'Enter your feedback',
        defaultMessage: 'Enter your feedback',
    },
    researchOpportunities: {
        id: 'researchOpportunities',
        description: 'Yes, I would like to hear about research opportunities',
        defaultMessage: 'Yes, I would like to hear about research opportunities',
    },
    learnAboutResearchOpportunities: {
        id: 'learnAboutResearchOpportunities',
        description: 'Learn about opportunities to share your feedback with our User Research Team.',
        defaultMessage: 'Learn about opportunities to share your feedback with our User Research Team.',
    },
    weNeverSharePersonalInformation: {
        id: 'weNeverSharePersonalInformation',
        description: 'We never share your personal information, and you can opt out at any time.',
        defaultMessage: 'We never share your personal information, and you can opt out at any time.',
    },
    email: {
        id: 'email',
        description: 'Email',
        defaultMessage: 'Email',
    },
    submitFeedback: {
        id: 'submitFeedback',
        description: 'Submit feedback',
        defaultMessage: 'Submit feedback',
    },
    cancel: {
        id: 'cancel',
        description: 'Cancel',
        defaultMessage: 'Cancel',
    },
    feedback: {
        id: 'feedback',
        description: 'Feedback',
        defaultMessage: 'Feedback',
    },
    tellAboutExperience: {
        id: 'tellAboutExperience',
        description: 'Tell us about your experience',
        defaultMessage: 'Tell us about your experience',
    },
    helpUsImproveHCC: {
        id: 'helpUsImproveHCC',
        description: 'Help us improve the Red Hat Hybrid Cloud Console.',
        defaultMessage: 'Help us improve the Red Hat Hybrid Cloud Console.',
    },
    shareFeedback: {
        id: 'shareFeedback',
        description: 'Share feedback',
        defaultMessage: 'Share feedback',
    },
    howIsConsoleExperience: {
        id: 'howIsConsoleExperience',
        description: 'What has your console experience been like so far?',
        defaultMessage: 'What has your console experience been like so far?',
    },
    reportBug: {
        id: 'reportBug',
        description: 'Report a bug',
        defaultMessage: 'Report a bug',
    },
    describeBug: {
        id: 'describeBug',
        description: 'Describe the bug you encountered. For urgent issues, open a support case instead.',
        defaultMessage: 'Describe the bug you encountered. For urgent issues, open a support case instead.',
    },
    openSupportCase: {
        id: 'openSupportCase',
        description: 'Open a support case ',
        defaultMessage: 'Open a support case ',
    },
    getSupport: {
        id: 'getSupport',
        description: 'Get help from Red Hat support.',
        defaultMessage: 'Get help from Red Hat support.',
    },
    submitOnlyInStageProd: {
        id: 'submitOnlyInStageProd',
        description: 'Submitting feedback only works in prod and stage',
        defaultMessage: 'Submitting feedback only works in prod and stage',
    },
    feedbackSent: {
        id: 'feedbackSent',
        description: 'Feedback Sent',
        defaultMessage: 'Feedback Sent',
    },
    thankYouForFeedback: {
        id: 'thankYouForFeedback',
        description: 'Thank you, we appreciate your feedback.',
        defaultMessage: 'Thank you, we appreciate your feedback.',
    },
    close: {
        id: 'close',
        description: 'Close',
        defaultMessage: 'Close',
    },
    showMore: {
        id: 'showMore',
        description: 'Show more',
        defaultMessage: 'Show more',
    },
    clearFilters: {
        id: 'clearFilters',
        description: 'Clear filters',
        defaultMessage: 'Clear filters',
    },
    noInventoryPermissions: {
        id: 'noInventoryPermissions',
        description: 'You do not have the required inventory permissions to perform this action',
        defaultMessage: 'You do not have the required inventory permissions to perform this action',
    },
    globalFilterNotApplicable: {
        id: 'globalFilterNotApplicable',
        description: 'Global filter is not applicable for this page',
        defaultMessage: 'Global filter is not applicable for this page',
    },
    filterResults: {
        id: 'filterResults',
        description: 'Filter results',
        defaultMessage: 'Filter results',
    },
    selectTagsOrSIDs: {
        id: 'selectTagsOrSIDs',
        description: 'Select one or more tags/SAP IDs (SID)',
        defaultMessage: 'Select one or more tags/SAP IDs (SID)',
    },
    name: {
        id: 'name',
        description: 'Name',
        defaultMessage: 'Name',
    },
    value: {
        id: 'value',
        description: 'Value',
        defaultMessage: 'Value',
    },
    tagSources: {
        id: 'tagSources',
        description: 'Tag sources',
        defaultMessage: 'Tag sources',
    },
    tagsFilter: {
        id: 'tagsFilter',
        description: 'Tags filter',
        defaultMessage: 'Tags filter',
    },
    filterTags: {
        id: 'filterTags',
        description: 'Filter tags',
        defaultMessage: 'Filter tags',
    },
    SIDsFilter: {
        id: 'SIDsFilter',
        description: 'SIDs Filter',
        defaultMessage: 'SIDs Filter',
    },
    filterSAPIDs: {
        id: 'filterSAPIDs',
        description: 'Filter SAP IDs',
        defaultMessage: 'Filter SAP IDs',
    },
    findAppOrService: {
        id: 'findAppOrService',
        description: 'Find a service',
        defaultMessage: 'Find a service',
    },
    noMatchingAppsFound: {
        id: 'noMatchingAppsFound',
        description: 'No matching applications or services found.',
        defaultMessage: 'No matching applications or services found.',
    },
    tryChangingSearch: {
        id: 'tryChangingSearch',
        description: 'This filter criteria matches no applications or services. Try changing your input filter.',
        defaultMessage: 'This filter criteria matches no applications or services. Try changing your input filter.',
    },
    personalAccount: {
        id: 'personalAccount',
        description: 'Personal account',
        defaultMessage: 'Personal account',
    },
    noResults: {
        id: 'noResults',
        description: 'No results',
        defaultMessage: 'No results',
    },
    searchAccount: {
        id: 'searchAccount',
        description: 'Search account',
        defaultMessage: 'Search account',
    },
    login: {
        id: 'login',
        description: 'Log in',
        defaultMessage: 'Log in',
    },
    stopUsing: {
        id: 'stopUsing',
        description: 'Stop using',
        defaultMessage: 'Stop using',
    },
    use: {
        id: 'use',
        description: 'Use',
        defaultMessage: 'Use',
    },
    betaRelease: {
        id: 'betaRelease',
        description: 'the beta release',
        defaultMessage: 'the beta release',
    },
    supportOptions: {
        id: 'supportOptions',
        description: 'Support options',
        defaultMessage: 'Support options',
    },
    apiDocumentation: {
        id: 'apiDocumentation',
        description: 'API documentation',
        defaultMessage: 'API documentation',
    },
    insightsRhelDocumentation: {
        id: 'insightsRhelDocumentation',
        description: 'Insights for RHEL Documentation',
        defaultMessage: 'Insights for RHEL Documentation',
    },
    demoMode: {
        id: 'demoMode',
        description: 'Demo mode',
        defaultMessage: 'Demo mode',
    },
    loggedOut: {
        id: 'loggedOut',
        description: 'You have successfully logged out.',
        defaultMessage: 'You have successfully logged out.',
    },
    useAccountNumber: {
        id: 'useAccountNumber',
        description: "Use this number when contacting Red Hat for support. If you don't have any active subscriptions, you will not have an account number.",
        defaultMessage: "Use this number when contacting Red Hat for support. If you don't have any active subscriptions, you will not have an account number.",
    },
    accountNumber: {
        id: 'accountNumber',
        description: 'Account number:',
        defaultMessage: 'Account number:',
    },
    orgAdministrator: {
        id: 'orgAdministrator',
        description: 'Org. Administrator',
        defaultMessage: 'Org. Administrator',
    },
    internalUser: {
        id: 'internalUser',
        description: 'Internal user',
        defaultMessage: 'Internal user',
    },
    myProfile: { id: 'myProfile', description: 'My profile', defaultMessage: 'My profile' },
    myUserAccess: { id: 'myUserAccess', description: 'My User Access', defaultMessage: 'My User Access' },
    userPreferences: {
        id: 'userPreferences',
        description: 'User Preferences',
        defaultMessage: 'User Preferences',
    },
    internal: {
        id: 'internal',
        description: 'Internal',
        defaultMessage: 'Internal',
    },
    logout: {
        id: 'logout',
        description: 'Log out',
        defaultMessage: 'Log out',
    },
    home: {
        id: 'home',
        description: 'Home',
        defaultMessage: 'Home',
    },
    viewingAsAccount: {
        id: 'viewingAsAccount',
        description: 'Viewing as Account {selectedAccountNumber}',
        defaultMessage: 'Viewing as Account {selectedAccountNumber}',
    },
    viewRequest: {
        id: 'viewRequest',
        description: 'View request',
        defaultMessage: 'View request',
    },
    username: {
        id: 'username',
        description: 'Username:',
        defaultMessage: 'Username:',
    },
    authFailure: {
        id: 'authFailure',
        description: 'Authorization failure',
        defaultMessage: 'Authorization failure',
    },
    accessRestricted: {
        id: 'accessRestricted',
        description: 'Access to this page is reserved for third party IDP token from users on authorized accounts.',
        defaultMessage: 'Access to this page is reserved for third party IDP token from users on authorized accounts.',
    },
    tryUsingDifferentAccount: {
        id: 'tryUsingDifferentAccount',
        description: 'Try using different account',
        defaultMessage: 'Try using different account',
    },
    quickStarts: {
        id: 'quickStarts',
        description: 'Quick starts',
        defaultMessage: 'Quick starts',
    },
    learnHowTo: {
        id: 'learnHowTo',
        description: 'Learn how to create, import, and run applications with step-by-step instructions and tasks.',
        defaultMessage: 'Learn how to create, import, and run applications with step-by-step instructions and tasks.',
    },
    unableToLoadQuickstartsContent: {
        id: 'unableToLoadQuickstartsContent',
        description: 'Unable to load the quickstarts content.',
        defaultMessage: 'Unable to load the quickstarts content.',
    },
    thereWillBeACatalgPage: {
        id: 'thereWillBeACatalgPage',
        description: 'There will be a catalog page for {bundle} bundle',
        defaultMessage: 'There will be a catalog page for {bundle} bundle',
    },
    tryThisFeatureInBeta: {
        id: 'tryThisFeatureInBeta',
        description: 'Try this feature in our Beta Environment on cloud.redhat.com/beta. The Beta Environment allows you to interact with new features in an active development space. Because beta pre-release software is still being developed, you may encounter bugs or flaws in availability, stability, data, or performance.',
        defaultMessage: 'Try this feature in our Beta Environment on cloud.redhat.com/beta. The Beta Environment allows you to interact with new features in an active development space. Because beta pre-release software is still being developed, you may encounter bugs or flaws in availability, stability, data, or performance.',
    },
    afterBetaUse: {
        id: 'afterBetaUse',
        description: 'After you use a feature in beta, you’ll stay in the Beta Environment until you manually exit the beta release. Leave the Beta Environment any time by clicking on the settings (gear) icon or beta icon in the top toolbar.',
        defaultMessage: 'After you use a feature in beta, you’ll stay in the Beta Environment until you manually exit the beta release. Leave the Beta Environment any time by clicking on the settings (gear) icon or beta icon in the top toolbar.',
    },
    useFeatureInBeta: {
        id: 'useFeatureInBeta',
        description: 'Use feature in beta',
        defaultMessage: 'Use feature in beta',
    },
    learnMoreABoutBeta: {
        id: 'learnMoreABoutBeta',
        description: 'Learn more about Beta Environment',
        defaultMessage: 'Learn more about Beta Environment',
    },
    permissionErrorDescription: {
        id: 'permissionErrorDescription',
        defaultMessage: 'Contact your organization administrator(s) for more information or visit <MuaLink>My User Access</MuaLink> to learn more about your permissions.',
    },
    permissionErrorDetail: {
        id: 'permissionErrorDetail',
        defaultMessage: 'Detail: {message}.',
    },
    filterByTags: {
        id: 'filterByTags',
        description: 'Placeholder to indicate ',
        defaultMessage: 'Filter by tags',
    },
    reportABug: {
        id: 'reportABug',
        description: 'Report a bug',
        defaultMessage: 'Report a bug',
    },
    describeReportBug: {
        id: 'describeReportBug',
        description: 'Describe the bug you encountered. Include where it is located and what action caused it. If this issue is urgent or blocking your workflow, ',
        defaultMessage: 'Describe the bug you encountered. Include where it is located and what action caused it. If this issue is urgent or blocking your workflow, ',
    },
    describeBugUrgentCases: {
        id: 'describeBugUrgentCases',
        description: 'Describe the bug you encountered. For urgent issues, open a support case instead.',
        defaultMessage: 'Describe the bug you encountered. For urgent issues, open a support case instead.',
    },
    addDescription: {
        id: 'addDescription',
        description: 'Add description',
        defaultMessage: 'Add description',
    },
    back: {
        id: 'back',
        description: 'Back',
        defaultMessage: 'Back',
    },
    informRedhatDirection: {
        id: 'informRedhatDirection',
        description: 'Inform the direction of Red Hat',
        defaultMessage: 'Inform the direction of Red Hat',
    },
    informDirectionDescription: {
        id: 'informDirectionDescription',
        description: 'By participating in feedback sessions, usability tests, and interviews with our ',
        defaultMessage: 'By participating in feedback sessions, usability tests, and interviews with our ',
    },
    userResearchTeam: {
        id: 'userResearchTeam',
        description: 'User Research Team',
        defaultMessage: 'User Research Team',
    },
    directInfluence: {
        id: 'directInfluence',
        description: ', your feedback will directly influence the future of Red Hat’s products. Opt in below to hear about future research opportunities via email.',
        defaultMessage: ', your feedback will directly influence the future of Red Hat’s products. Opt in below to hear about future research opportunities via email.',
    },
    bugReported: {
        id: 'bugReported',
        description: 'Bug Reported',
        defaultMessage: 'Bug Reported',
    },
    teamWillReviewBug: {
        id: 'teamWillReviewBug',
        description: 'We appreciate your feedback and our team will review your report shorlty',
        defaultMessage: 'We appreciate your feedback and our team will review your report shorlty',
    },
    responseSent: {
        id: 'responseSent',
        description: 'Response sent',
        defaultMessage: 'Response sent',
    },
    thankYouForInterest: {
        id: 'thankYouForInterest',
        description: 'Thank you for your interest in user research. You have been added to our mailing list.',
        defaultMessage: 'Thank you for your interest in user research. You have been added to our mailing list.',
    },
    joinMailingList: {
        id: 'joinMailingList',
        description: 'Join mailing list',
        defaultMessage: 'Join mailing list',
    },
}));


/***/ }),

/***/ "./src/moduleOverrides/unfetch.ts":
/*!****************************************!*\
  !*** ./src/moduleOverrides/unfetch.ts ***!
  \****************************************/
/***/ ((module) => {

"use strict";

/**
 * This is required for the segment analytics
 * It uses the unfetch library which is not compatbile with our fecth library and fails to initialize the browser client.
 * */
module.exports = window.fetch;


/***/ }),

/***/ "./src/redux/action-types.ts":
/*!***********************************!*\
  !*** ./src/redux/action-types.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ADD_QUICKSTARTS_TO_APP": () => (/* binding */ ADD_QUICKSTARTS_TO_APP),
/* harmony export */   "APP_NAV_CLICK": () => (/* binding */ APP_NAV_CLICK),
/* harmony export */   "CHANGE_ACTIVE_MODULE": () => (/* binding */ CHANGE_ACTIVE_MODULE),
/* harmony export */   "CHROME_GET_ALL_SIDS": () => (/* binding */ CHROME_GET_ALL_SIDS),
/* harmony export */   "CHROME_GET_ALL_TAGS": () => (/* binding */ CHROME_GET_ALL_TAGS),
/* harmony export */   "CHROME_GET_ALL_WORKLOADS": () => (/* binding */ CHROME_GET_ALL_WORKLOADS),
/* harmony export */   "CHROME_PAGE_ACTION": () => (/* binding */ CHROME_PAGE_ACTION),
/* harmony export */   "CHROME_PAGE_OBJECT": () => (/* binding */ CHROME_PAGE_OBJECT),
/* harmony export */   "CLEAR_QUICKSTARTS": () => (/* binding */ CLEAR_QUICKSTARTS),
/* harmony export */   "DISABLE_QUICKSTARTS": () => (/* binding */ DISABLE_QUICKSTARTS),
/* harmony export */   "GLOBAL_FILTER_REMOVE": () => (/* binding */ GLOBAL_FILTER_REMOVE),
/* harmony export */   "GLOBAL_FILTER_SCOPE": () => (/* binding */ GLOBAL_FILTER_SCOPE),
/* harmony export */   "GLOBAL_FILTER_TOGGLE": () => (/* binding */ GLOBAL_FILTER_TOGGLE),
/* harmony export */   "GLOBAL_FILTER_UPDATE": () => (/* binding */ GLOBAL_FILTER_UPDATE),
/* harmony export */   "LOAD_LEFT_NAVIGATION_SEGMENT": () => (/* binding */ LOAD_LEFT_NAVIGATION_SEGMENT),
/* harmony export */   "LOAD_MODULES_SCHEMA": () => (/* binding */ LOAD_MODULES_SCHEMA),
/* harmony export */   "LOAD_NAVIGATION_LANDING_PAGE": () => (/* binding */ LOAD_NAVIGATION_LANDING_PAGE),
/* harmony export */   "MARK_ACTIVE_PRODUCT": () => (/* binding */ MARK_ACTIVE_PRODUCT),
/* harmony export */   "MARK_REQUEST_NOTIFICATION_SEEN": () => (/* binding */ MARK_REQUEST_NOTIFICATION_SEEN),
/* harmony export */   "POPULATE_QUICKSTARTS_CATALOG": () => (/* binding */ POPULATE_QUICKSTARTS_CATALOG),
/* harmony export */   "REGISTER_MODULE": () => (/* binding */ REGISTER_MODULE),
/* harmony export */   "SET_GATEWAY_ERROR": () => (/* binding */ SET_GATEWAY_ERROR),
/* harmony export */   "SET_PENDO_FEEDBACK_FLAG": () => (/* binding */ SET_PENDO_FEEDBACK_FLAG),
/* harmony export */   "STORE_INITIAL_HASH": () => (/* binding */ STORE_INITIAL_HASH),
/* harmony export */   "TOGGLECONTEXTSWITCHER": () => (/* binding */ TOGGLECONTEXTSWITCHER),
/* harmony export */   "TOGGLE_FEEDBACK_MODAL": () => (/* binding */ TOGGLE_FEEDBACK_MODAL),
/* harmony export */   "UPDATE_ACCESS_REQUESTS_NOTIFICATIONS": () => (/* binding */ UPDATE_ACCESS_REQUESTS_NOTIFICATIONS),
/* harmony export */   "UPDATE_DOCUMENT_TITLE_REDUCER": () => (/* binding */ UPDATE_DOCUMENT_TITLE_REDUCER),
/* harmony export */   "USER_LOGIN": () => (/* binding */ USER_LOGIN)
/* harmony export */ });
const USER_LOGIN = '@@chrome/user-login';
const APP_NAV_CLICK = '@@chrome/app-nav-click';
const CHROME_PAGE_ACTION = '@@chrome/app-page-action';
const CHROME_PAGE_OBJECT = '@@chrome/app-object-id';
const CHROME_GET_ALL_TAGS = '@@chrome/get-all-tags';
const CHROME_GET_ALL_SIDS = '@@chrome/get-all-sids';
const CHROME_GET_ALL_WORKLOADS = '@@chrome/get-all-workloads';
const GLOBAL_FILTER_SCOPE = '@@chrome/set-global-filter-scope';
const GLOBAL_FILTER_UPDATE = '@@chrome/global-filter-update';
const GLOBAL_FILTER_TOGGLE = '@@chrome/global-filter-toggle';
const GLOBAL_FILTER_REMOVE = '@@chrome/global-filter-remove';
const REGISTER_MODULE = '@@chrome/register-async-module';
const TOGGLECONTEXTSWITCHER = '@@chrome/context-switcher-toggle';
const LOAD_NAVIGATION_LANDING_PAGE = '@@chrome/load-navigation-landing-page';
const LOAD_LEFT_NAVIGATION_SEGMENT = '@@chrome/load-navigation-segment';
const LOAD_MODULES_SCHEMA = '@@chrome/load-modules-schema';
const CHANGE_ACTIVE_MODULE = '@@chrome/change-active-module';
const SET_PENDO_FEEDBACK_FLAG = '@@chrome/set-pendo-feedback-flag';
const TOGGLE_FEEDBACK_MODAL = '@@chrome/toggle-feedback-modal';
const UPDATE_ACCESS_REQUESTS_NOTIFICATIONS = '@@chrome/update-access-requests-notifications';
const MARK_REQUEST_NOTIFICATION_SEEN = '@@chrome/mark-request-notification-seen';
const UPDATE_DOCUMENT_TITLE_REDUCER = '@@chrome/update-document-title';
const MARK_ACTIVE_PRODUCT = '@@chrome/mark-active-product';
const STORE_INITIAL_HASH = '@@chrome/store-initial-hash';
const POPULATE_QUICKSTARTS_CATALOG = '@@chrome/populate-quickstarts-catalog';
const ADD_QUICKSTARTS_TO_APP = '@@chrome/add-quickstart';
const DISABLE_QUICKSTARTS = '@@chrome/disable-quickstarts';
const CLEAR_QUICKSTARTS = '@@chrome/clear-quickstarts';
const SET_GATEWAY_ERROR = '@@chrome/set-gateway-error';


/***/ }),

/***/ "./src/redux/actions.ts":
/*!******************************!*\
  !*** ./src/redux/actions.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addQuickstart": () => (/* binding */ addQuickstart),
/* harmony export */   "appAction": () => (/* binding */ appAction),
/* harmony export */   "appNavClick": () => (/* binding */ appNavClick),
/* harmony export */   "appObjectId": () => (/* binding */ appObjectId),
/* harmony export */   "changeActiveModule": () => (/* binding */ changeActiveModule),
/* harmony export */   "clearQuickstarts": () => (/* binding */ clearQuickstarts),
/* harmony export */   "disableQuickstarts": () => (/* binding */ disableQuickstarts),
/* harmony export */   "fetchAllSIDs": () => (/* binding */ fetchAllSIDs),
/* harmony export */   "fetchAllTags": () => (/* binding */ fetchAllTags),
/* harmony export */   "fetchAllWorkloads": () => (/* binding */ fetchAllWorkloads),
/* harmony export */   "globalFilterChange": () => (/* binding */ globalFilterChange),
/* harmony export */   "globalFilterScope": () => (/* binding */ globalFilterScope),
/* harmony export */   "loadLeftNavSegment": () => (/* binding */ loadLeftNavSegment),
/* harmony export */   "loadModulesSchema": () => (/* binding */ loadModulesSchema),
/* harmony export */   "loadNavigationLandingPage": () => (/* binding */ loadNavigationLandingPage),
/* harmony export */   "markAccessRequestNotification": () => (/* binding */ markAccessRequestNotification),
/* harmony export */   "markActiveProduct": () => (/* binding */ markActiveProduct),
/* harmony export */   "onToggle": () => (/* binding */ onToggle),
/* harmony export */   "onToggleContextSwitcher": () => (/* binding */ onToggleContextSwitcher),
/* harmony export */   "populateQuickstartsCatalog": () => (/* binding */ populateQuickstartsCatalog),
/* harmony export */   "registerModule": () => (/* binding */ registerModule),
/* harmony export */   "removeGlobalFilter": () => (/* binding */ removeGlobalFilter),
/* harmony export */   "setGatewayError": () => (/* binding */ setGatewayError),
/* harmony export */   "setPendoFeedbackFlag": () => (/* binding */ setPendoFeedbackFlag),
/* harmony export */   "toggleFeedbackModal": () => (/* binding */ toggleFeedbackModal),
/* harmony export */   "toggleGlobalFilter": () => (/* binding */ toggleGlobalFilter),
/* harmony export */   "updateAccessRequestsNotifications": () => (/* binding */ updateAccessRequestsNotifications),
/* harmony export */   "updateDocumentTitle": () => (/* binding */ updateDocumentTitle),
/* harmony export */   "userLogIn": () => (/* binding */ userLogIn)
/* harmony export */ });
/* harmony import */ var _action_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action-types */ "./src/redux/action-types.ts");
/* harmony import */ var _components_GlobalFilter_tagsApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/GlobalFilter/tagsApi */ "./src/components/GlobalFilter/tagsApi.ts");


function userLogIn(user) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.USER_LOGIN,
        payload: user,
    };
}
/*
 *TODO: The event type is deliberately nonse. It will start failing once we mirate rest of the app and we will figure out the correct type
 */
function appNavClick(item, event) {
    return { type: _action_types__WEBPACK_IMPORTED_MODULE_0__.APP_NAV_CLICK, payload: { ...(item || {}), id: item?.id, event } };
}
function appAction(action) {
    return { type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHROME_PAGE_ACTION, payload: action };
}
function appObjectId(objectId) {
    return { type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHROME_PAGE_OBJECT, payload: objectId };
}
function fetchAllTags(filters, pagination) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHROME_GET_ALL_TAGS,
        payload: (0,_components_GlobalFilter_tagsApi__WEBPACK_IMPORTED_MODULE_1__.getAllTags)(filters, pagination),
    };
}
function fetchAllSIDs(filters, pagination) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHROME_GET_ALL_SIDS,
        payload: (0,_components_GlobalFilter_tagsApi__WEBPACK_IMPORTED_MODULE_1__.getAllSIDs)(filters, pagination),
    };
}
function fetchAllWorkloads(filters, pagination) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHROME_GET_ALL_WORKLOADS,
        payload: (0,_components_GlobalFilter_tagsApi__WEBPACK_IMPORTED_MODULE_1__.getAllWorkloads)(filters, pagination),
    };
}
function globalFilterScope(scope) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_FILTER_SCOPE,
        payload: scope,
    };
}
function globalFilterChange(selectedTags) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_FILTER_UPDATE,
        payload: selectedTags,
    };
}
function toggleGlobalFilter(isHidden = true) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_FILTER_TOGGLE,
        payload: { isHidden },
    };
}
function removeGlobalFilter(isHidden = true) {
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_FILTER_REMOVE,
        payload: { isHidden },
    };
}
function registerModule(module, manifest) {
    if (!module) {
        throw new Error(`unknown module identifier: ${module}`);
    }
    return {
        type: _action_types__WEBPACK_IMPORTED_MODULE_0__.REGISTER_MODULE,
        payload: {
            module,
            manifest,
        },
    };
}
const onToggleContextSwitcher = () => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.TOGGLECONTEXTSWITCHER,
});
const loadNavigationLandingPage = (schema) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.LOAD_NAVIGATION_LANDING_PAGE,
    payload: schema,
});
const loadLeftNavSegment = (schema, segment, pathName, shouldMerge) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.LOAD_LEFT_NAVIGATION_SEGMENT,
    payload: {
        segment,
        schema,
        pathName,
        shouldMerge,
    },
});
const loadModulesSchema = (schema) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.LOAD_MODULES_SCHEMA,
    payload: {
        schema,
    },
});
const changeActiveModule = (module) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CHANGE_ACTIVE_MODULE,
    payload: module,
});
/**
 * @deprecated
 */
const onToggle = () => ({
    type: 'NAVIGATION_TOGGLE',
});
const setPendoFeedbackFlag = (payload) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.SET_PENDO_FEEDBACK_FLAG,
    payload,
});
const toggleFeedbackModal = (payload) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_FEEDBACK_MODAL,
    payload,
});
const updateAccessRequestsNotifications = (payload) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.UPDATE_ACCESS_REQUESTS_NOTIFICATIONS,
    payload,
});
const markAccessRequestNotification = (payload) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.MARK_REQUEST_NOTIFICATION_SEEN,
    payload,
});
const populateQuickstartsCatalog = (app, quickstarts) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.POPULATE_QUICKSTARTS_CATALOG,
    payload: {
        app,
        quickstarts,
    },
});
const addQuickstart = (app, quickstart) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.ADD_QUICKSTARTS_TO_APP,
    payload: {
        app,
        quickstart,
    },
});
const clearQuickstarts = (activeQuickstart) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.CLEAR_QUICKSTARTS,
    payload: {
        activeQuickstart,
    },
});
const disableQuickstarts = () => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.DISABLE_QUICKSTARTS,
});
const updateDocumentTitle = (title) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.UPDATE_DOCUMENT_TITLE_REDUCER,
    payload: title,
});
const markActiveProduct = (product) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.MARK_ACTIVE_PRODUCT,
    payload: product,
});
const setGatewayError = (error) => ({
    type: _action_types__WEBPACK_IMPORTED_MODULE_0__.SET_GATEWAY_ERROR,
    payload: error,
});


/***/ }),

/***/ "./src/redux/chromeReducers.ts":
/*!*************************************!*\
  !*** ./src/redux/chromeReducers.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accessRequestsNotificationsReducer": () => (/* binding */ accessRequestsNotificationsReducer),
/* harmony export */   "addQuickstartstoApp": () => (/* binding */ addQuickstartstoApp),
/* harmony export */   "appNavClick": () => (/* binding */ appNavClick),
/* harmony export */   "changeActiveModuleReducer": () => (/* binding */ changeActiveModuleReducer),
/* harmony export */   "clearQuickstartsReducer": () => (/* binding */ clearQuickstartsReducer),
/* harmony export */   "contextSwitcherBannerReducer": () => (/* binding */ contextSwitcherBannerReducer),
/* harmony export */   "disableQuickstartsReducer": () => (/* binding */ disableQuickstartsReducer),
/* harmony export */   "documentTitleReducer": () => (/* binding */ documentTitleReducer),
/* harmony export */   "loadModulesSchemaReducer": () => (/* binding */ loadModulesSchemaReducer),
/* harmony export */   "loadNavigationLandingPageReducer": () => (/* binding */ loadNavigationLandingPageReducer),
/* harmony export */   "loadNavigationSegmentReducer": () => (/* binding */ loadNavigationSegmentReducer),
/* harmony export */   "loginReducer": () => (/* binding */ loginReducer),
/* harmony export */   "markAccessRequestRequestReducer": () => (/* binding */ markAccessRequestRequestReducer),
/* harmony export */   "markActiveProduct": () => (/* binding */ markActiveProduct),
/* harmony export */   "onPageAction": () => (/* binding */ onPageAction),
/* harmony export */   "onPageObjectId": () => (/* binding */ onPageObjectId),
/* harmony export */   "onRegisterModule": () => (/* binding */ onRegisterModule),
/* harmony export */   "populateQuickstartsReducer": () => (/* binding */ populateQuickstartsReducer),
/* harmony export */   "setGatewayError": () => (/* binding */ setGatewayError),
/* harmony export */   "setPendoFeedbackFlag": () => (/* binding */ setPendoFeedbackFlag),
/* harmony export */   "toggleFeedbackModal": () => (/* binding */ toggleFeedbackModal)
/* harmony export */ });
/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/consts */ "./src/utils/consts.ts");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/common */ "./src/utils/common.ts");


function contextSwitcherBannerReducer(state) {
    return {
        ...state,
        contextSwitcherOpen: !state.contextSwitcherOpen,
    };
}
function appNavClick(state, { payload }) {
    return {
        ...state,
        activeApp: payload.id,
    };
}
function loginReducer(state, { payload }) {
    const missingIDP = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isFedRamp)() && !Object.prototype.hasOwnProperty.call(payload?.identity, 'idp');
    return {
        ...state,
        missingIDP,
        user: payload,
    };
}
function onPageAction(state, { payload }) {
    return {
        ...state,
        pageAction: payload,
    };
}
function onPageObjectId(state, { payload }) {
    return {
        ...state,
        pageObjectId: payload,
    };
}
function onRegisterModule(state, { payload, }) {
    const isModuleLoaded = state.modules?.[payload.module];
    const manifestLocation = payload.manifestLocation || payload.manifest;
    if (!isModuleLoaded && typeof manifestLocation === 'string') {
        return {
            ...state,
            modules: {
                ...state.modules,
                [payload.module]: {
                    manifestLocation,
                },
            },
        };
    }
    return state;
}
function loadNavigationLandingPageReducer(state, { payload }) {
    return {
        ...state,
        navigation: {
            ...state.navigation,
            landingPage: payload,
        },
    };
}
function isNavigation(nav) {
    return !Array.isArray(nav);
}
function loadNavigationSegmentReducer(state, { payload: { segment, schema, pathName, shouldMerge }, }) {
    const mergedSchema = shouldMerge || !state.navigation?.[segment] ? schema : state.navigation?.[segment];
    if (isNavigation(mergedSchema)) {
        // Landing page navgation has different siganture
        const sortedLinks = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.levelArray)(mergedSchema?.navItems).sort((a, b) => (a.length < b.length ? 1 : -1));
        return {
            ...state,
            navigation: {
                ...state.navigation,
                [segment]: {
                    ...mergedSchema,
                    navItems: pathName ? (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.highlightItems)(pathName, mergedSchema.navItems, sortedLinks) : mergedSchema.navItems,
                    sortedLinks,
                },
            },
        };
    }
    return state;
}
function loadModulesSchemaReducer(state, { payload: { schema }, }) {
    const scalprumConfig = Object.entries(schema).reduce((acc, [name, config]) => ({
        ...acc,
        [name]: {
            name,
            module: `${name}#./RootApp`,
            manifestLocation: `${window.location.origin}${(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isBeta)() ? '/beta' : ''}${config.manifestLocation}?ts=${Date.now()}`,
        },
    }), {
        chrome: {
            name: 'chrome',
            manifestLocation: `${window.location.origin}${(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.isBeta)() ? '/beta' : ''}/apps/chrome/js/fed-mods.json?ts=${Date.now()}`,
        },
    });
    const moduleRoutes = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.generateRoutesList)(schema);
    return {
        ...state,
        modules: schema,
        scalprumConfig,
        moduleRoutes,
    };
}
function changeActiveModuleReducer(state, { payload }) {
    return {
        ...state,
        activeModule: payload,
        appId: payload,
    };
}
function setPendoFeedbackFlag(state, { payload, }) {
    return {
        ...state,
        usePendoFeedback: payload,
    };
}
function toggleFeedbackModal(state, { payload, }) {
    return {
        ...state,
        isFeedbackModalOpen: payload,
    };
}
function accessRequestsNotificationsReducer(state, { payload: { count, data } }) {
    const newData = data.map(({ request_id, created, seen }) => ({
        request_id,
        created,
        seen: seen === true || !!state.accessRequests.data.find((item) => request_id === item.request_id)?.seen || false,
    }));
    localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_0__.REQUESTS_COUNT, newData.length.toString());
    localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_0__.REQUESTS_DATA, JSON.stringify(newData));
    return {
        ...state,
        accessRequests: {
            ...state.accessRequests,
            count,
            hasUnseen: newData.length > 0,
            data: newData,
        },
    };
}
function markAccessRequestRequestReducer(state, { payload }) {
    const newData = state.accessRequests.data.map((item) => (item.request_id === payload ? { ...item, seen: true } : item));
    localStorage.setItem(_utils_consts__WEBPACK_IMPORTED_MODULE_0__.REQUESTS_DATA, JSON.stringify(newData));
    return {
        ...state,
        accessRequests: {
            ...state.accessRequests,
            hasUnseen: newData.length > 0,
            data: newData,
        },
    };
}
function populateQuickstartsReducer(state, { payload: { app, quickstarts } }) {
    return {
        ...state,
        quickstarts: {
            ...state.quickstarts,
            quickstarts: {
                [app]: quickstarts,
            },
        },
    };
}
function addQuickstartstoApp(state, { app, quickstart }) {
    return {
        ...state,
        quickstarts: {
            ...state.quickstarts,
            quickstarts: {
                ...state.quickstarts.quickstarts,
                [app]: [...(state.quickstarts?.quickstarts?.[app] ? state.quickstarts?.quickstarts?.[app] || [] : []), quickstart],
            },
        },
    };
}
function disableQuickstartsReducer(state) {
    return {
        ...state,
        quickstarts: {
            ...state.quickstarts,
            disabled: true,
        },
    };
}
function clearQuickstartsReducer(state, { payload: { activeQuickstart } }) {
    return {
        ...state,
        quickstarts: {
            ...state.quickstarts,
            // do not remove currently opened quickstart
            quickstarts: Object.entries(state.quickstarts.quickstarts)?.reduce((acc, [namespace, quickstarts]) => ({
                ...acc,
                [namespace]: Array.isArray(quickstarts) ? quickstarts.filter((qs) => qs?.metadata?.name === activeQuickstart) : quickstarts,
            }), {}),
        },
    };
}
function documentTitleReducer(state, { payload }) {
    return {
        ...state,
        documentTitle: payload,
    };
}
function markActiveProduct(state, { payload }) {
    return {
        ...state,
        activeProduct: payload,
    };
}
function setGatewayError(state, { payload }) {
    return {
        ...state,
        gatewayError: payload,
    };
}


/***/ }),

/***/ "./src/redux/globalFilterReducers.ts":
/*!*******************************************!*\
  !*** ./src/redux/globalFilterReducers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "globalFilterDefaultState": () => (/* binding */ globalFilterDefaultState),
/* harmony export */   "onGetAllSIDs": () => (/* binding */ onGetAllSIDs),
/* harmony export */   "onGetAllSIDsPending": () => (/* binding */ onGetAllSIDsPending),
/* harmony export */   "onGetAllTags": () => (/* binding */ onGetAllTags),
/* harmony export */   "onGetAllTagsPending": () => (/* binding */ onGetAllTagsPending),
/* harmony export */   "onGetAllWorkloads": () => (/* binding */ onGetAllWorkloads),
/* harmony export */   "onGetAllWorkloadsPending": () => (/* binding */ onGetAllWorkloadsPending),
/* harmony export */   "onGlobalFilterRemove": () => (/* binding */ onGlobalFilterRemove),
/* harmony export */   "onGlobalFilterToggle": () => (/* binding */ onGlobalFilterToggle),
/* harmony export */   "onSetGlobalFilterScope": () => (/* binding */ onSetGlobalFilterScope),
/* harmony export */   "onTagSelect": () => (/* binding */ onTagSelect)
/* harmony export */ });
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/GlobalFilter/globalFilterApi */ "./src/components/GlobalFilter/globalFilterApi.ts");


const globalFilterDefaultState = {
    scope: 'insights',
    tags: { isLoaded: false, items: [], count: 0, total: 0 },
    sid: { isLoaded: false, items: [], count: 0, total: 0 },
    workloads: {
        isLoaded: false,
        items: [],
        count: 0,
        total: 0,
        name: 'Workloads',
        noFilter: true,
        tags: [
            {
                tag: { key: 'SAP' },
                count: 0,
            },
            {
                tag: { key: _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_1__.AAP_KEY },
                count: 0,
            },
            {
                tag: { key: _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_1__.MSSQL_KEY },
                count: 0,
            },
        ],
    },
    selectedTags: {},
    globalFilterHidden: false,
};
function onGetAllTags(state, { payload, }) {
    return {
        ...state,
        tags: {
            isLoaded: true,
            items: Object.entries(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(payload?.results || [], ({ tag: { namespace } }) => namespace)).map(([key, value]) => ({
                name: key,
                tags: value,
            })),
            total: payload?.total,
            count: payload?.count,
            page: payload?.page,
            // eslint-disable-next-line camelcase
            perPage: payload?.per_page,
        },
    };
}
function onGetAllTagsPending(state) {
    return {
        ...state,
        tags: {
            ...state.tags,
            isLoaded: false,
        },
    };
}
function onSetGlobalFilterScope(state, { payload }) {
    return {
        ...state,
        scope: payload,
    };
}
function onGlobalFilterToggle(state, { payload }) {
    return {
        ...state,
        globalFilterHidden: payload.isHidden,
    };
}
function onTagSelect(state, { payload }) {
    return {
        ...state,
        selectedTags: payload,
    };
}
function onGetAllSIDs(state, { payload }) {
    return {
        ...state,
        sid: {
            isLoaded: true,
            ...(payload?.total > 0
                ? {
                    items: [
                        {
                            name: _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_1__.SID_KEY,
                            tags: (payload?.results || []).map(({ value, count } = {}) => ({
                                tag: { key: value, namespace: _components_GlobalFilter_globalFilterApi__WEBPACK_IMPORTED_MODULE_1__.SID_KEY },
                                count,
                            })),
                        },
                    ],
                }
                : {}),
            total: payload?.total,
            count: payload?.count,
            page: payload?.page,
            // eslint-disable-next-line camelcase
            perPage: payload?.per_page,
        },
    };
}
function onGetAllSIDsPending(state) {
    return {
        ...state,
        sid: {
            ...state.sid,
            isLoaded: false,
        },
    };
}
function onGetAllWorkloads(state, { payload = {} }) {
    const { SAP, AAP, MSSQL } = payload;
    return {
        ...state,
        workloads: {
            ...state.workloads,
            isLoaded: true,
            tags: [
                {
                    ...(state.workloads?.tags?.[0] || {}),
                    count: SAP?.results?.find(({ value } = {}) => value)?.count || 0,
                },
                {
                    ...(state.workloads?.tags?.[1] || {}),
                    count: AAP?.total || 0,
                },
                {
                    ...(state.workloads?.tags?.[2] || {}),
                    count: MSSQL?.total || 0,
                },
            ],
        },
    };
}
function onGetAllWorkloadsPending(state) {
    return {
        ...state,
        workloads: {
            ...state.workloads,
            isLoaded: false,
        },
    };
}
function onGlobalFilterRemove(state, { payload }) {
    return {
        ...state,
        globalFilterRemoved: payload.isHidden,
    };
}


/***/ }),

/***/ "./src/redux/index.ts":
/*!****************************!*\
  !*** ./src/redux/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "chromeInitialState": () => (/* binding */ chromeInitialState),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/ReducerRegistry */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/ReducerRegistry/ReducerRegistry.js");
/* harmony import */ var _chromeReducers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chromeReducers */ "./src/redux/chromeReducers.ts");
/* harmony import */ var _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globalFilterReducers */ "./src/redux/globalFilterReducers.ts");
/* harmony import */ var _action_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action-types */ "./src/redux/action-types.ts");




const reducers = {
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.APP_NAV_CLICK]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.appNavClick,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.USER_LOGIN]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.loginReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_PAGE_ACTION]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.onPageAction,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_PAGE_OBJECT]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.onPageObjectId,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.REGISTER_MODULE]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.onRegisterModule,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.TOGGLECONTEXTSWITCHER]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.contextSwitcherBannerReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.LOAD_NAVIGATION_LANDING_PAGE]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.loadNavigationLandingPageReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.LOAD_LEFT_NAVIGATION_SEGMENT]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.loadNavigationSegmentReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.LOAD_MODULES_SCHEMA]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.loadModulesSchemaReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.CHANGE_ACTIVE_MODULE]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.changeActiveModuleReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.SET_PENDO_FEEDBACK_FLAG]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.setPendoFeedbackFlag,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.TOGGLE_FEEDBACK_MODAL]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.toggleFeedbackModal,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.UPDATE_ACCESS_REQUESTS_NOTIFICATIONS]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.accessRequestsNotificationsReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.MARK_REQUEST_NOTIFICATION_SEEN]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.markAccessRequestRequestReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.POPULATE_QUICKSTARTS_CATALOG]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.populateQuickstartsReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.ADD_QUICKSTARTS_TO_APP]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.addQuickstartstoApp,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.DISABLE_QUICKSTARTS]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.disableQuickstartsReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.UPDATE_DOCUMENT_TITLE_REDUCER]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.documentTitleReducer,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.MARK_ACTIVE_PRODUCT]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.markActiveProduct,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.SET_GATEWAY_ERROR]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.setGatewayError,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.CLEAR_QUICKSTARTS]: _chromeReducers__WEBPACK_IMPORTED_MODULE_0__.clearQuickstartsReducer,
};
const globalFilter = {
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_TAGS}_FULFILLED`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllTags,
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_TAGS}_PENDING`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllTagsPending,
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_SIDS}_FULFILLED`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllSIDs,
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_SIDS}_PENDING`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllSIDsPending,
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_WORKLOADS}_FULFILLED`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllWorkloads,
    [`${_action_types__WEBPACK_IMPORTED_MODULE_2__.CHROME_GET_ALL_WORKLOADS}_PENDING`]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGetAllWorkloadsPending,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.GLOBAL_FILTER_SCOPE]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onSetGlobalFilterScope,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.GLOBAL_FILTER_TOGGLE]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGlobalFilterToggle,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.GLOBAL_FILTER_REMOVE]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onGlobalFilterRemove,
    [_action_types__WEBPACK_IMPORTED_MODULE_2__.GLOBAL_FILTER_UPDATE]: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.onTagSelect,
};
const chromeInitialState = {
    chrome: {
        contextSwitcherOpen: false,
        navigation: {},
        accessRequests: {
            hasUnseen: false,
            count: 0,
            data: [],
        },
        quickstarts: {
            quickstarts: {},
        },
        moduleRoutes: [],
    },
    globalFilter: _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.globalFilterDefaultState,
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    // const chromeInitialState = JSON.parse(localStorage.getItem('chrome')) || {};
    return {
        chrome: (state = {
            navigation: {},
            accessRequests: {
                count: 0,
                data: [],
                hasUnseen: false,
            },
            quickstarts: {
                quickstarts: {},
            },
            contextSwitcherOpen: false,
            modules: {},
            scalprumConfig: {},
            moduleRoutes: [],
        }, action) => (0,_redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_3__.applyReducerHash)(reducers)(state, action),
        globalFilter: (state = _globalFilterReducers__WEBPACK_IMPORTED_MODULE_1__.globalFilterDefaultState, action) => (0,_redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_3__.applyReducerHash)(globalFilter)(state, action),
    };
}


/***/ }),

/***/ "./src/redux/redux-config.ts":
/*!***********************************!*\
  !*** ./src/redux/redux-config.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "middlewareListener": () => (/* binding */ middlewareListener),
/* harmony export */   "spinUpStore": () => (/* binding */ spinUpStore)
/* harmony export */ });
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions */ "./src/redux/actions.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! . */ "./src/redux/index.ts");
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/ReducerRegistry */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/ReducerRegistry/ReducerRegistry.js");
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_MiddlewareListener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/MiddlewareListener */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/MiddlewareListener/MiddlewareListener.js");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux-logger */ "./node_modules/redux-logger/dist/redux-logger.js");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(redux_logger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var redux_promise_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux-promise-middleware */ "./node_modules/redux-promise-middleware/dist/es/index.js");






const basicMiddlewares = [];
if (true) {
    basicMiddlewares.push((redux_logger__WEBPACK_IMPORTED_MODULE_2___default()));
}
const middlewareListener = new _redhat_cloud_services_frontend_components_utilities_MiddlewareListener__WEBPACK_IMPORTED_MODULE_4__["default"]();
const reduxRegistry = new _redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_5__["default"](___WEBPACK_IMPORTED_MODULE_1__.chromeInitialState, [redux_promise_middleware__WEBPACK_IMPORTED_MODULE_3__["default"], middlewareListener.getMiddleware(), ...basicMiddlewares]);
reduxRegistry.register((0,___WEBPACK_IMPORTED_MODULE_1__["default"])());
const store = reduxRegistry.getStore();
const actions = (0,_redhat_cloud_services_frontend_components_utilities_ReducerRegistry__WEBPACK_IMPORTED_MODULE_5__.dispatchActionsToStore)(_actions__WEBPACK_IMPORTED_MODULE_0__, store);
function spinUpStore() {
    return { store, middlewareListener, actions };
}


/***/ }),

/***/ "./src/utils/cache.ts":
/*!****************************!*\
  !*** ./src/utils/cache.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CacheAdapter": () => (/* binding */ CacheAdapter),
/* harmony export */   "bootstrapCache": () => (/* binding */ bootstrapCache),
/* harmony export */   "createCacheStore": () => (/* binding */ createCacheStore)
/* harmony export */ });
/* harmony import */ var axios_cache_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios-cache-adapter */ "./node_modules/axios-cache-adapter/dist/cache.js");
/* harmony import */ var axios_cache_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios_cache_adapter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! localforage */ "./node_modules/localforage/dist/localforage.js");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");



const createCacheStore = (endpoint, cacheKey) => {
    const name = (0,_common__WEBPACK_IMPORTED_MODULE_2__.lastActive)(endpoint, cacheKey);
    return localforage__WEBPACK_IMPORTED_MODULE_1___default().createInstance({
        driver: [(localforage__WEBPACK_IMPORTED_MODULE_1___default().LOCALSTORAGE)],
        name: typeof name === 'string' ? name?.split('/')[0] : name.expires.split('/')[0],
    });
};
function bootstrapCache(endpoint, cacheKey) {
    const store = createCacheStore(endpoint, cacheKey);
    return (0,axios_cache_adapter__WEBPACK_IMPORTED_MODULE_0__.setupCache)({
        store,
        maxAge: 10 * 60 * 1000, // 10 minutes
    });
}
let store;
/**
 * Check if the app has switched between beta/non-beta envs.
 * If it did, we clean the existing chrome cache to prevent stale cache entry.
 * This issue may occur when the user switches between envs without logging out and in.
 */
const envSwap = () => {
    const currentEnv = (0,_common__WEBPACK_IMPORTED_MODULE_2__.isBeta)() ? 'beta' : 'non-beta';
    const prevEnv = localStorage.getItem('chrome:prevEnv');
    if (prevEnv && currentEnv !== prevEnv) {
        (0,_common__WEBPACK_IMPORTED_MODULE_2__.deleteLocalStorageItems)(Object.keys(localStorage).filter((item) => item.endsWith('/chrome-store')));
    }
    localStorage.setItem('chrome:prevEnv', currentEnv);
};
class CacheAdapter {
    maxAge;
    expires;
    name;
    endpoint;
    cacheKey;
    constructor(endpoint, cacheKey, maxAge = 10 * 60 * 1000) {
        this.maxAge = maxAge;
        this.expires = new Date().getTime() + this.maxAge;
        envSwap();
        if (!store) {
            const name = (0,_common__WEBPACK_IMPORTED_MODULE_2__.lastActive)(endpoint, cacheKey);
            let cached;
            const cacheId = typeof name === 'string' ? name : name.expires;
            try {
                cached = JSON.parse(localStorage.getItem(cacheId) || '');
            }
            catch (e) {
                cached = localStorage.getItem(cacheId);
            }
            this.name = cacheId;
            this.endpoint = endpoint;
            this.cacheKey = cacheKey;
            store = createCacheStore(endpoint, cacheKey);
            if (new Date(parseInt(cached?.expires, 10)) >= new Date()) {
                this.setCache(parseInt(cached?.expires, 10), cached?.data);
            }
            else {
                const cacheTime = new Date().getTime() + this.maxAge;
                this.setCache(cacheTime, {});
            }
        }
    }
    async setCache(expires, data) {
        this.expires = expires;
        if (this.endpoint) {
            await store.setItem(this.endpoint, {
                data,
                expires,
            });
        }
    }
    async invalidateStore() {
        if (new Date(this.expires) <= new Date()) {
            (0,_common__WEBPACK_IMPORTED_MODULE_2__.deleteLocalStorageItems)(Object.keys(localStorage).filter((item) => item.endsWith('/chrome')));
            await localforage__WEBPACK_IMPORTED_MODULE_1___default().dropInstance();
            if (this.endpoint && this.cacheKey) {
                store = createCacheStore(this.endpoint, this.cacheKey);
                const cacheTime = new Date().getTime() + this.maxAge;
                await this.setCache(cacheTime, {});
            }
        }
    }
    async setItem(key, data) {
        await this.invalidateStore();
        if (this.endpoint) {
            const cachedData = await store.getItem(this.endpoint);
            if (cachedData != null) {
                cachedData.data = {
                    ...cachedData?.data,
                    [key]: data,
                };
            }
            await store.setItem(this.endpoint, cachedData);
        }
    }
    async getItem(key) {
        await this.invalidateStore();
        if (this.endpoint) {
            const cachedData = await store.getItem(this.endpoint);
            return cachedData?.data?.[key];
        }
        return Promise.resolve();
    }
}


/***/ }),

/***/ "./src/utils/chromeHistory.ts":
/*!************************************!*\
  !*** ./src/utils/chromeHistory.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! history */ "./node_modules/history/index.js");

const history = (0,history__WEBPACK_IMPORTED_MODULE_0__.createBrowserHistory)();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (history);


/***/ }),

/***/ "./src/utils/common.ts":
/*!*****************************!*\
  !*** ./src/utils/common.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_SSO_ROUTES": () => (/* binding */ DEFAULT_SSO_ROUTES),
/* harmony export */   "LOGIN_TYPE_STORAGE_KEY": () => (/* binding */ LOGIN_TYPE_STORAGE_KEY),
/* harmony export */   "createReduxListener": () => (/* binding */ createReduxListener),
/* harmony export */   "deleteLocalStorageItems": () => (/* binding */ deleteLocalStorageItems),
/* harmony export */   "generateRoutesList": () => (/* binding */ generateRoutesList),
/* harmony export */   "getEnv": () => (/* binding */ getEnv),
/* harmony export */   "getEnvDetails": () => (/* binding */ getEnvDetails),
/* harmony export */   "getSection": () => (/* binding */ getSection),
/* harmony export */   "getUrl": () => (/* binding */ getUrl),
/* harmony export */   "getWindow": () => (/* binding */ getWindow),
/* harmony export */   "highlightItems": () => (/* binding */ highlightItems),
/* harmony export */   "isAnsible": () => (/* binding */ isAnsible),
/* harmony export */   "isBeta": () => (/* binding */ isBeta),
/* harmony export */   "isFedRamp": () => (/* binding */ isFedRamp),
/* harmony export */   "isGlobalFilterAllowed": () => (/* binding */ isGlobalFilterAllowed),
/* harmony export */   "isProd": () => (/* binding */ isProd),
/* harmony export */   "isValidAccountNumber": () => (/* binding */ isValidAccountNumber),
/* harmony export */   "lastActive": () => (/* binding */ lastActive),
/* harmony export */   "levelArray": () => (/* binding */ levelArray),
/* harmony export */   "loadFedModules": () => (/* binding */ loadFedModules),
/* harmony export */   "noop": () => (/* binding */ noop),
/* harmony export */   "pageAllowsUnentitled": () => (/* binding */ pageAllowsUnentitled),
/* harmony export */   "pageRequiresAuthentication": () => (/* binding */ pageRequiresAuthentication),
/* harmony export */   "trustarcScriptSetup": () => (/* binding */ trustarcScriptSetup),
/* harmony export */   "updateDocumentTitle": () => (/* binding */ updateDocumentTitle)
/* harmony export */ });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);



const DEFAULT_SSO_ROUTES = {
    prod: {
        url: ['access.redhat.com', 'prod.foo.redhat.com', 'cloud.redhat.com', 'console.redhat.com'],
        sso: 'https://sso.redhat.com/auth',
        portal: 'https://access.redhat.com',
    },
    qa: {
        url: ['qa.foo.redhat.com', 'qa.cloud.redhat.com', 'qa.console.redhat.com'],
        sso: 'https://sso.qa.redhat.com/auth',
        portal: 'https://access.qa.redhat.com',
    },
    ci: {
        url: ['ci.foo.redhat.com', 'ci.cloud.redhat.com', 'ci.console.redhat.com'],
        sso: 'https://sso.qa.redhat.com/auth',
        portal: 'https://access.qa.redhat.com',
    },
    qaprodauth: {
        url: ['qaprodauth.foo.redhat.com', 'qaprodauth.cloud.redhat.com', 'qaprodauth.console.redhat.com'],
        sso: 'https://sso.redhat.com/auth',
        portal: 'https://access.redhat.com',
    },
    stage: {
        url: ['stage.foo.redhat.com', 'cloud.stage.redhat.com', 'console.stage.redhat.com', 'fetest.stage.redhat.com'],
        sso: 'https://sso.stage.redhat.com/auth',
        portal: 'https://access.stage.redhat.com',
    },
    gov: {
        url: ['gov.cloud.redhat.com', 'gov.console.redhat.com'],
        sso: 'https://sso.redhat.com/auth',
        portal: 'https://access.redhat.com',
    },
    govStage: {
        url: ['ephem.outsrights.cc', 'ephem.outsrights.cc'],
        sso: 'https://stage-gov-console.auth.us-east-1.amazoncognito.com/login?client_id=6c7ba7mlnnv9db9ijqj73a1vpg&response_type=code&scope=openid&redirect_uri=https%3A%2F%2Fephem.outsrights.cc%2Fbeta%2Fapps%2Fchrome%2Findex.html',
        portal: 'https://ephem.outsrights.cc/beta/apps/chrome/index.html',
    },
    dev: {
        url: ['dev.foo.redhat.com', 'console.dev.redhat.com'],
        sso: 'https://sso.redhat.com/auth',
        portal: 'https://access.redhat.com',
    },
};
const LOGIN_TYPE_STORAGE_KEY = '@chrome/profile-type';
function getWindow() {
    return window;
}
function isValidAccountNumber(num) {
    if (!num)
        return false;
    if (num === -1)
        return false;
    if (num === '-1')
        return false;
    return Number.isInteger(Number(num));
}
function getSection() {
    const sections = getWindow().location.pathname.split('/');
    if (sections[1] === 'beta') {
        return sections[2] || '';
    }
    return sections[1];
}
function pageAllowsUnentitled() {
    const pathname = getWindow().location.pathname;
    if (pathname === '/' ||
        pathname === '/beta' ||
        pathname === '/beta/' ||
        pathname.indexOf('/openshift') === 0 ||
        pathname.indexOf('/beta/openshift') === 0 ||
        pathname.indexOf('/security') === 0 ||
        pathname.indexOf('/beta/security') === 0 ||
        pathname.indexOf('/application-services') === 0 ||
        pathname.indexOf('/beta/application-services') === 0 ||
        pathname.indexOf('/hac') === 0 ||
        pathname.indexOf('/beta/hac') === 0 ||
        pathname.indexOf('/ansible/ansible-dashboard/trial') === 0 ||
        pathname.indexOf('/beta/ansible/ansible-dashboard/trial') === 0 ||
        // allow tenants with no account numbers: RHCLOUD-21396
        pathname.match(/\/connect\//)) {
        return true;
    }
    return false;
}
function pageRequiresAuthentication() {
    const section = getSection();
    if (section === 'insights' ||
        section === 'cost-management' ||
        section === 'apps' ||
        section === 'ansible' ||
        section === 'migrations' ||
        section === 'subscriptions' ||
        section === 'openshift' ||
        section === 'settings' ||
        section === 'user-preferences' ||
        section === 'internal' ||
        section === 'application-services') {
        return true;
    }
    return false;
}
/**
 * Creates a redux listener that watches the state on given path (e.g. chrome.appNav) and calls
 * the given function when the state on the given path changes.
 *
 * The function is called with two parameters: current state value on the path, store reference
 */
function createReduxListener(store, path, fn) {
    let previous = undefined;
    return () => {
        const state = store.getState();
        const current = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(state, path);
        if (current !== previous) {
            previous = current;
            fn(current, store);
        }
    };
}
function deleteLocalStorageItems(keys) {
    keys.map((key) => localStorage.removeItem(key));
}
function lastActive(searchString, fallback) {
    return Object.keys(localStorage).reduce((acc, curr) => {
        if (curr.includes(searchString)) {
            try {
                let accDate;
                try {
                    const localStorageDate = localStorage.getItem(acc);
                    accDate = localStorageDate ? new Date(JSON.parse(localStorageDate)?.expires) : new Date();
                }
                catch {
                    accDate = new Date();
                }
                const currObj = JSON.parse(localStorage.getItem(curr) || '');
                return accDate >= new Date(currObj.expires) ? acc : curr;
            }
            catch (e) {
                return acc;
            }
        }
        return acc;
    }, fallback);
}
const isAnsible = (sections) => (sections.includes('ansible') && sections.includes('insights') ? 1 : 0);
function getUrl(type) {
    if (window.location.pathname === '/beta/' || window.location.pathname === '/') {
        return 'landing';
    }
    const sections = window.location.pathname.split('/');
    if (sections[1] === 'beta') {
        return type === 'bundle' ? sections[2] : sections[3 + isAnsible(sections)];
    }
    return type === 'bundle' ? sections[1] : sections[2 + isAnsible(sections)];
}
function getEnv() {
    return Object.entries(DEFAULT_SSO_ROUTES).find(([, { url }]) => url.includes(location.hostname))?.[0] || 'qa';
}
function getEnvDetails() {
    return Object.entries(DEFAULT_SSO_ROUTES).find(([, { url }]) => url.includes(location.hostname))?.[1];
}
function isProd() {
    return location.host === 'cloud.redhat.com' || location.host === 'console.redhat.com' || location.host.includes('prod.foo.redhat.com');
}
function isBeta() {
    return window.location.pathname.split('/')[1] === 'beta' ? true : false;
}
function isFedRamp() {
    return getEnv() === 'outsrights';
}
function updateDocumentTitle(title, noSuffix = false) {
    const titleSuffix = '| console.redhat.com';
    if (typeof title === 'undefined') {
        return;
    }
    if (typeof title === 'string') {
        document.title = title.includes(titleSuffix) || noSuffix ? title : `${title} ${titleSuffix}`;
    }
    else {
        console.warn(`Title is not a string. Got ${typeof title} instead.`);
    }
}
const activateChild = (hrefMatch, childRoutes) => {
    let hasActiveChild = false;
    const routes = childRoutes.map((item) => {
        const active = item.href === hrefMatch;
        if (active) {
            hasActiveChild = true;
        }
        return {
            ...item,
            active,
        };
    });
    return {
        active: hasActiveChild,
        routes,
    };
};
function mutateSchema(hrefMatch, navItems) {
    return navItems.map((item) => {
        const { href, routes, navItems } = item;
        if (!href && navItems) {
            return {
                ...item,
                navItems: mutateSchema(hrefMatch, navItems),
            };
        }
        if (!href && routes) {
            return {
                ...item,
                ...activateChild(hrefMatch, routes),
            };
        }
        if (href) {
            return {
                ...item,
                active: item.href === hrefMatch,
            };
        }
        return item;
    });
}
const highlightItems = (pathname, navItems, sortedLinks) => {
    const cleanPathname = pathname.replace(/\/$/, '');
    const segmentsCount = cleanPathname.split('/').length + 1;
    const matchedLink = sortedLinks.find((href) => {
        const segmentedHref = href.replace(/\/$/, '').split('/').slice(0, segmentsCount).join('/');
        return cleanPathname.includes(segmentedHref);
    });
    return mutateSchema(matchedLink?.replace(/\/$/, '') || '', navItems);
};
const levelArray = (navItems) => {
    return lodash_flatMap__WEBPACK_IMPORTED_MODULE_1___default()(navItems, ({ href, routes, navItems }) => {
        if (!href && navItems) {
            return levelArray(navItems);
        }
        if (!href && routes) {
            return levelArray(routes);
        }
        if (href) {
            return [href];
        }
        return [];
    });
};
// eslint-disable-next-line @typescript-eslint/no-empty-function
function noop() { }
const trustarcScriptSetup = () => {
    const trustarcScript = document.createElement('script');
    trustarcScript.id = 'trustarc';
    if (location.host === 'console.redhat.com') {
        trustarcScript.src = '//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js';
    }
    else {
        trustarcScript.src = '//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.stage.js';
    }
    document.body.appendChild(trustarcScript);
};
const loadFedModules = () => axios__WEBPACK_IMPORTED_MODULE_2___default().get(`${window.location.origin}${isBeta() ? '/beta' : ''}/config/chrome/fed-modules.json?ts=${Date.now()}`, {
    headers: {
        'Cache-Control': 'no-cache',
        Pragma: 'no-cache',
        Expires: '0',
    },
});
const generateRoutesList = (modules) => Object.entries(modules)
    .reduce((acc, [scope, { dynamic, manifestLocation, isFedramp, modules = [] }]) => [
    ...acc,
    ...modules
        .map(({ module, routes }) => 
    /**Clean up this map function */
    routes.map((route) => ({
        scope,
        module,
        isFedramp: typeof route === 'string' ? isFedramp : route.isFedramp,
        path: typeof route === 'string' ? route : route.pathname,
        manifestLocation,
        dynamic: typeof dynamic === 'boolean' ? dynamic : typeof route === 'string' ? true : route.dynamic,
        exact: typeof route === 'string' ? false : route.exact,
    })))
        .flat(),
], [])
    .sort((a, b) => (a.path.length < b.path.length ? 1 : -1));
const isGlobalFilterAllowed = () => {
    if (getUrl('bundle') === 'insights') {
        return true;
    }
    return getUrl('bundle') === 'ansible' && ['inventory', 'drift', 'advisor'].includes(getUrl('app'));
};


/***/ }),

/***/ "./src/utils/consts.ts":
/*!*****************************!*\
  !*** ./src/utils/consts.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ACCOUNT_REQUEST_TIMEOUT": () => (/* binding */ ACCOUNT_REQUEST_TIMEOUT),
/* harmony export */   "ACTIVE_ACCOUNT_SWITCH_NOTIFICATION": () => (/* binding */ ACTIVE_ACCOUNT_SWITCH_NOTIFICATION),
/* harmony export */   "ACTIVE_REMOTE_REQUEST": () => (/* binding */ ACTIVE_REMOTE_REQUEST),
/* harmony export */   "CROSS_ACCESS_ACCOUNT_NUMBER": () => (/* binding */ CROSS_ACCESS_ACCOUNT_NUMBER),
/* harmony export */   "CROSS_ACCESS_ORG_ID": () => (/* binding */ CROSS_ACCESS_ORG_ID),
/* harmony export */   "GLOBAL_FILTER_KEY": () => (/* binding */ GLOBAL_FILTER_KEY),
/* harmony export */   "HYDRA_ENDPOINT": () => (/* binding */ HYDRA_ENDPOINT),
/* harmony export */   "OFFLINE_REDIRECT_STORAGE_KEY": () => (/* binding */ OFFLINE_REDIRECT_STORAGE_KEY),
/* harmony export */   "PUBLIC_EVENTS": () => (/* binding */ PUBLIC_EVENTS),
/* harmony export */   "REQUESTS_COUNT": () => (/* binding */ REQUESTS_COUNT),
/* harmony export */   "REQUESTS_DATA": () => (/* binding */ REQUESTS_DATA),
/* harmony export */   "activationRequestURLs": () => (/* binding */ activationRequestURLs),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "defaultAuthOptions": () => (/* binding */ defaultAuthOptions),
/* harmony export */   "isVisible": () => (/* binding */ isVisible),
/* harmony export */   "noAuthParam": () => (/* binding */ noAuthParam),
/* harmony export */   "offlineToken": () => (/* binding */ offlineToken),
/* harmony export */   "visibilityFunctions": () => (/* binding */ visibilityFunctions)
/* harmony export */ });
/* harmony import */ var _redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @redhat-cloud-services/frontend-components-utilities/interceptors */ "./node_modules/@redhat-cloud-services/frontend-components-utilities/esm/interceptors/interceptors.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");
/* harmony import */ var _components_FeatureFlags_FeatureFlagsProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/FeatureFlags/FeatureFlagsProvider */ "./src/components/FeatureFlags/FeatureFlagsProvider.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");
/* harmony import */ var _redux_action_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/action-types */ "./src/redux/action-types.ts");







const noAuthParam = 'noauth';
const offlineToken = '2402500adeacc30eb5c5a8a5e2e0ec1f';
const GLOBAL_FILTER_KEY = 'chrome:global-filter';
const HYDRA_ENDPOINT = '/hydra/rest/se/sessions';
/**
 * Keys for storing acess reqeusts data
 */
const REQUESTS_COUNT = 'chrome:cross-account-requests:pending:count';
const REQUESTS_DATA = 'chrome:cross-account-requests:pending:data';
const ACTIVE_ACCOUNT_SWITCH_NOTIFICATION = 'chrome:cross-account-requests:active-notification';
const ACCOUNT_REQUEST_TIMEOUT = 'chrome:cross-account-requests:request-timeout';
const CROSS_ACCESS_ACCOUNT_NUMBER = 'cross_access_account_number';
const ACTIVE_REMOTE_REQUEST = 'chrome/active-remote-request';
const CROSS_ACCESS_ORG_ID = 'cross_access_org_id';
const obj = {
    noAuthParam,
    offlineToken,
};
const matcherMapper = {
    isEmpty: (lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()),
    isNotEmpty: (value) => !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()(value),
};
const matchValue = (value, matcher) => {
    const match = matcherMapper[matcher];
    return typeof match === 'function' ? match(value) : value;
};
/**
 * Check if is permitted to see navigation link
 * @param {array} permissions array checked user permissions
 * @param {every|some} require type of permissions requirement
 * @returns {boolean}
 */
const checkPermissions = async (permissions = [], require = 'every') => {
    const userPermissions = await window.insights.chrome.getUserPermissions();
    return userPermissions && permissions[require]((item) => userPermissions.find(({ permission }) => permission === item));
};
const visibilityFunctions = {
    isOrgAdmin: async () => {
        const data = await window.insights.chrome.auth.getUser();
        try {
            return !!data?.identity.user?.is_org_admin;
        }
        catch {
            return false;
        }
    },
    isActive: async () => {
        const data = await window.insights.chrome.auth.getUser();
        try {
            return !!data?.identity.user?.is_active;
        }
        catch {
            return false;
        }
    },
    isInternal: async () => {
        const data = await window.insights.chrome.auth.getUser();
        try {
            return !!data?.identity.user?.is_internal;
        }
        catch {
            return false;
        }
    },
    isEntitled: async (appName) => {
        const data = await window.insights.chrome.auth.getUser();
        const { entitlements } = data || { entitlements: {} };
        return data?.entitlements && appName
            ? Boolean(entitlements[appName] && entitlements[appName].is_entitled)
            : // eslint-disable-next-line camelcase
                Object.entries(entitlements || {}).reduce((acc, [key, { is_entitled }]) => ({ ...acc, [key]: is_entitled }), {});
    },
    isProd: () => (0,_common__WEBPACK_IMPORTED_MODULE_4__.isProd)(),
    isBeta: () => (0,_common__WEBPACK_IMPORTED_MODULE_4__.isBeta)(),
    isHidden: () => true,
    withEmail: async (...toHave) => {
        const data = await window.insights.chrome.auth.getUser();
        const { identity: { user }, } = data || { identity: {} };
        return toHave?.some((item) => user?.email?.includes(item));
    },
    loosePermissions: (permissions) => checkPermissions(permissions, 'some'),
    hasPermissions: checkPermissions,
    hasLocalStorage: (key, value) => localStorage.get(key) === value,
    hasCookie: (cookieKey, cookieValue) => js_cookie__WEBPACK_IMPORTED_MODULE_2__["default"].get(cookieKey) === cookieValue,
    apiRequest: async ({ url, method = 'GET', accessor, matcher, ...options }) => {
        const data = await window.insights.chrome.auth.getUser();
        // this will log a bunch of 403s if the account number isn't present
        if (data?.identity.account_number) {
            return (0,_redhat_cloud_services_frontend_components_utilities_interceptors__WEBPACK_IMPORTED_MODULE_6__["default"])({
                url,
                method,
                ...options,
            })
                .then((response) => matchValue(accessor ? lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(response || {}, accessor) : response, matcher))
                .catch(() => {
                console.log('Unable to retrieve visibility result', { visibilityMethod: 'apiRequest', method, url });
                return false;
            });
        }
        else {
            console.log('Unable to call API, no account number');
            return false;
        }
    },
    featureFlag: (flagName, expectedValue) => (0,_components_FeatureFlags_FeatureFlagsProvider__WEBPACK_IMPORTED_MODULE_3__.getFeatureFlagsError)() !== true && _components_FeatureFlags_FeatureFlagsProvider__WEBPACK_IMPORTED_MODULE_3__.unleashClient?.isEnabled(flagName) === expectedValue,
};
const isVisible = (limitedApps, app, visibility) => {
    if (limitedApps && app && limitedApps.includes(app)) {
        if (visibility instanceof Object) {
            return Boolean(visibility[app]);
        }
        return visibility;
    }
    return true;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Object.freeze(obj));
const activationRequestURLs = [
    'azure-openshift-activation',
    'azure-ocp-activation',
    'azure-oke-activation',
    'azure-opp-activation',
    'azure-ansible-activation',
    'aws-openshift-activation',
    'aws-ocp-activation',
    'aws-oke-activation',
    'aws-opp-activation',
    'gcp-opp-activation',
    'gcp-oke-activation',
    'gcp-ocp-activation',
    'gcp-rhaap2-activation',
    'gcp-rhaap2-ext100-activation',
    'gcp-rhaap2-ext200-activation',
    'gcp-rhaap2-ext400-activation',
];
// Global Defaults
const defaultAuthOptions = {
    realm: 'redhat-external',
    clientId: 'cloud-services',
    cookieName: 'cs_jwt',
};
const OFFLINE_REDIRECT_STORAGE_KEY = 'chrome.offline.redirectUri';
const PUBLIC_EVENTS = {
    APP_NAVIGATION: [
        (callback) => {
            const appNavListener = {
                on: _redux_action_types__WEBPACK_IMPORTED_MODULE_5__.APP_NAV_CLICK,
                callback: ({ data }) => {
                    if (data.id !== undefined || data.event) {
                        callback({ navId: data.id, domEvent: data.event });
                    }
                },
            };
            return appNavListener;
        },
    ],
    NAVIGATION_TOGGLE: [
        (callback) => {
            console.error('NAVIGATION_TOGGLE event is deprecated and will be removed in future versions of chrome.');
            return {
                on: 'NAVIGATION_TOGGLE',
                callback,
            };
        },
    ],
    GLOBAL_FILTER_UPDATE: [
        (callback) => ({
            on: _redux_action_types__WEBPACK_IMPORTED_MODULE_5__.GLOBAL_FILTER_UPDATE,
            callback,
        }),
        'globalFilter.selectedTags',
    ],
};


/***/ }),

/***/ "./src/utils/createCase.ts":
/*!*********************************!*\
  !*** ./src/utils/createCase.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSupportCase": () => (/* binding */ createSupportCase)
/* harmony export */ });
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/core/esm/exports.js");
/* harmony import */ var _jwt_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwt/logger */ "./src/jwt/logger.ts");
/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! urijs */ "./node_modules/urijs/src/URI.js");
/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(urijs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");
/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./consts */ "./src/utils/consts.ts");
/* harmony import */ var _redux_redux_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/redux-config */ "./src/redux/redux-config.ts");



const log = (0,_jwt_logger__WEBPACK_IMPORTED_MODULE_0__["default"])('createCase.js');



// Lit of products that are bundles
const BUNDLE_PRODUCTS = [
    { id: 'openshift', name: 'Red Hat OpenShift Cluster Manager' },
    { id: 'insights', name: 'Red Hat Insights' },
    { id: 'subscriptions', name: 'Subscription Watch' },
    { id: 'migrations', name: 'Migration Analytics' },
    { id: 'cost-management', name: 'Red Hat Cost Management' },
];
// List of products that are individual apps
const APP_PRODUCTS = [
    { id: 'automation-hub', name: 'Ansible Automation Hub' },
    { id: 'automation-analytics', name: 'Ansible Automation Analytics' },
];
function getLocation() {
    const currentLocation = {
        bundle: (0,_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)('bundle'),
        app: (0,_common__WEBPACK_IMPORTED_MODULE_2__.getUrl)('app'),
    };
    return currentLocation;
}
function registerProduct() {
    const currentLocation = getLocation();
    const product = BUNDLE_PRODUCTS.find((bundle) => bundle.id === currentLocation.bundle) || APP_PRODUCTS.find((app) => app.id === currentLocation.app);
    return product?.name;
}
async function getAppInfo(activeModule) {
    let path = `${window.location.origin}${(0,_common__WEBPACK_IMPORTED_MODULE_2__.isBeta)() ? '/beta/' : '/'}apps/${activeModule}/app.info.json`;
    try {
        return activeModule && (await (await fetch(path)).json());
    }
    catch (error) {
        /**
         * Some apps in camel case should use kebab-case instead.
         * Transformation co camel case is requried by webpack remote moduled name requirements.
         * If we don't find the app info with camel case app id we try using kebab-case
         */
        path = `${window.location.origin}${(0,_common__WEBPACK_IMPORTED_MODULE_2__.isBeta)() ? '/beta/' : '/'}apps/${activeModule.replace(/[A-Z]/g, '-$&').toLowerCase()}/app.info.json`;
        try {
            return activeModule && (await (await fetch(path)).json());
        }
        catch (error) {
            return undefined;
        }
    }
}
async function getProductData() {
    const { store } = (0,_redux_redux_config__WEBPACK_IMPORTED_MODULE_4__.spinUpStore)();
    const activeModule = store.getState().chrome.activeModule || '';
    const appData = await getAppInfo(activeModule);
    return appData;
}
async function createSupportCase(userInfo, libjwt, fields) {
    const currentProduct = registerProduct() || 'Other';
    const { src_hash, app_name } = await getProductData();
    const portalUrl = `${(0,_common__WEBPACK_IMPORTED_MODULE_2__.getEnvDetails)()?.portal}`;
    const caseUrl = `${portalUrl}${_consts__WEBPACK_IMPORTED_MODULE_3__.HYDRA_ENDPOINT}`;
    log('Creating a support case');
    const token = await libjwt.initPromise.then(() => libjwt.jwt.getUserInfo().then(() => libjwt.jwt.getEncodedToken()));
    fetch(caseUrl, {
        method: 'POST',
        headers: {
            Accept: 'application/json',
            Authorization: `Bearer ${token}`,
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            session: {
                createdBy: `${userInfo.user?.username}`,
                userAgent: 'console.redhat.com',
            },
            sessionDetails: {
                createdBy: `${userInfo.user?.username}`,
                environment: `Production${window.insights.chrome.isBeta() ? ' Beta' : ''}, ${src_hash
                    ? `Current app: ${app_name}, Current app hash: ${src_hash}, Current URL: ${window.location.href}`
                    : `Unknown app, filed on ${window.location.href}`}`,
                ...(currentProduct && { product: currentProduct }),
                ...fields?.caseFields,
            },
        }),
    })
        .then((response) => response.json())
        .then((data) => {
        if (data) {
            const query = urijs__WEBPACK_IMPORTED_MODULE_1___default()(`?seSessionId=${data.session.id}&product=${data.sessionDetails.product}&version=${src_hash}`).normalize();
            window.open(`${portalUrl}/support/cases/#/case/new/open-case/describe-issue${query.readable()}`);
            return createSupportSentry(data.session.id, fields);
        }
    })
        .catch((err) => _sentry_react__WEBPACK_IMPORTED_MODULE_5__.captureException(err));
}
function createSupportSentry(session, fields) {
    if ((0,_common__WEBPACK_IMPORTED_MODULE_2__.isProd)()) {
        log('Capturing support case information in Sentry');
        // this should capture the app information anyway, so no need to pass extra data
        _sentry_react__WEBPACK_IMPORTED_MODULE_5__.captureException(new Error('Support case created'), {
            tags: {
                caseId: session,
                ...(fields && { additionalFields: fields }),
            },
        });
    }
    else {
        log('No Sentry info captured in non prod environments');
    }
}


/***/ }),

/***/ "./src/utils/debugFunctions.ts":
/*!*************************************!*\
  !*** ./src/utils/debugFunctions.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const functionBuilder = (key, value) => {
    window.localStorage && window.localStorage.setItem(key, value.toString());
    return () => window.localStorage && window.localStorage.removeItem(key);
};
const debugFunctions = {
    iqe: () => functionBuilder('iqe:chrome:init', true),
    remediationsDebug: () => functionBuilder('remediations:debug', true),
    invTags: () => functionBuilder('rhcs-tags', true),
    shortSession: () => functionBuilder('chrome:jwt:shortSession', true),
    jwtDebug: () => functionBuilder('chrome:jwt:debug', true),
    reduxDebug: () => functionBuilder('chrome:redux:debug', true),
    forcePendo: () => functionBuilder('forcePendo', true),
    disableSegment: () => functionBuilder('chrome:analytics:disable', true),
    allDetails: () => functionBuilder('chrome:inventory:experimental_detail', true),
    inventoryDrawer: () => functionBuilder('chrome:inventory:experimental_drawer', true),
    globalFilter: () => functionBuilder('chrome:experimental:global-filter', true),
    appFilter: () => functionBuilder('chrome:experimental:app-filter', true),
    contextSwitcher: () => functionBuilder('chrome:experimental:context-switcher', true),
    quickstartsDebug: () => functionBuilder('chrome:experimental:quickstarts', true),
    darkMode: () => functionBuilder('chrome:darkmode', true),
    segmentDev: () => functionBuilder('chrome:analytics:dev', true),
    intlDebug: () => functionBuilder('chrome:intl:debug', true),
    sentryDebug: () => functionBuilder('chrome:sentry:debug', true),
    platformSearch: () => functionBuilder('chrome:experimental:search', true),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (debugFunctions);


/***/ }),

/***/ "./src/utils/historyListener.ts":
/*!**************************************!*\
  !*** ./src/utils/historyListener.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Maximum SPA application switches
 */
const SWITCHES_LIMIT = 20;
let contextSwitches = 0;
let prevApp = '';
const historyListener = ({ location, action }) => {
    const app = location.pathname.split('/').filter((s) => s.length > 0)[1];
    /**
     * If the browser hist the reload limit, force the browser refresh for current URL
     */
    if (contextSwitches === SWITCHES_LIMIT) {
        window.location.reload();
    }
    /**
     * Update app switches data
     */
    if (action === 'PUSH' && prevApp !== app) {
        prevApp = app;
        contextSwitches += 1;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (historyListener);


/***/ }),

/***/ "./src/utils/iqeEnablement.ts":
/*!************************************!*\
  !*** ./src/utils/iqeEnablement.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../auth */ "./src/auth/index.ts");
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var _responseInterceptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responseInterceptors */ "./src/utils/responseInterceptors.ts");



// TODO: Refactor this file to use modern JS
let xhrResults = [];
let fetchResults = {};
const DENINED_CROSS_CHECK = 'Access denied from RBAC on cross-access check';
const checkOrigin = (path = '') => {
    if (path.constructor.name === 'URL') {
        return path.origin === location.origin;
    }
    else if (path.constructor.name === 'Request') {
        return path.url.includes(location.origin);
    }
    else if (path.constructor.name === 'String') {
        return path.includes(location.origin) || !path.startsWith('http');
    }
    return true;
};
function init(store, libJwt) {
    const open = window.XMLHttpRequest.prototype.open;
    const send = window.XMLHttpRequest.prototype.send;
    const oldFetch = window.fetch;
    fetchResults = {};
    const iqeEnabled = window.localStorage && window.localStorage.getItem('iqe:chrome:init') === 'true';
    if (iqeEnabled) {
        console.log('[iqe] initialized'); // eslint-disable-line no-console
    }
    // must use function here because arrows dont "this" like functions
    window.XMLHttpRequest.prototype.open = function openReplacement(_method, url) {
        // @ts-ignore
        this._url = url;
        // @ts-ignore
        const req = open.apply(this, arguments);
        return req;
    };
    // must use function here because arrows dont "this" like functions
    window.XMLHttpRequest.prototype.send = function sendReplacement() {
        if (checkOrigin(this._url) && libJwt?.()?.jwt.isAuthenticated()) {
            // There is potentially a problem if app sets its own Auth header
            this.setRequestHeader('Authorization', `Bearer ${libJwt?.()?.jwt.getEncodedToken()}`);
        }
        // eslint-disable-line func-names
        if (iqeEnabled) {
            xhrResults.push(this);
        }
        this.onload = function () {
            if (this.status >= 400) {
                const gatewayError = (0,_responseInterceptors__WEBPACK_IMPORTED_MODULE_2__.get3scaleError)(this.response);
                if (this.status === 403 && this.responseText.includes(DENINED_CROSS_CHECK)) {
                    (0,_auth__WEBPACK_IMPORTED_MODULE_0__.crossAccountBouncer)();
                    // check for 3scale error
                }
                else if (gatewayError) {
                    store.dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_1__.setGatewayError)(gatewayError));
                }
            }
        };
        // @ts-ignore
        return send.apply(this, arguments);
    };
    /**
     * Check response errors for cross_account requests.
     * If we get error response with specific cross account error message, we kick the user out of the corss account session.
     */
    window.fetch = function fetchReplacement(path = '', options, ...rest) {
        const tid = Math.random().toString(36);
        const prom = oldFetch.apply(this, [
            path,
            {
                ...(options || {}),
                headers: {
                    // If app wants to set its own Auth header it can do so
                    ...(checkOrigin(path) && libJwt?.()?.jwt.isAuthenticated() && { Authorization: `Bearer ${libJwt?.()?.jwt.getEncodedToken()}` }),
                    ...((options && options.headers) || {}),
                },
            },
            ...rest,
        ]);
        if (iqeEnabled) {
            fetchResults[tid] = arguments[0];
            prom
                .then(function () {
                delete fetchResults[tid];
            })
                .catch(function (err) {
                delete fetchResults[tid];
                throw err;
            });
        }
        return prom
            .then(async (res) => {
            const resCloned = res.clone();
            if (!res.ok) {
                try {
                    const isJson = resCloned?.headers?.get('content-type')?.includes('application/json');
                    const data = isJson ? await resCloned.json() : await resCloned.text();
                    const gatewayError = (0,_responseInterceptors__WEBPACK_IMPORTED_MODULE_2__.get3scaleError)(data);
                    if (gatewayError) {
                        store.dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_1__.setGatewayError)(gatewayError));
                    }
                    return res;
                }
                catch (error) {
                    console.error('unable to check unauthotized response', error);
                    return res;
                }
            }
            return res;
        })
            .catch((err) => {
            console.log(err);
            throw err;
        });
    };
}
const qe = {
    init,
    hasPendingAjax: () => {
        const xhrRemoved = xhrResults.filter((result) => result.readyState === 4 || result.readyState === 0);
        xhrResults = xhrResults.filter((result) => result.readyState !== 4 && result.readyState !== 0);
        // @ts-ignore
        xhrRemoved.map((e) => console.log(`[iqe] xhr complete:   ${e._url}`));
        // @ts-ignore
        xhrResults.map((e) => console.log(`[iqe] xhr incomplete: ${e._url}`));
        Object.values(fetchResults).map((e) => console.log(`[iqe] fetch incomplete: ${e}`));
        return xhrResults.length > 0 || Object.values(fetchResults).length > 0;
    },
    isPageSafe: () => document.querySelectorAll('[data-ouia-safe=false]').length === 0,
    xhrResults: () => {
        return xhrResults;
    },
    fetchResults: () => {
        return fetchResults;
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (qe);


/***/ }),

/***/ "./src/utils/isAnsibleTrialFlagActive.ts":
/*!***********************************************!*\
  !*** ./src/utils/isAnsibleTrialFlagActive.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ANSIBLE_TRIAL_FLAG": () => (/* binding */ ANSIBLE_TRIAL_FLAG),
/* harmony export */   "clearAnsibleTrialFlag": () => (/* binding */ clearAnsibleTrialFlag),
/* harmony export */   "isAnsibleTrialFlagActive": () => (/* binding */ isAnsibleTrialFlagActive),
/* harmony export */   "setAnsibleTrialFlag": () => (/* binding */ setAnsibleTrialFlag)
/* harmony export */ });
/* harmony import */ var _jwt_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwt/logger */ "./src/jwt/logger.ts");

const ANSIBLE_TRIAL_FLAG = 'chrome.ansible.trial';
const TRIAL_DURATION = 10 * 60 * 1000; // 10 minutes
const log = (0,_jwt_logger__WEBPACK_IMPORTED_MODULE_0__["default"])('Ansible trial invalidation');
const isAnsibleTrialFlagActive = () => {
    let expiration = localStorage.getItem(ANSIBLE_TRIAL_FLAG);
    if (expiration) {
        try {
            expiration = parseInt(expiration);
            if (isNaN(expiration)) {
                // expiration is not a valid number
                return false;
            }
            return expiration + TRIAL_DURATION > Date.now();
        }
        catch (error) {
            log(`Enable to parse ansible trial flag expiration: ${error}`);
        }
    }
};
const setAnsibleTrialFlag = () => {
    localStorage.setItem(ANSIBLE_TRIAL_FLAG, Date.now().toString());
};
const clearAnsibleTrialFlag = () => {
    localStorage.removeItem(ANSIBLE_TRIAL_FLAG);
};


/***/ }),

/***/ "./src/utils/isNavItemVisible.ts":
/*!***************************************!*\
  !*** ./src/utils/isNavItemVisible.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "evaluateVisibility": () => (/* binding */ evaluateVisibility),
/* harmony export */   "isNavItemVisible": () => (/* binding */ isNavItemVisible)
/* harmony export */ });
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./consts */ "./src/utils/consts.ts");


const visibilityHandler = async ({ method, args }) => {
    // (null, undefined, true) !== false
    return (await _consts__WEBPACK_IMPORTED_MODULE_1__.visibilityFunctions[method]?.(...(args || []))) !== false;
};
const isNavItemVisible = (permissions) => Promise.all(lodash_flatMap__WEBPACK_IMPORTED_MODULE_0___default()(Array.isArray(permissions) ? permissions : [permissions], visibilityHandler)).then((visibility) => visibility.every(Boolean));
const evaluateVisibility = async (navItem) => {
    /**
     * Skip evaluation for hidden items
     */
    if (navItem.isHidden === true) {
        return navItem;
    }
    const result = {
        ...navItem,
        isHidden: false,
    };
    if (typeof result.permissions !== 'undefined') {
        const visible = await isNavItemVisible(result.permissions);
        /**
         * Hide item visibility check failed
         */
        if (!visible) {
            return {
                ...result,
                isHidden: true,
            };
        }
    }
    if (typeof result.groupId !== 'undefined') {
        /**
         * Evalute group items
         */
        result.navItems = await Promise.all(result.navItems.map(evaluateVisibility));
    }
    if (result.expandable === true) {
        /**
         * Evaluate sub routes
         */
        result.routes = await Promise.all(result.routes.map(evaluateVisibility));
    }
    return result;
};


/***/ }),

/***/ "./src/utils/loading-fallback.tsx":
/*!****************************************!*\
  !*** ./src/utils/loading-fallback.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-core */ "webpack/sharing/consume/default/@patternfly/react-core/@patternfly/react-core");
/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);


/**
 * This fallback has to be a react node not a component.
 * Node will be persistent when switching parent component and won't reset its instance and animation
 */
const LoadingFallback = (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Bullseye, { className: "pf-u-p-xl" },
    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner, { "data-ouia-component-id": "remote-module-loader", size: "xl" })));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoadingFallback);


/***/ }),

/***/ "./src/utils/responseInterceptors.ts":
/*!*******************************************!*\
  !*** ./src/utils/responseInterceptors.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "COMPLIACE_ERROR_CODES": () => (/* binding */ COMPLIACE_ERROR_CODES),
/* harmony export */   "get3scaleError": () => (/* binding */ get3scaleError)
/* harmony export */ });
const COMPLIACE_ERROR_CODES = ['ERROR_OFAC', 'ERROR_T5', 'ERROR_EXPORT_CONTROL'];
const errorCodeRegexp = new RegExp(`(${COMPLIACE_ERROR_CODES.join('|')})`);
function get3scaleError(response) {
    // attempt to parse XHR response
    let parsedResponse;
    try {
        // the compliance error can be also in a simple string format. We have to parse it and shape it as a gateway error.
        if (typeof response === 'string' && isComplianceError(response)) {
            const parsedResponse = {
                status: 403,
                detail: response,
                complianceError: true,
                meta: {
                    response_by: 'gateway',
                },
            };
            return parsedResponse;
        }
        parsedResponse = typeof response === 'string' ? JSON.parse(response).errors : response.errors;
        if (typeof parsedResponse === 'undefined') {
            return;
        }
    }
    catch {
        // silently handle JSON parse error. Response is not a valid JSON and does not include any valid errors
        return;
    }
    // check if one of the error messages has gateway flag
    const result = parsedResponse.find(({ status, meta }) => (status === 401 || status === 403) && meta?.response_by === 'gateway');
    if (result) {
        // in case the gateway sends compliance error as a error detail
        result.complianceError = isComplianceError(result.detail);
    }
    return result;
}
function isComplianceError(response = '') {
    return !!response.match(errorCodeRegexp);
}


/***/ }),

/***/ "./src/utils/sentry.ts":
/*!*****************************!*\
  !*** ./src/utils/sentry.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/react/esm/sdk.js");
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/replay/esm/integration.js");
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/react */ "./node_modules/@sentry/core/esm/exports.js");
/* harmony import */ var _sentry_tracing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/tracing */ "./node_modules/@sentry/tracing/esm/index.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");



function getAppDetails() {
    const pathName = window.location.pathname.split('/');
    let appGroup;
    let appName;
    let betaCheck;
    if (pathName[1] === 'beta') {
        betaCheck = ' Beta';
        appGroup = pathName[2];
        appName = appGroup === 'landing' ? 'landing' : pathName[3];
    }
    else {
        betaCheck = '';
        appGroup = pathName[1];
        appName = appGroup === 'landing' ? 'landing' : pathName[2];
    }
    const appDetails = {
        beta: betaCheck,
        app: {
            group: appGroup,
            name: appName,
        },
    };
    return appDetails;
}
// Actually initialize sentry with the group's api key
function initSentry() {
    const appDetails = getAppDetails();
    let API_KEY;
    switch (appDetails.app.group) {
        case 'insights':
            API_KEY = 'https://8b6372cad9604745ae3606bc4adc0060@o271843.ingest.sentry.io/1484024';
            break;
        case 'landing':
            API_KEY = 'https://d12a17c4a80b43888b30c306d7eb38b4@o271843.ingest.sentry.io/1484026';
            break;
        case 'ansible':
            API_KEY = 'https://03f062e075954433a296e71f243239fd@o271843.ingest.sentry.io/1769648';
            break;
        case 'settings':
            API_KEY = 'https://1002f82b7a444d48bc4c98d0b52f2155@o271843.ingest.sentry.io/5216681';
            break;
        case 'cost-management':
            API_KEY = 'https://61d5da651248485fb89216773932666b@o271843.ingest.sentry.io/5216676';
            break;
        case 'migrations':
            API_KEY = 'https://9dd048c85e524290b67ad98ff96c53ae@o271843.ingest.sentry.io/5216677';
            break;
        case 'subscriptions':
            API_KEY = 'https://4bbe4ac7e9fa4507803de69f9453ce5d@o271843.ingest.sentry.io/5216678';
            break;
        case 'user-preferences':
            API_KEY = 'https://eb32b0236ce045c9b0b9dcc7351c36bb@o271843.ingest.sentry.io/5216687';
            break;
    }
    // dsn: key
    // environment: logs Prod or Prod Beta for filtering
    // maxBreadcrumbs, if there is an error, trace back up to (x) lines if needed
    // attachStacktrace: attach the actual console logs
    // sampleRate: 0.0 to 1.0 - percentage of events to send (1.0 by default)
    // replaysOnErrorSampleRate: the sample rate for replays that are recorded when an error happens. Up to 1 minute before error, and until session stops.
    // ^ 1.0 captures all sessions with an error, and 0 captures none.
    // maskAllInputs: mask values of inpute elements before sending to server
    // maskeAllText: mask all text on the screen.
    // ignoreErrors: Sentry ignores errors containing strings or regex. Regex needs to be exact message, string is partial
    // replaysSessionSampleRate: replays that begin recording immediately and last the entirety of the user's session.
    _sentry_react__WEBPACK_IMPORTED_MODULE_2__.init({
        dsn: API_KEY,
        environment: `Prod${appDetails.beta}`,
        maxBreadcrumbs: 50,
        attachStacktrace: true,
        integrations: [new _sentry_tracing__WEBPACK_IMPORTED_MODULE_0__.BrowserTracing(), new _sentry_react__WEBPACK_IMPORTED_MODULE_3__.Replay({ maskAllText: false, maskAllInputs: true })],
        tracesSampleRate: 0.2,
        debug: !!window.localStorage.getItem('chrome:sentry:debug'),
        replaysOnErrorSampleRate: 1.0,
        replaysSessionSampleRate: 0.3,
    });
}
// Sets up the tagging in sentry. This is stuff that can be filtered.
// Any window variable needs to be declared *above* the configureScope
/* eslint-disable camelcase */
function sentryTags(user) {
    const appDetails = getAppDetails();
    const browser_width = window.innerWidth + ' px';
    // TODO: Add request_id to this when we have it
    _sentry_react__WEBPACK_IMPORTED_MODULE_4__.configureScope((scope) => {
        scope.setUser({
            id: user.identity.account_number,
            account_id: user.identity.internal?.account_id,
        });
        scope.setTags({
            app_name: appDetails.app.name,
            app_group: appDetails.app.group,
            location: 'frontend',
            browser_width: browser_width,
        });
    });
}
/* eslint-enable camelcase */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((user) => {
    // this should only be enabled for prod and prod beta
    if ((0,_common__WEBPACK_IMPORTED_MODULE_1__.isProd)()) {
        initSentry();
        sentryTags(user);
    }
    else {
        console.log('Not initalizing sentry, on a pre-prod environment');
    }
});


/***/ }),

/***/ "./src/utils/useNavigation.ts":
/*!************************************!*\
  !*** ./src/utils/useNavigation.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _redux_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/actions */ "./src/redux/actions.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");
/* harmony import */ var _isNavItemVisible__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./isNavItemVisible */ "./src/utils/isNavItemVisible.ts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @patternfly/quickstarts */ "webpack/sharing/consume/default/@patternfly/quickstarts/@patternfly/quickstarts");
/* harmony import */ var _patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @unleash/proxy-client-react */ "webpack/sharing/consume/default/@unleash/proxy-client-react/@unleash/proxy-client-react");
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__);









function cleanNavItemsHref(navItem) {
    const result = { ...navItem };
    if (typeof result.groupId !== 'undefined') {
        result.navItems = result.navItems?.map(cleanNavItemsHref);
    }
    if (result.expandable === true) {
        result.routes = result.routes?.map(cleanNavItemsHref);
    }
    if (typeof result.href === 'string') {
        /**
         * Remove traling "/" from  the link
         */
        result.href = result.href.replace(/\/$/, '');
    }
    return result;
}
const shouldPreseverQuickstartSearch = (prevSearch, activeQuickStartID) => {
    const prevParams = new URLSearchParams(prevSearch);
    return activeQuickStartID !== prevParams.get('quickstart');
};
const appendQSSearch = (currentSearch, activeQuickStartID) => {
    const search = new URLSearchParams(currentSearch);
    search.set('quickstart', activeQuickStartID);
    return search.toString();
};
const useNavigation = () => {
    const { flagsReady, flagsError } = (0,_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_8__.useFlagsStatus)();
    const isBetaEnv = (0,_common__WEBPACK_IMPORTED_MODULE_5__.isBeta)();
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useLocation)();
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useNavigate)();
    const { pathname } = location;
    const { activeQuickStartID } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_patternfly_quickstarts__WEBPACK_IMPORTED_MODULE_7__.QuickStartContext);
    const currentNamespace = pathname.split('/')[1];
    const schema = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(({ chrome: { navigation } }) => navigation[currentNamespace]);
    const [noNav, setNoNav] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    /**
     * We need a side effect to get the value into the mutation observer closure
     */
    const activeQSId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)('');
    const activeLocation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        activeQSId.current = activeQuickStartID;
        activeLocation.current = location;
    }, [activeQuickStartID]);
    const registerLocationObserver = (initialPathname, schema) => {
        let prevPathname = initialPathname;
        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_3__.loadLeftNavSegment)(schema, currentNamespace, initialPathname));
        return new MutationObserver((mutations) => {
            mutations.forEach(() => {
                const newPathname = window.location.pathname;
                if (newPathname !== prevPathname) {
                    prevPathname = newPathname;
                    (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.batch)(() => {
                        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_3__.loadLeftNavSegment)(schema, currentNamespace, prevPathname));
                        /**
                         * Clean gateway error on URL change
                         */
                        dispatch((0,_redux_actions__WEBPACK_IMPORTED_MODULE_3__.setGatewayError)());
                    });
                }
                setTimeout(() => {
                    if (activeQSId.current && shouldPreseverQuickstartSearch(window.location.search, activeQSId.current)) {
                        navigate({
                            ...activeLocation.current,
                            pathname: newPathname.replace(/^\/beta\//, '/'),
                            search: appendQSSearch(window.location.search, activeQSId.current),
                        }, {
                            replace: true,
                        });
                    }
                });
            });
        });
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        let observer;
        // reset no nav flag
        setNoNav(false);
        if (currentNamespace && (flagsReady || flagsError)) {
            axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${window.location.origin}${isBetaEnv ? '/beta' : ''}/config/chrome/${currentNamespace}-navigation.json?ts=${Date.now()}`)
                .then(async (response) => {
                if (observer && typeof observer.disconnect === 'function') {
                    observer.disconnect();
                }
                const data = response.data;
                try {
                    const navItems = await Promise.all(data.navItems.map(cleanNavItemsHref).map(_isNavItemVisible__WEBPACK_IMPORTED_MODULE_6__.evaluateVisibility));
                    const schema = {
                        ...data,
                        navItems,
                    };
                    observer = registerLocationObserver(pathname, schema);
                    observer.observe(document.querySelector('body'), {
                        childList: true,
                        subtree: true,
                    });
                }
                catch (error) {
                    // Hide nav if an error was encountered. Can happen for non-existing navigation files.
                    setNoNav(true);
                }
            })
                .catch(() => {
                setNoNav(true);
            });
        }
        return () => {
            if (observer && typeof observer.disconnect === 'function') {
                observer.disconnect();
            }
        };
    }, [currentNamespace, flagsReady, flagsError]);
    return {
        loaded: !!schema,
        schema,
        noNav,
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useNavigation);


/***/ }),

/***/ "./src/utils/useOuiaTags.ts":
/*!**********************************!*\
  !*** ./src/utils/useOuiaTags.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");




const useOuiaTags = () => {
    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
        'data-ouia-safe': 'true',
    });
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.useLocation)();
    const { pageAction, pageObjectId, activeApp } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ chrome: { pageAction, pageObjectId, activeApp } }) => ({ pageAction, pageObjectId, activeApp }), react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setState(() => {
            const result = {
                'data-ouia-safe': 'true',
            };
            const sections = pathname.split('/');
            if (pathname === '/') {
                result.landing = 'true';
            }
            result['data-ouia-bundle'] = sections[1];
            result['data-ouia-app-id'] = sections[2 + (0,_common__WEBPACK_IMPORTED_MODULE_3__.isAnsible)(sections)];
            result['data-ouia-subnav'] = activeApp;
            if (pageObjectId) {
                result['data-ouia-page-object-id'] = pageObjectId;
            }
            if (pageAction) {
                result['data-ouia-page-type'] = pageAction;
            }
            return result;
        });
    }, [pathname, pageAction, pageObjectId, activeApp]);
    return state;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useOuiaTags);


/***/ }),

/***/ "./src/utils/useRenderFedramp.ts":
/*!***************************************!*\
  !*** ./src/utils/useRenderFedramp.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "computeFedrampResult": () => (/* binding */ computeFedrampResult),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ "./src/utils/common.ts");




const isFedrampEnv = (0,_common__WEBPACK_IMPORTED_MODULE_3__.isFedRamp)();
const computeFedrampResult = (isFedrampEnv, linkHref = '', { modules, isFedramp } = { modules: [] }) => {
    /**
     * Render everything on non-fedramp env
     */
    if (!isFedrampEnv) {
        return undefined;
    }
    /**
     * Look for module routes with fedramp flag that match the link
     */
    const configs = modules
        ?.map(({ routes }) => routes)
        .flat()
        .filter((route) => {
        if (typeof route !== 'object') {
            return false;
        }
        const match = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.matchPath)(linkHref, route.pathname);
        return match !== null;
    })
        .filter((moduleRoute) => typeof moduleRoute !== 'string' && typeof moduleRoute.isFedramp === 'boolean') || [];
    const result = configs.length > 0 ? configs.some((moduleRoute) => typeof moduleRoute !== 'string' && moduleRoute.isFedramp === true) : undefined;
    if (typeof result === 'boolean') {
        return result;
    }
    /**
     * Global module setting has the lowest priority
     */
    return isFedramp;
};
const useRenderFedramp = (appId, linkHref) => {
    const module = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(({ chrome: { modules } }) => modules && modules[appId]);
    const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => computeFedrampResult(isFedrampEnv, linkHref, module));
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setShouldRender(computeFedrampResult(isFedrampEnv, linkHref, module));
    }, [appId, linkHref]);
    return isFedrampEnv ? shouldRender : true;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useRenderFedramp);


/***/ }),

/***/ "./static/images/feedback_illo.svg":
/*!*****************************************!*\
  !*** ./static/images/feedback_illo.svg ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "4df2ca3d94d759b3.svg";

/***/ }),

/***/ "./static/images/logo.svg":
/*!********************************!*\
  !*** ./static/images/logo.svg ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "d6083bde9a964ab4.svg";

/***/ }),

/***/ "?c74b":
/*!***************************************************************************!*\
  !*** @patternfly/react-styles/css/components/Popper/Popper.css (ignored) ***!
  \***************************************************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?1a3c":
/*!*****************************!*\
  !*** ./badge.css (ignored) ***!
  \*****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?0f6c":
/*!******************************!*\
  !*** ./button.css (ignored) ***!
  \******************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?10cb":
/*!*****************************!*\
  !*** ./check.css (ignored) ***!
  \*****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?390c":
/*!*******************************!*\
  !*** ./divider.css (ignored) ***!
  \*******************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?173a":
/*!********************************!*\
  !*** ./dropdown.css (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?e94f":
/*!***********************************!*\
  !*** ./inline-edit.css (ignored) ***!
  \***********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?4a7c":
/*!*******************************!*\
  !*** ./spinner.css (ignored) ***!
  \*******************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?5b4a":
/*!**********************************!*\
  !*** ./table-grid.css (ignored) ***!
  \**********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?b8a9":
/*!****************************************!*\
  !*** ./table-scrollable.css (ignored) ***!
  \****************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?a68b":
/*!***************************************!*\
  !*** ./table-tree-view.css (ignored) ***!
  \***************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?933f":
/*!*****************************!*\
  !*** ./table.css (ignored) ***!
  \*****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?1471":
/*!*******************************!*\
  !*** ./tooltip.css (ignored) ***!
  \*******************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?fe98":
/*!**************************************!*\
  !*** ./terminal-highlight (ignored) ***!
  \**************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?2f81":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?25fb":
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?6f78":
/*!*******************************!*\
  !*** source-map-js (ignored) ***!
  \*******************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?9214":
/*!*********************!*\
  !*** url (ignored) ***!
  \*********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./src/locales/data.json":
/*!*******************************!*\
  !*** ./src/locales/data.json ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"en":{"SIDsFilter":"SIDs Filter","accessRestricted":"Access to this page is reserved for third party IDP token from users on authorized accounts.","accountNumber":"Account number:","activationDescription":"Red Hat will be in touch within 1 business day to confirm your subscription benefits are ready to be activated.","activationTitle":"Thank you for submitting your activation request","addDescription":"Add description","afterBetaUse":"After you use a feature in beta, you’ll stay in the Beta Environment until you manually exit the beta release. Leave the Beta Environment any time by clicking on the settings (gear) icon or beta icon in the top toolbar.","apiDocumentation":"API documentation","authFailure":"Authorization failure","back":"Back","betaRelease":"the beta release","bugReported":"Bug Reported","cancel":"Cancel","changesComing":"Changes are coming to cloud.redhat.com on July 29.","checkOur":"or check our","clearFilters":"Clear filters","close":"Close","demoMode":"Demo mode","describeBug":"Describe the bug you encountered. For urgent issues, open a support case instead.","describeBugUrgentCases":"Describe the bug you encountered. For urgent issues, open a support case instead.","describeReportBug":"Describe the bug you encountered. Include where it is located and what action caused it. If this issue is urgent or blocking your workflow,","directInfluence":", your feedback will directly influence the future of Red Hat’s products. Opt in below to hear about future research opportunities via email.","email":"Email","enterFeedback":"Enter your feedback","feedback":"Feedback","feedbackSent":"Feedback Sent","filterByTags":"Filter by tags","filterResults":"Filter results","filterSAPIDs":"Filter SAP IDs","filterTags":"Filter tags","findAppOrService":"Find a service","getSupport":"Get help from Red Hat support.","globalFilterNotApplicable":"Global filter is not applicable for this page","globalRuntimeErrorId":"Sentry error ID: {errorId}","helpUsImproveHCC":"Help us improve the Red Hat Hybrid Cloud Console.","home":"Home","howIsConsoleExperience":"What has your console experience been like so far?","informDirectionDescription":"By participating in feedback sessions, usability tests, and interviews with our","informRedhatDirection":"Inform the direction of Red Hat","insightsRhelDocumentation":"Insights for RHEL Documentation","internal":"Internal","internalUser":"Internal user","joinMailingList":"Join mailing list","knownOutages":"for known outages.","learnAboutResearchOpportunities":"Learn about opportunities to share your feedback with our User Research Team.","learnHowTo":"Learn how to create, import, and run applications with step-by-step instructions and tasks.","learnMore":"Learn more on our blog.","learnMoreABoutBeta":"Learn more about Beta Environment","loggedOut":"You have successfully logged out.","login":"Log in","logout":"Log out","myProfile":"My profile","myUserAccess":"My User Access","name":"Name","newRequestReview":"You have a new access request that needs your review","noInventoryPermissions":"You do not have the required inventory permissions to perform this action","noLongerHaveAccess":"You no longer have access to account {accountId}.","noMatchingAppsFound":"No matching applications or services found.","noResults":"No results","openSupportCase":"Open a support case","orgAdministrator":"Org. Administrator","permissionErrorDescription":"Contact your organization administrator(s) for more information or visit <MuaLink>My User Access</MuaLink> to learn more about your permissions.","permissionErrorDetail":"Detail: {message}.","personalAccount":"Personal account","problemProcessingRequest":"There was a problem processing the request. Try reloading the page. If the problem persists, contact","quickStarts":"Quick starts","redHatSupport":"Red Hat support","reportABug":"Report a bug","reportBug":"Report a bug","researchOpportunities":"Yes, I would like to hear about research opportunities","responseSent":"Response sent","returnToHomepage":"Return to home page","searchAccount":"Search account","segmentError":"Context used outside of its Provider!","selectTagsOrSIDs":"Select one or more tags/SAP IDs (SID)","shareFeedback":"Share feedback","shareYourFeedback":"Share your feedback with us!","showMore":"Show more","somethingWentWrong":"Something went wrong","statusPage":"Status page","stopUsing":"Stop using","submitFeedback":"Submit feedback","submitOnlyInStageProd":"Submitting feedback only works in prod and stage","supportOptions":"Support options","tagSources":"Tag sources","tagsFilter":"Tags filter","teamWillReviewBug":"We appreciate your feedback and our team will review your report shorlty","tellAboutExperience":"Tell us about your experience","thankYouForFeedback":"Thank you, we appreciate your feedback.","thankYouForInterest":"Thank you for your interest in user research. You have been added to our mailing list.","thereWillBeACatalgPage":"There will be a catalog page for {bundle} bundle","tryChangingSearch":"This filter criteria matches no applications or services. Try changing your input filter.","tryThisFeatureInBeta":"Try this feature in our Beta Environment on cloud.redhat.com/beta. The Beta Environment allows you to interact with new features in an active development space. Because beta pre-release software is still being developed, you may encounter bugs or flaws in availability, stability, data, or performance.","tryUsingDifferentAccount":"Try using different account","unableToLoadQuickstartsContent":"Unable to load the quickstarts content.","use":"Use","useAccountNumber":"Use this number when contacting Red Hat for support. If you don\'t have any active subscriptions, you will not have an account number.","useFeatureInBeta":"Use feature in beta","userPreferences":"User Preferences","userResearchTeam":"User Research Team","username":"Username:","value":"Value","viewAsCustomer":"You are now viewing console.redhat.com as a customer, and will be interacting with real customer data.","viewChanged":"View has changed","viewRequest":"View request","viewingAsAccount":"Viewing as Account {selectedAccountNumber}","weNeverSharePersonalInformation":"We never share your personal information, and you can opt out at any time."}}');

/***/ })

}]);
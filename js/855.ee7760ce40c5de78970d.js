(self.webpackChunkinsights_chrome=self.webpackChunkinsights_chrome||[]).push([[855],{87757:(e,t,n)=>{e.exports=n(35666)},77460:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p});var r,o=n(69640),i=n.n(o),a=n(94957),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};!function(e){function t(t){var n=e.call(this,"Error communicating with the server")||this;return n.description=t,n}c(t,e)}(Error);var f=i().create();f.interceptors.request.use((function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,window.insights.chrome.auth.getUser()];case 1:return t.sent(),[2,e]}}))}))})),f.interceptors.response.use((function(e){return e.data?e.data:e})),f.interceptors.response.use(void 0,(function(e){if(e.response&&401===e.response.status)return window.insights.chrome.auth.logout(),!1;throw e})),f.interceptors.response.use(void 0,(function(e){throw e.response&&e.response.status>=500&&e.response.status<600&&(0,a.e)((function(t){t.setTag("request_id",e.response.req_id)})),e})),f.interceptors.response.use(void 0,(function(e){var t,n;if(!i().isCancel(e)){var r=void 0;try{var o=s({},e);if(r=null===(n=null===(t=o.response)||void 0===t?void 0:t.headers)||void 0===n?void 0:n["x-rh-insights-request-id"],o.response&&o.response.data)throw s(s({},o.response.data),{statusText:o.response.statusText});throw e}catch(e){throw r||(e.sentryId=(0,a.Tb)(e)),e.requestId=r,e}}}));const p=f},40386:(e,t,n)=>{"use strict";n.d(t,{yb:()=>f,wr:()=>p});var r=n(96985),o=n.n(r),i=n(45697),a=n.n(i),c=n(9390),s=n.n(c),u={url:"".concat(document.location.origin,"/api/featureflags/v0"),clientKey:"proxy-123",appName:"web",headerName:"X-Unleash-Auth",refreshInterval:6e4,metrcisInterval:12e4},l="chrome:feature-flags:error";localStorage.setItem(l,!1);var f=new c.UnleashClient(u),p=function(){return"true"===localStorage.getItem(l)};f.on("error",(function(){localStorage.setItem(l,!0)}));var d=function(e){var t=e.children;return o().createElement(s(),{unleashClient:f},t)};d.propTypes={children:a().node.isRequired}},98670:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>x});var r=n(45987),o=n(4942),i=n(93324),a=n(15861),c=n(87757),s=n.n(c),u=n(77460),l=n(27361),f=n.n(l),p=n(41609),d=n.n(p),h=(n(31955),n(40386),["url","method","accessor","matcher"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,m,y,w,k,O,_={isEmpty:d(),isNotEmpty:function(e){return!d()(e)}},T=function(e,t){var n=_[t];return"function"==typeof n?n(e):e};O=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_org_admin);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),k=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_active);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),w=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.identity.user.is_internal);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[3,7]])}))),y=(0,a.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return n=e.sent,r=(n||{}).entitlements,e.abrupt("return",n.entitlements&&t?Boolean(r[t]&&r[t].is_entitled):Object.entries(r||{}).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1].is_entitled;return v(v({},e),{},(0,o.Z)({},r,a))}),{}));case 5:case"end":return e.stop()}}),e)}))),m=(0,a.Z)(s().mark((function e(){var t,n,r,o,i,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:for(t=e.sent,n=(t||{}).identity.user,r=a.length,o=new Array(r),i=0;i<r;i++)o[i]=a[i];return e.abrupt("return",null==o?void 0:o.some((function(e){var t;return null==n||null===(t=n.email)||void 0===t?void 0:t.includes(e)})));case 6:case"end":return e.stop()}}),e)}))),b=(0,a.Z)(s().mark((function e(t){var n,o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.method,i=void 0===o?"GET":o,a=t.accessor,c=t.matcher,l=(0,r.Z)(t,h),e.next=3,insights.chrome.auth.getUser();case 3:if(!e.sent.identity.account_number){e.next=8;break}return e.abrupt("return",(0,u.ZP)(v({url:n,method:i},l)).then((function(e){return T(a?f()(e||{},a):e,c)})).catch((function(){return console.log("Unable to retrieve visibility result",{visibilityMethod:"apiRequest",method:i,url:n}),!1})));case 8:return console.log("Unable to call API, no account number"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));const x=Object.freeze({noAuthParam:"noauth",offlineToken:"2402500adeacc30eb5c5a8a5e2e0ec1f"})},41665:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initChromeAuth:()=>p,default:()=>d});var r=n(4942),o=n(60200),i=n(71093),a=n(31955),c=n(11577);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="[JWT][jwt.js] Auth time";function f(){i.isAuthenticated()||(a.Z.remove(c.options.cookieName),i.login()),console.timeEnd(l)}var p=function(){console.time(l);var e=u({},c.options);(0,o.W)();var t=a.Z.get(e.cookieName),n=a.Z.get("cs_jwt_refresh");return t&&t.length>10&&n&&n.length>10&&(e.refreshToken=n,e.token=t),{initPromise:i.init(e).then(f)}};const d=function(){var e=u({},c.options);return u({getOfflineToken:function(){return(0,o.x)(e.realm,e.clientId)}},i)}},92703:(e,t,n)=>{"use strict";var r=n(50414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},71093:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=t.getEncodedToken=t.setCookieWrapper=t.setCookie=t.getCookieExpires=t.updateToken=t.expiredToken=t.isAuthenticated=t.getUserInfo=t.logoutAllTabs=t.logout=t.login=t.initError=t.initSuccess=t.isExistingValid=t.init=t.doOffline=t.decodeToken=t.GLOBAL_FILTER_KEY=void 0;var l=u(n(21472)),f=n(38437),p=u(n(10646)),d=n(35755),h=a(n(47820)),g=u(n(18579)),v=u(n(13606)),b=u(n(69083)),m=u(n(54998)),y=n(11577),w=u(n(44057));t.GLOBAL_FILTER_KEY="chrome:global-filter";var k=(0,g.default)("jwt.js"),O="cs_jwt",_=new w.default,T=new f.BroadcastChannel("auth");function x(e){switch((e=(e=(e=e.split(".")[1]).replace("/-/g","+")).replace("/_/g","/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=(e=(e+"===").slice(0,e.length+e.length%4)).replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(escape(atob(e))),JSON.parse(e)}T.onmessage=function(e){if(e&&e.data&&e.data.type)switch(k("BroadcastChannel, Received event : ".concat(e.data.type)),e.data.type){case"logout":return A();case"login":return E();case"refresh":return D()}},t.decodeToken=x;t.doOffline=function(e,t){var n=(0,m.default)(window.location.href);n.removeSearch(e),n.addSearch(e,t),Promise.resolve((0,v.default)(y.DEFAULT_ROUTES)).then((function(e){return c(void 0,void 0,void 0,(function(){var t,o;return s(this,(function(i){switch(i.label){case 0:return t=r(r({},y.options),{promiseType:"native",redirectUri:n.toString(),url:e}),[4,(o=(0,l.default)(t)).init(t)];case 1:return i.sent(),o.login({scope:"offline_access"}),[2]}}))}))}))};function j(e){k("Checking validity of existing JWT");try{if(!e)return!1;var t=x(e);if(!t.exp)return!1;var n=Date.now().toString().substr(0,10),r=t.exp-parseInt(n);return k("Token expires in ".concat(r)),r>90?(_.setTokenParsed(t),!0):(k(r>0?"token is expiring in < 90 seconds":"token is expired"),!1)}catch(e){return k(e),!1}}function S(){var e;k("JWT Initialized"),R(_.getToken()),e=_.getRefershToken(),k("Setting the refresh token"),e&&p.default.set("cs_jwt_refresh",e,{secure:!0})}function P(){k("JWT init error"),A()}function E(){return k("Logging in"),p.default.set("cs_loggedOut","false"),_.login({redirectUri:location.href})}function A(e){var n;k("Logging out"),_.clearToken();var r=null===(n=_.getCookie())||void 0===n?void 0:n.cookieName;r&&p.default.remove(r),p.default.remove("cs_demo");var o="beta"===window.location.pathname.split("/")[1]?"/beta":"",i=Object.keys(localStorage).filter((function(e){return e.endsWith("/api/entitlements/v1/services")||e.endsWith("/chrome")||e.endsWith("/chrome-store")||e.startsWith("kc-callback")||e.startsWith(t.GLOBAL_FILTER_KEY)}));if((0,d.deleteLocalStorageItems)(i),e){var a=new Date((new Date).getTime()+8e3);p.default.set("cs_loggedOut","true",{expires:a}),_.logout({redirectUri:"https://".concat(window.location.host).concat(o)})}}t.init=function(e){k("Initializing");var t=e.cookieName?e.cookieName:O;return _.setCookie({cookieName:t}),Promise.resolve((0,v.default)(e.routes?e.routes:y.DEFAULT_ROUTES)).then((function(t){e.url=t,e.clientId="cloud-services",e.realm="redhat-external",e.promiseType="native",e.onLoad="check-sso",e.checkLoginIframe=!1;var n="beta"===window.location.pathname.split("/")[1]?"/beta":"";if(e.silentCheckSsoRedirectUri="https://".concat(window.location.host).concat(n,"/apps/chrome/silent-check-sso.html"),window.localStorage&&"true"===window.localStorage.getItem("chrome:jwt:shortSession")&&(e.realm="short-session"),_.setKeycloak(e,D,I,U),e.token){if(j(e.token))return _.initializeKeycloak(e),_.setToken(e.token),Promise.resolve();delete e.token}return _.initialize(e).then(S).catch(P)}))},t.isExistingValid=j,t.initSuccess=S,t.initError=P,t.login=E,t.logout=A;function I(){T.postMessage({type:"login"})}t.logoutAllTabs=function(e){T.postMessage({type:"logout"}),A(e)};t.getUserInfo=function(){k("Getting User Information");var e=p.default.get(O);return e&&j(e)&&j(_.getToken())?(0,b.default)(_.getTokenParsed()):D().then((function(){return k("Successfully updated token"),(0,b.default)(_.getTokenParsed())})).catch((function(){if((0,d.pageRequiresAuthentication)())return k("Trying to log in user to refresh token"),E()}))};t.isAuthenticated=function(){return k("User Ready: ".concat(_.getAuthenticated())),_.getAuthenticated()};function U(){R(_.getToken()),T.postMessage({type:"refresh"})}function D(){return _.updateToken().then((function(e){R(_.getToken()),k("Attempting to update token"),k(e?"Token was successfully refreshed":"Token is still valid, not updating")})).catch((function(e){k(e),h.captureException(e),k("Token updated failed, trying to reauth"),E()}))}function C(e){var t=new Date(0);return t.setUTCSeconds(e),t.toUTCString()}function R(e){var t;if(k("Setting the cs_jwt cookie"),e&&e.length>10){var n=null===(t=_.getCookie())||void 0===t?void 0:t.cookieName;n&&L("".concat(n,"=").concat(e,";")+"path=/;secure=true;"+"expires=".concat(C(x(e).exp)))}}function L(e){window.document.cookie=e}t.expiredToken=function(){k("Token has expired, trying to log out"),A()},t.updateToken=D,t.getCookieExpires=C,t.setCookie=R,t.setCookieWrapper=L;t.getEncodedToken=function(){return k("Trying to get the encoded token"),j(_.getToken())||(k("Failed to get encoded token, trying to update"),D()),_.getToken()};t.getUrl=function(){return(0,v.default)(y.DEFAULT_ROUTES)}},18579:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){window.console&&window.localStorage&&window.localStorage.getItem("chrome:jwt:debug")&&window.console.log("[JWT][".concat(e,"] ").concat(t))}}},35755:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.levelArray=t.highlightItems=t.updateDocumentTitle=t.isFedRamp=t.isBeta=t.isProd=t.getEnvDetails=t.getEnv=t.getUrl=t.isAnsible=t.lastActive=t.deleteLocalStorageItems=t.createReduxListener=t.pageRequiresAuthentication=t.pageAllowsUnentitled=t.getSection=t.isValidAccountNumber=t.getWindow=void 0;var i=o(n(27361)),a=n(11577),c=o(n(94654));function s(){return window}function u(){var e=s().location.pathname.split("/");return"beta"===e[1]?e[2]||"":e[1]}t.getWindow=s,t.isValidAccountNumber=function(e){return!!e&&(-1!==e&&("-1"!==e&&Number.isInteger(Number(e))))},t.getSection=u,t.pageAllowsUnentitled=function(){var e=s().location.pathname;return"/"===e||"/beta"===e||"/beta/"===e||0===e.indexOf("/openshift")||0===e.indexOf("/beta/openshift")||0===e.indexOf("/security")||0===e.indexOf("/beta/security")||0===e.indexOf("/application-services")||0===e.indexOf("/beta/application-services")||0===e.indexOf("/hac")||0===e.indexOf("/beta/hac")||0===e.indexOf("/ansible/ansible-dashboard/trial")||0===e.indexOf("/beta/ansible/ansible-dashboard/trial")},t.pageRequiresAuthentication=function(){var e=u();return"insights"===e||"cost-management"===e||"apps"===e||"ansible"===e||"migrations"===e||"subscriptions"===e||"openshift"===e||"settings"===e||"user-preferences"===e||"internal"===e||"application-services"===e},t.createReduxListener=function(e,t,n){var r=void 0;return function(){var o=e.getState(),a=(0,i.default)(o,t);a!==r&&(r=a,n(a,e))}},t.deleteLocalStorageItems=function(e){e.map((function(e){return localStorage.removeItem(e)}))},t.lastActive=function(e,t){return Object.keys(localStorage).reduce((function(t,n){var r;if(n.includes(e))try{var o=void 0;try{var i=localStorage.getItem(t);o=i?new Date(null===(r=JSON.parse(i))||void 0===r?void 0:r.expires):new Date}catch(e){o=new Date}var a=JSON.parse(localStorage.getItem(n)||"");return o>=new Date(a.expires)?t:n}catch(e){return t}return t}),t)};function l(){var e;return(null===(e=Object.entries(a.DEFAULT_ROUTES).find((function(e){return e[1].url.includes(location.hostname)})))||void 0===e?void 0:e[0])||"qa"}t.isAnsible=function(e){return e.includes("ansible")&&e.includes("insights")?1:0},t.getUrl=function(e){if("/beta/"===window.location.pathname||"/"===window.location.pathname)return"landing";var n=window.location.pathname.split("/");return"beta"===n[1]?"bundle"===e?n[2]:n[3+(0,t.isAnsible)(n)]:"bundle"===e?n[1]:n[2+(0,t.isAnsible)(n)]},t.getEnv=l,t.getEnvDetails=function(){var e;return null===(e=Object.entries(a.DEFAULT_ROUTES).find((function(e){return e[1].url.includes(location.hostname)})))||void 0===e?void 0:e[1]},t.isProd=function(){return"cloud.redhat.com"===location.host||"console.redhat.com"===location.host||location.host.includes("prod.foo.redhat.com")},t.isBeta=function(){return"beta"===window.location.pathname.split("/")[1]},t.isFedRamp=function(){return"gov"===l()},t.updateDocumentTitle=function(e){void 0!==e&&("string"==typeof e?document.title=e:console.warn("Title is not a string. Got ".concat(typeof e," instead.")))};function f(e,t){return t.map((function(t){var n=t.href,o=t.routes,i=t.navItems;return!n&&i?r(r({},t),{navItems:f(e,i)}):!n&&o?r(r({},t),function(e,t){var n=!1,o=t.map((function(t){var o=t.href===e;return o&&(n=!0),r(r({},t),{active:o})}));return{active:n,routes:o}}(e,o)):n?r(r({},t),{active:t.href===e}):t}))}t.highlightItems=function(e,t,n){var r=e.replace(/\/$/,""),o=r.split("/").length+1,i=n.find((function(e){var t=e.replace(/\/$/,"").split("/").slice(0,o).join("/");return r.includes(t)}));return f((null==i?void 0:i.replace(/\/$/,""))||"",t)};t.levelArray=function(e){return(0,c.default)(e,(function(e){var n=e.href,r=e.routes,o=e.navItems;return!n&&o?(0,t.levelArray)(o):!n&&r?(0,t.levelArray)(r):n?[n]:[]}))}}}]);
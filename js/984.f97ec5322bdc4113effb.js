/*! For license information please see 984.f97ec5322bdc4113effb.js.LICENSE.txt */
(self.webpackChunkinsights_chrome=self.webpackChunkinsights_chrome||[]).push([[984],{5991:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:()=>i})},55785:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=(0,n(40400).IU)({name:"TagIcon",height:512,width:512,svgPath:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z",yOffset:0,xOffset:0})},19694:(e,t,n)=>{"use strict";t.RI={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.LP=n(35183).createIcon(t.RI),t.ZP=t.LP},90256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(92950),i=n.n(r),o=n(45697),a=n.n(o),l=n(94008),s=n(80236),c=n(79851),u=n(34512),d=n(49739),f=n(83826),v=n(48140),p=n(86050),g=n(47173),m=n(19694),y=function(e){var t,n=e.handleModalToggle,r=e.isModalOpen,o=e.currentSytems,a=e.onConfirm,y="system";return Array.isArray(o)?(t=1===o.length?o[0].display_name:"".concat(o.length," systems"),y=1===o.length?y:"systems"):t=o.display_name,i().createElement(s.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",isOpen:r,onClose:function(){return n(!1)}},i().createElement(c.P,{hasGutter:!0},i().createElement(u.J,null,i().createElement(m.ZP,{size:"xl",className:"ins-m-alert"})),i().createElement(u.J,{isFilled:!0},i().createElement(d.K,{hasGutter:!0},i().createElement(f.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",y," to add it back to your inventory."),i().createElement(f.v,null,"To disable the daily upload for this ",y,", use the following command:"),i().createElement(f.v,null,i().createElement(l.M5,null,"insights-client --unregister"))))),i().createElement(v.a,{hasGutter:!0},i().createElement(p.Z,null,i().createElement(g.zx,{variant:"danger",onClick:a},"Remove"),i().createElement(g.zx,{variant:"link",onClick:function(){return n(!1)}},"Cancel"))))},h=a().shape({id:a().string,displayName:a().string});y.propTypes={isModalOpen:a().bool,currentSytems:a().oneOfType([h,a().arrayOf(h)]),handleModalToggle:a().func,onConfirm:a().func},y.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const b=y},72726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(92950),i=n.n(r),o=n(45697),a=n.n(o),l=n(45237),s=n(1577),c=n(60574),u=function(e){var t=e.count,n=e.loadTags,r=e.systemId;return i().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(r,"-tag-button")},i().createElement(s.Z,{count:t,onTagClick:function(){return n(r,t)}}))};u.propTypes={count:a().number,loadTags:a().func,systemId:a().string};const d=(0,l.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,c.Ar)(!0)),e((0,c.me)(t,void 0,void 0,n)))}}}))(u)},66436:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(22122),i=n(96156),o=n(78927),a=n(34738),l=n(92950),s=n.n(l),c=n(45237),u=n(45697),d=n.n(u),f=n(60574),v=n(96344),p=n(97184),g=n(23279),m=n.n(g),y=n(85564),h=n.n(y);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.customFilters,n=e.filterTagsBy,i=e.onToggleModal,u=e.onApply,d=(0,c.useDispatch)(),g=(0,l.useState)(""),y=(0,a.Z)(g,2),b=y[0],E=y[1],O=(0,l.useState)([]),Z=(0,a.Z)(O,2),P=Z[0],C=Z[1],S=(0,l.useState)({perPage:10,page:1}),w=(0,a.Z)(S,2),_=w[0],k=w[1],x=(0,c.useSelector)((function(e){var t,n=e.entities,r=e.entityDetails;return null===(t=n||r)||void 0===t?void 0:t.showTagDialog})),j=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?_:(null==t?void 0:t.allTagsPagination)||_}),c.shallowEqual),A=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),M=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),D=(0,c.useSelector)((function(e){var t,n,r,i=e.entities,a=e.entityDetails,l=(null==i||null===(t=i.activeSystemTag)||void 0===t?void 0:t.tags)||(null==a||null===(n=a.entity)||void 0===n?void 0:n.tags);return l?null==l?void 0:l.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(b)}))})).slice((null==_?void 0:_.perPage)*((null==_?void 0:_.page)-1),(null==_?void 0:_.perPage)*(null==_?void 0:_.page)):null==i||null===(r=i.allTags)||void 0===r?void 0:r.reduce((function(e,t){var n=t.tags;return[].concat((0,o.Z)(e),(0,o.Z)(h()(n.map((function(e){return e.tag})))))}),[])})),L=(0,c.useSelector)((function(e){var t,n=e.entities,r=e.entityDetails;return null===(t=n||r)||void 0===t?void 0:t.activeFilters})),I=(0,c.useSelector)((function(e){var t,n,r,i=e.entities,o=e.entityDetails,a=null===(t=(null==i||null===(n=i.activeSystemTag)||void 0===n?void 0:n.tags)||(null==o||null===(r=o.entity)||void 0===r?void 0:r.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(b)}))}));return a?a.length:null==i?void 0:i.allTagsTotal}));(0,l.useEffect)((function(){E(n)}),[n]);var R=function(e,n){M?k((function(){return e})):d((0,f.C8)(n,T(T({},t),{},{pagination:e,filters:L})))},N=(0,l.useCallback)(m()(R,800),[M]);return s().createElement(v.Z,(0,r.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},A&&{loaded:A,pagination:T(T({},j),{},{count:I}),rows:(null==D?void 0:D.map((function(e){var t=e.key,n=e.value,r=e.namespace;return{id:"".concat(r,"/").concat(t,"=").concat(n),selected:P.find((function(e){return e.id==="".concat(r,"/").concat(t,"=").concat(n)})),cells:[t,n,r]}})))||[]},{loaded:A,width:"auto",isOpen:x,toggleModal:function(){C([]),E(""),i(),d((0,f.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:b,onChange:function(e,t){N(j,t),E(t)}}}],onUpdateData:R,columns:[{title:"Name"},{title:"Value",transforms:[(0,p.cellWidth)(30)]},{title:"Tag source",transforms:[(0,p.cellWidth)(30)]}]},!M&&{onSelect:function(e){return C(e)},selected:P,onApply:function(){return u&&u(P)}},{title:M?"".concat(M.display_name," (").concat(I,")"):"All tags in inventory (".concat(I,")")}))};E.propTypes={onApply:d().func,onToggleModal:d().func,filterTagsBy:d().string,customFilters:d().shape({tags:d().oneOfType([d().object,d().arrayOf(d().string)])})},E.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const O=E},6937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(22122),i=n(81253),o=n(92950),a=n.n(o),l=n(45697),s=n.n(l),c=n(95249),u=n(2372),d=function(e){var t=e.cmp,n=e.hideLoader,o=e.isRbacEnabled,l=e.inventoryRef,s=e.store,d=(0,i.Z)(e,["cmp","hideLoader","isRbacEnabled","inventoryRef","store"]),f=(0,c.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"]).hasAccess;return void 0!==f||n?a().createElement(t,(0,r.Z)({},d,l&&{ref:l},{hasAccess:!o||f,store:s})):a().createElement(u.$,null)};d.propTypes={cmp:s().any,inventoryRef:s().any,store:s().object,customRender:s().bool,isRbacEnabled:s().bool,hideLoader:s().bool};const f=d},57748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TagWithDialog:()=>r.Z,TagsModal:()=>i.Z,RenderWrapper:()=>o.Z,DeleteModal:()=>a.Z,InventoryContext:()=>l.FW,REGISTERED_CHIP:()=>l.p9,STALE_CHIP:()=>l.yc,TAG_CHIP:()=>l.m5,TEXTUAL_CHIP:()=>l.UC,TEXT_FILTER:()=>l.ud,arrayToSelection:()=>l.Nu,defaultFilters:()=>l.js,filterToGroup:()=>l.Tk,loadSystems:()=>l.K$,reduceFilters:()=>l.YQ,registered:()=>l.Gw,reloadWrapper:()=>l.KS,staleness:()=>l.jv});var r=n(72726),i=n(66436),o=n(6937),a=n(90256),l=n(68100)},34663:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,C:()=>s});var r=n(92137),i=n(87757),o=n.n(i);function a(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(){var t,n,r,i,a,l,s,c,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=u.length>0&&void 0!==u[0]?u[0]:"",s=window.insights,e.next=4,null==s||null===(t=s.chrome)||void 0===t||null===(n=t.auth)||void 0===n?void 0:n.getUser();case 4:return c=e.sent,e.t0=(null==c||null===(r=c.identity)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.is_org_admin)||!1,e.next=8,null==s||null===(a=s.chrome)||void 0===a?void 0:a.getUserPermissions(l);case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=null;case 11:return e.t2=e.t1,e.abrupt("return",{isOrgAdmin:e.t0,permissions:e.t2});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t){return!!e&&e.some((function(e){return t.includes((null==e?void 0:e.permission)||e)}))}},95249:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var r=n(92137),i=n(34738),o=n(87757),a=n.n(o),l=n(92950),s=n(34663);function c(e,t){var n=(0,l.useState)({isLoading:!0}),o=(0,i.Z)(n,2),c=o[0],u=o[1];return(0,l.useEffect)((function(){u({isLoading:!0}),(0,r.Z)(a().mark((function n(){var r,i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s._)(e);case 2:r=n.sent,i=r.isOrgAdmin,o=r.permissions,u({isLoading:!1,isOrgAdmin:i,permissions:o,hasAccess:(0,s.C)(o,t)});case 6:case"end":return n.stop()}}),n)})))()}),[e]),c}},1577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(22122),i=n(81253),o=n(92950),a=n.n(o),l=n(45697),s=n.n(l),c=(n(45605),n(94184)),u=n.n(c),d=n(47173),f=n(55785),v=function(e){var t=e.count,n=e.onTagClick,o=e.className,l=(0,i.Z)(e,["count","onTagClick","className"]);return a().createElement(d.zx,(0,r.Z)({},l,{variant:"plain",isDisabled:!t,className:u()("ins-c-tag-count",o),onClick:n}),a().createElement(f.ZP,{size:"md"}),a().createElement("span",{className:"ins-c-tag__text"},t))};v.propTypes={count:s().number,onTagClick:s().func,className:s().string},v.defaultProps={onTagClick:function(){}};const p=v},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},87087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(23645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"button.ins-c-tag-count{color:var(--pf-global--icon--Color--light);display:flex;align-content:center}.ins-c-tag__text{margin-left:10px}\n",""]);const o=i},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}},45605:(e,t,n)=>{"use strict";var r=n(93379),i=n.n(r),o=n(87087),a={insert:"head",singleton:!1};i()(o.Z,a),o.Z.locals}}]);
{"version":3,"file":"src_utils_common_ts.ba4a43866ecd54e2.js","mappings":"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","sources":["webpack://insights-chrome/./src/hooks/useBundle.ts","webpack://insights-chrome/./src/utils/common.ts"],"sourcesContent":["export const isAnsible = (sections: string[]) => (sections.includes('ansible') && sections.includes('insights') ? 1 : 0);\n\nexport function getUrl(type?: string) {\n  if (['/'].includes(window.location.pathname)) {\n    return 'landing';\n  }\n\n  const sections = window.location.pathname.split('/');\n\n  return type === 'bundle' ? sections[1] : sections[2 + isAnsible(sections)];\n}\n\nexport const bundleMapping: {\n  [bundleId: string]: string;\n} = {\n  'application-services': 'Application Services',\n  openshift: 'OpenShift',\n  ansible: 'Ansible Automation Platform',\n  insights: 'RHEL',\n  edge: 'Edge management',\n  settings: 'Settings',\n  landing: 'Home',\n  allservices: 'Home',\n  iam: 'Identity & Access Management',\n  internal: 'Internal',\n  quay: 'Quay.io',\n  subscriptions: 'Subscription Services',\n  docs: 'Documentation',\n  'user-preferences': 'User Preferences',\n};\n\nconst useBundle = () => {\n  const bundleId = getUrl('bundle');\n  return { bundleId, bundleTitle: bundleMapping[bundleId] || bundleId };\n};\n\nexport default useBundle;\n","import get from 'lodash/get';\nimport { Store } from 'redux';\nimport flatMap from 'lodash/flatMap';\nimport { ChromeModule, NavItem, RouteDefinition } from '../@types/types';\nimport axios from 'axios';\nimport { Required } from 'utility-types';\nimport useBundle, { getUrl } from '../hooks/useBundle';\n\nexport const DEFAULT_SSO_ROUTES = {\n  prod: {\n    url: ['access.redhat.com', 'prod.foo.redhat.com', 'cloud.redhat.com', 'console.redhat.com', 'us.console.redhat.com'],\n    sso: 'https://sso.redhat.com/auth',\n    portal: 'https://access.redhat.com',\n  },\n  qa: {\n    url: ['qa.foo.redhat.com', 'qa.cloud.redhat.com', 'qa.console.redhat.com'],\n    sso: 'https://sso.qa.redhat.com/auth',\n    portal: 'https://access.qa.redhat.com',\n  },\n  ci: {\n    url: ['ci.foo.redhat.com', 'ci.cloud.redhat.com', 'ci.console.redhat.com'],\n    sso: 'https://sso.qa.redhat.com/auth',\n    portal: 'https://access.qa.redhat.com',\n  },\n  qaprodauth: {\n    url: ['qaprodauth.foo.redhat.com', 'qaprodauth.cloud.redhat.com', 'qaprodauth.console.redhat.com'],\n    sso: 'https://sso.redhat.com/auth',\n    portal: 'https://access.redhat.com',\n  },\n  stage: {\n    url: ['stage.foo.redhat.com', 'cloud.stage.redhat.com', 'console.stage.redhat.com', 'fetest.stage.redhat.com', 'us.console.stage.redhat.com'],\n    sso: 'https://sso.stage.redhat.com/auth',\n    portal: 'https://access.stage.redhat.com',\n  },\n  frhStage: {\n    url: ['console.stage.openshiftusgov.com'],\n    sso: 'https://sso.stage.openshiftusgov.com',\n    portal: 'https://console.stage.openshiftusgov.com',\n  },\n  frh: {\n    url: ['console.openshiftusgov.com'],\n    sso: 'https://sso.openshiftusgov.com',\n    portal: 'https://console.openshiftusgov.com',\n  },\n  ephem: {\n    url: ['ephem.outsrights.cc'],\n    sso: 'https://keycloak-fips-test.apps.fips-key.2vn8.p1.openshiftapps.com',\n    portal: 'https://ephem.outsrights.cc/',\n  },\n  int: {\n    url: ['console.int.openshiftusgov.com'],\n    sso: 'https://sso.int.openshiftusgov.com/',\n    portal: 'https://console.int.openshiftusgov.com/',\n  },\n  scr: {\n    url: ['console01.stage.openshiftusgov.com'],\n    sso: 'https://sso01.stage.openshiftusgov.com/',\n    portal: 'https://console01.stage.openshiftusgov.com',\n  },\n  dev: {\n    url: ['dev.foo.redhat.com', 'console.dev.redhat.com', 'us.console.dev.redhat.com'],\n    sso: 'https://sso.redhat.com/auth',\n    portal: 'https://access.redhat.com',\n  },\n};\n\nexport const LOGIN_SCOPES_STORAGE_KEY = '@chrome/login-scopes';\nexport const chunkLoadErrorRefreshKey = 'ChunkLoadErrorRefreshed';\nexport const BLOCK_CLEAR_GATEWAY_ERROR = 'BLOCK_CLEAR_GATEWAY_ERROR';\n\nexport function getWindow() {\n  return window;\n}\n\nexport function isValidAccountNumber(num?: number | string) {\n  if (!num) return false;\n  if (num === -1) return false;\n  if (num === '-1') return false;\n  return Number.isInteger(Number(num));\n}\n\nexport function getSection() {\n  const sections = getWindow().location.pathname.split('/');\n  if (sections[1] === 'beta') {\n    return sections[2] || '';\n  }\n\n  return sections[1];\n}\n\nexport function pageAllowsUnentitled() {\n  const pathname = getWindow().location.pathname;\n  if (\n    pathname === '/' ||\n    pathname.indexOf('/openshift') === 0 ||\n    pathname.indexOf('/beta/openshift') === 0 ||\n    pathname.indexOf('/security') === 0 ||\n    pathname.indexOf('/beta/security') === 0 ||\n    pathname.indexOf('/application-services') === 0 ||\n    pathname.indexOf('/beta/application-services') === 0 ||\n    pathname.indexOf('/hac') === 0 ||\n    pathname.indexOf('/beta/hac') === 0 ||\n    pathname.indexOf('/ansible/ansible-dashboard/trial') === 0 ||\n    pathname.indexOf('/beta/ansible/ansible-dashboard/trial') === 0 ||\n    // allow tenants with no account numbers: RHCLOUD-21396\n    pathname.match(/\\/connect\\//)\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function pageRequiresAuthentication() {\n  const section = getSection();\n  if (\n    section === 'insights' ||\n    section === 'cost-management' ||\n    section === 'apps' ||\n    section === 'ansible' ||\n    section === 'migrations' ||\n    section === 'subscriptions' ||\n    section === 'openshift' ||\n    section === 'settings' ||\n    section === 'user-preferences' ||\n    section === 'internal' ||\n    section === 'application-services'\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Creates a redux listener that watches the state on given path (e.g. chrome.appNav) and calls\n * the given function when the state on the given path changes.\n *\n * The function is called with two parameters: current state value on the path, store reference\n */\nexport function createReduxListener(store: Store, path: string, fn: (current: any, store: Store) => void) {\n  let previous: any = undefined;\n\n  return () => {\n    const state = store.getState();\n    const current = get(state, path);\n\n    if (current !== previous) {\n      previous = current;\n      fn(current, store);\n    }\n  };\n}\n\nexport function deleteLocalStorageItems(keys: string[]) {\n  keys.map((key) => localStorage.removeItem(key));\n}\n\nexport function lastActive(searchString: string, fallback: string) {\n  return Object.keys(localStorage).reduce<string | { expires: string }>((acc, curr) => {\n    if (curr.includes(searchString)) {\n      try {\n        let accDate;\n        try {\n          const localStorageDate = localStorage.getItem(acc as string);\n          accDate = localStorageDate ? new Date(JSON.parse(localStorageDate)?.expires) : new Date();\n        } catch {\n          accDate = new Date();\n        }\n\n        const currObj = JSON.parse(localStorage.getItem(curr) || '');\n        return accDate >= new Date(currObj.expires) ? acc : curr;\n      } catch (e) {\n        return acc;\n      }\n    }\n\n    return acc;\n  }, fallback);\n}\n\nexport function getEnv() {\n  return Object.entries(DEFAULT_SSO_ROUTES).find(([, { url }]) => url.includes(location.hostname))?.[0] || 'qa';\n}\n\nexport function getEnvDetails() {\n  return Object.entries(DEFAULT_SSO_ROUTES).find(([, { url }]) => url.includes(location.hostname))?.[1];\n}\n\nexport function isProd() {\n  return location.host === 'cloud.redhat.com' || location.host === 'console.redhat.com' || location.host.includes('prod.foo.redhat.com');\n}\n\nexport function ITLess() {\n  return getEnv() === 'frhStage' || getEnv() === 'frh' || getEnv() === 'ephem' || getEnv() === 'int' || getEnv() === 'scr';\n}\n\nexport function ITLessCognito() {\n  return getEnv() === 'ephem';\n}\n\nexport function updateDocumentTitle(title?: string, noSuffix = false) {\n  const titleSuffix = `| ${useBundle().bundleTitle}`;\n  if (typeof title === 'undefined') {\n    return;\n  }\n  if (typeof title === 'string') {\n    document.title = title.includes(titleSuffix) || noSuffix ? title : `${title} ${titleSuffix}`;\n  } else {\n    console.warn(`Title is not a string. Got ${typeof title} instead.`);\n  }\n}\n\nconst activateChild = (\n  hrefMatch: string,\n  childRoutes: NavItem[]\n): {\n  active: boolean;\n  routes: NavItem[];\n} => {\n  let hasActiveChild = false;\n  const routes = childRoutes.map((item) => {\n    // If expandable traverse children again\n    if (item.expandable) {\n      const nestedResult = activateChild(hrefMatch, item.routes || []);\n      // mark active if nested child is active\n      if (nestedResult.active) {\n        hasActiveChild = true;\n      }\n      return {\n        ...item,\n        active: nestedResult.active,\n        routes: nestedResult.routes,\n      };\n    }\n    const active = item.href === hrefMatch;\n    if (active) {\n      hasActiveChild = true;\n    }\n    return {\n      ...item,\n      active,\n    };\n  });\n  return {\n    active: hasActiveChild,\n    routes,\n  };\n};\n\nfunction mutateSchema(hrefMatch: string, navItems: NavItem[]): NavItem[] {\n  return navItems.map((item) => {\n    const { href, routes, navItems } = item;\n    if (!href && navItems) {\n      return {\n        ...item,\n        navItems: mutateSchema(hrefMatch, navItems),\n      };\n    }\n\n    if (!href && routes) {\n      return {\n        ...item,\n        ...activateChild(hrefMatch, routes),\n      };\n    }\n\n    if (href) {\n      return {\n        ...item,\n        active: item.href === hrefMatch,\n      };\n    }\n\n    return item;\n  });\n}\n\nexport const highlightItems = (pathname: string, navItems: NavItem[], sortedLinks: string[]) => {\n  const cleanPathname = pathname.replace(/\\/$/, '');\n  const segmentsCount = cleanPathname.split('/').length + 1;\n  const matchedLink = sortedLinks.find((href) => {\n    const segmentedHref = href.replace(/\\/$/, '').split('/').slice(0, segmentsCount).join('/');\n    return cleanPathname.includes(segmentedHref);\n  });\n  return mutateSchema(matchedLink?.replace(/\\/$/, '') || '', navItems);\n};\n\nexport const levelArray = (navItems: NavItem[]): string[] => {\n  return flatMap<NavItem, string>(navItems, ({ href, routes, navItems }) => {\n    if (!href && navItems) {\n      return levelArray(navItems);\n    }\n\n    if (!href && routes) {\n      return levelArray(routes);\n    }\n\n    if (href) {\n      return [href];\n    }\n\n    return [];\n  });\n};\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n\nexport const trustarcScriptSetup = () => {\n  const trustarcScript = document.createElement('script');\n  trustarcScript.id = 'trustarc';\n\n  if (location.host === 'console.redhat.com') {\n    trustarcScript.src = '//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js';\n  } else {\n    trustarcScript.src = '//static.dev.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js';\n    trustarcScript.setAttribute('data-domain', 'redhat_test.com');\n  }\n\n  document.body.appendChild(trustarcScript);\n};\n\nconst CHROME_SERVICE_BASE = '/api/chrome-service/v1';\nexport const chromeServiceStaticPathname: { [key in CPN]: { stage: string; prod: string; itless: string } } = {\n  stable: {\n    stage: '/static/stable/stage',\n    prod: '/static/stable/prod',\n    itless: '/static/stable/itless',\n  },\n};\n\ntype CPN = 'stable';\n\nexport function getChromeStaticPathname(type: 'modules' | 'navigation' | 'services' | 'search') {\n  const stableEnv: CPN = 'stable';\n  const prodEnv = isProd() ? 'prod' : ITLess() ? 'itless' : 'stage';\n  return `${CHROME_SERVICE_BASE}${chromeServiceStaticPathname[stableEnv][prodEnv]}/${type}`;\n}\n\nfunction getChromeDynamicPaths() {\n  return '/apps/chrome/operator-generated/fed-modules.json';\n}\n\nconst fedModulesheaders = {\n  'Cache-Control': 'no-cache',\n  Pragma: 'no-cache',\n  Expires: '0',\n};\n\n// FIXME: Remove once qaprodauth is dealt with\n// can't use /beta because it will ge redirected by Akamai to /preview and we don't have any assets there\\\\\n// Always use stable\nconst loadCSCFedModules = () =>\n  axios.get(`${window.location.origin}/config/chrome/fed-modules.json?ts=${Date.now()}`, {\n    headers: fedModulesheaders,\n  });\n\nexport const loadFedModules = async () =>\n  Promise.all([\n    axios\n      .get(`${getChromeStaticPathname('modules')}/fed-modules.json`, {\n        headers: fedModulesheaders,\n      })\n      .catch(loadCSCFedModules),\n    axios.get(getChromeDynamicPaths()).catch(() => ({ data: {} })),\n  ]).then(([staticConfig, feoConfig]) => {\n    if (feoConfig?.data?.chrome) {\n      staticConfig.data.chrome = feoConfig?.data?.chrome;\n    }\n    return staticConfig;\n  });\n\nexport const generateRoutesList = (modules: { [key: string]: ChromeModule }) =>\n  Object.entries(modules)\n    .reduce<RouteDefinition[]>(\n      (acc, [scope, { dynamic, manifestLocation, modules = [] }]) => [\n        ...acc,\n        ...modules\n          .map(({ module, routes }) =>\n            /**Clean up this map function */\n            routes.map((route) => ({\n              scope,\n              module,\n              path: typeof route === 'string' ? route : route.pathname,\n              manifestLocation,\n              dynamic: typeof dynamic === 'boolean' ? dynamic : typeof route === 'string' ? true : route.dynamic,\n              exact: typeof route === 'string' ? false : route.exact,\n              props: typeof route === 'object' ? route.props : undefined,\n              permissions: typeof route === 'object' ? route.permissions : undefined,\n            }))\n          )\n          .flat(),\n      ],\n      []\n    )\n    .sort((a, b) => (a.path.length < b.path.length ? 1 : -1));\n\nexport const isGlobalFilterAllowed = () => {\n  if (getUrl('bundle') === 'insights') {\n    return true;\n  }\n\n  return getUrl('bundle') === 'ansible' && ['inventory', 'drift', 'advisor'].includes(getUrl('app'));\n};\n\nexport function isExpandableNav(item: NavItem): item is Required<NavItem, 'routes'> {\n  return !!item.expandable;\n}\n\nfunction isActiveLeaf(item: NavItem | undefined): boolean {\n  return typeof item?.href === 'string' && item?.active === true;\n}\n\nexport function findNavLeafPath(\n  navItems: (NavItem | undefined)[],\n  matcher = isActiveLeaf\n): { activeItem: Required<NavItem, 'href'> | undefined; navItems: NavItem[] } {\n  let leaf: Required<NavItem, 'href'> | undefined;\n  // store the parent nodes\n  const leafPath: NavItem[] = [];\n  let index = 0;\n  while (leaf === undefined && index < navItems.length) {\n    const item = navItems[index];\n    index += 1;\n    if (item && isExpandableNav(item)) {\n      const { activeItem, navItems } = findNavLeafPath(item.routes, matcher) || {};\n      if (activeItem) {\n        leaf = activeItem;\n        // append parent nodes of an active item\n        leafPath.push(item, ...navItems);\n      }\n    } else if (matcher(item) && item?.href) {\n      leaf = item as Required<NavItem, 'href'>;\n    }\n  }\n\n  return { activeItem: leaf, navItems: leafPath };\n}\n\n// converts text to an identifier in title case\nexport const titleToId = (title: string) => title?.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word) => word.toUpperCase()).replace(/\\s+/g, '');\n\nexport function getSevenDaysAgo(): string {\n  const today = new Date();\n  const sevenDaysAgo = new Date(today.setDate(today.getDate() - 7));\n  return sevenDaysAgo.toISOString().split('.')[0];\n}\n"],"names":["isAnsible","sections","includes","getUrl","type","window","location","pathname","split","bundleMapping","openshift","ansible","insights","edge","settings","landing","allservices","iam","internal","quay","subscriptions","docs","useBundle","bundleId","bundleTitle","get","flatMap","axios","DEFAULT_SSO_ROUTES","prod","url","sso","portal","qa","ci","qaprodauth","stage","frhStage","frh","ephem","int","scr","dev","LOGIN_SCOPES_STORAGE_KEY","chunkLoadErrorRefreshKey","BLOCK_CLEAR_GATEWAY_ERROR","getWindow","isValidAccountNumber","num","Number","isInteger","getSection","pageAllowsUnentitled","indexOf","match","pageRequiresAuthentication","section","createReduxListener","store","path","fn","previous","undefined","state","getState","current","deleteLocalStorageItems","keys","map","key","localStorage","removeItem","lastActive","searchString","fallback","Object","reduce","acc","curr","accDate","JSON","localStorageDate","getItem","Date","parse","expires","currObj","e","getEnv","entries","find","hostname","getEnvDetails","isProd","host","ITLess","ITLessCognito","updateDocumentTitle","title","noSuffix","titleSuffix","document","console","warn","activateChild","hrefMatch","childRoutes","hasActiveChild","routes","item","expandable","nestedResult","active","href","mutateSchema","navItems","highlightItems","sortedLinks","cleanPathname","replace","segmentsCount","length","matchedLink","segmentedHref","slice","join","levelArray","noop","trustarcScriptSetup","trustarcScript","createElement","id","src","setAttribute","body","appendChild","CHROME_SERVICE_BASE","chromeServiceStaticPathname","stable","itless","getChromeStaticPathname","stableEnv","prodEnv","getChromeDynamicPaths","fedModulesheaders","Pragma","Expires","loadCSCFedModules","origin","now","headers","loadFedModules","Promise","all","catch","data","then","staticConfig","feoConfig","chrome","generateRoutesList","modules","scope","dynamic","manifestLocation","module","route","exact","props","permissions","flat","sort","a","b","isGlobalFilterAllowed","isExpandableNav","isActiveLeaf","findNavLeafPath","matcher","leaf","leafPath","index","activeItem","push","titleToId","word","toUpperCase","getSevenDaysAgo","today","sevenDaysAgo","setDate","getDate","toISOString"],"sourceRoot":""}
"use strict";
(self["webpackChunkinsights_chrome"] = self["webpackChunkinsights_chrome"] || []).push([["node_modules_redhat-cloud-services_chrome_esm_index_js-_f9400"],{

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChromeContext": () => (/* reexport safe */ _ChromeContext__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "default": () => (/* reexport safe */ _ChromeContext__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ChromeContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeContext */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/ChromeContext.js");


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/ChromeProvider.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/ChromeProvider.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "webpack/sharing/consume/default/react-router-dom/react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @unleash/proxy-client-react */ "webpack/sharing/consume/default/@unleash/proxy-client-react/@unleash/proxy-client-react");
/* harmony import */ var _unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _ChromeContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ChromeContext */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/ChromeContext.js");
/* harmony import */ var _chromeState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chromeState */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/chromeState.js");
/* harmony import */ var _utils_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/fetch */ "./node_modules/@redhat-cloud-services/chrome/esm/utils/fetch.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};







var getLastVisited = function () { return (0,_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.get)(_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.LAST_VISITED_URL); };
var getFavoritePages = function () { return (0,_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.get)("".concat(_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.FAVORITE_PAGE_URL, "?getAll=true")); };
var useLastPageVisitedUploader = function (providerState, chromeBackendEnabled, bundle) {
    if (bundle === void 0) { bundle = ''; }
    var pathname = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.useLocation)().pathname;
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
        if (chromeBackendEnabled) {
            (0,_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.post)(_utils_fetch__WEBPACK_IMPORTED_MODULE_4__.LAST_VISITED_URL, {
                pathname: pathname,
                title: document.title,
                bundle: bundle,
            }).then(function (data) { return providerState.setLastVisited(data); });
        }
    }, [pathname]);
};
var ChromeProvider = function (_a) {
    var children = _a.children, bundle = _a.bundle;
    var chromeBackendEnabled = (0,_unleash_proxy_client_react__WEBPACK_IMPORTED_MODULE_3__.useFlag)('platform.chrome.chrome-service');
    var isMounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), initialRequest = _b[0], setInitialRequest = _b[1];
    var providerState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
    if (!providerState.current) {
        providerState.current = (0,_chromeState__WEBPACK_IMPORTED_MODULE_5__["default"])();
    }
    useLastPageVisitedUploader(providerState.current, chromeBackendEnabled, bundle);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
        isMounted.current = true;
        if (chromeBackendEnabled && !initialRequest) {
            Promise.all([getLastVisited(), getFavoritePages()]).then(function (_a) {
                var _b, _c;
                var lastVisited = _a[0], favoritePages = _a[1];
                if (isMounted.current) {
                    (_b = providerState.current) === null || _b === void 0 ? void 0 : _b.setLastVisited(lastVisited);
                    (_c = providerState.current) === null || _c === void 0 ? void 0 : _c.setFavoritePages(favoritePages);
                    setInitialRequest(true);
                }
            });
        }
        return function () {
            isMounted.current = false;
        };
    }, [chromeBackendEnabled]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ChromeContext__WEBPACK_IMPORTED_MODULE_6__["default"].Provider, __assign({ value: providerState.current }, { children: children }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChromeProvider);
//# sourceMappingURL=ChromeProvider.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChromeProvider": () => (/* reexport safe */ _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "UpdateEvents": () => (/* reexport safe */ _chromeState__WEBPACK_IMPORTED_MODULE_1__.UpdateEvents),
/* harmony export */   "default": () => (/* reexport safe */ _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeProvider */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/ChromeProvider.js");
/* harmony import */ var _chromeState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chromeState */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/chromeState.js");



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChromeContext": () => (/* reexport safe */ _ChromeContext__WEBPACK_IMPORTED_MODULE_1__.ChromeContext),
/* harmony export */   "ChromeProvider": () => (/* reexport safe */ _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__.ChromeProvider),
/* harmony export */   "UpdateEvents": () => (/* reexport safe */ _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__.UpdateEvents),
/* harmony export */   "useFavoritePages": () => (/* reexport safe */ _useFavoritePages__WEBPACK_IMPORTED_MODULE_3__.useFavoritePages),
/* harmony export */   "useLastVisited": () => (/* reexport safe */ _useLastVisited__WEBPACK_IMPORTED_MODULE_2__.useLastVisited)
/* harmony export */ });
/* harmony import */ var _ChromeProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChromeProvider */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/index.js");
/* harmony import */ var _ChromeContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChromeContext */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/index.js");
/* harmony import */ var _useLastVisited__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useLastVisited */ "./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/index.js");
/* harmony import */ var _useFavoritePages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useFavoritePages */ "./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/index.js");




//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _useFavoritePages__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "useFavoritePages": () => (/* reexport safe */ _useFavoritePages__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _useFavoritePages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useFavoritePages */ "./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/useFavoritePages.js");


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _useLastVisited__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "useLastVisited": () => (/* reexport safe */ _useLastVisited__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _useLastVisited__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useLastVisited */ "./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/useLastVisited.js");


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/useLastVisited.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/useLastVisited.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?88de");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ChromeContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ChromeContext */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/ChromeContext.js");
/* harmony import */ var _ChromeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChromeProvider */ "./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/chromeState.js");



var useLastVisited = function () {
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ChromeContext__WEBPACK_IMPORTED_MODULE_1__["default"]), subscribe = _a.subscribe, unsubscribe = _a.unsubscribe, getState = _a.getState;
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(function (count) { return count + 1; }, 0), forceRender = _b[1];
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        var subsId = subscribe(_ChromeProvider__WEBPACK_IMPORTED_MODULE_2__.UpdateEvents.lastVisited, forceRender);
        return function () {
            unsubscribe(subsId, _ChromeProvider__WEBPACK_IMPORTED_MODULE_2__.UpdateEvents.lastVisited);
        };
    }, []);
    return getState().lastVisitedPages;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLastVisited);
//# sourceMappingURL=useLastVisited.js.map

/***/ })

}]);
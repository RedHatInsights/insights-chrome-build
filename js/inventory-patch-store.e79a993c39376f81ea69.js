(self.webpackChunkinsights_chrome=self.webpackChunkinsights_chrome||[]).push([[6281],{317768:(e,t,r)=>{"use strict";var n=r(296721),a=r(633801),o=r(14051),c=r(311442),l=r(494324),i=r(599833),u=r(630998),s=r(517563),f=r(377865),d=r(447194);r(915117),r(937314),r(688873);var p=r(45697);function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var y=S(n),E=S(a),b=S(o),v=S(c),O=S(l),_=S(u),g=S(s),m=S(f),A=S(p),h=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},P=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},T=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},R=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}A.default.element,A.default.any,A.default.string;var L,w,C,D,Y,M=function(e,t){var r=t.reduce((function(e,t){return e[t.rowId]=t.value||void 0,e}),{});return I(I({},e),r)},V=function(e,t){var r=e.filter,n=R(e,["filter"]);n=I(I({},n),function(e){var r={};return e&&Object.entries(e).forEach((function(e){var n=P(e,2),a=n[0],o=n[1];o=t&&function(e,t){var r=U[e];if(r)return r.values.find((function(e){return e.value===t}))||{apiValue:t}}(a,o).apiValue||o;var c=[].concat(o).length>1?"in:":"";r=I(I({},r),{},T({},"filter[".concat(a,"]"),"".concat(c).concat(o.toString())))})),r}(r));var a=[];return Object.keys(n).forEach((function(e){var t=encodeURIComponent(e),r=encodeURIComponent(n[e]);["",void 0,null].some((function(t){return[r,e].includes(t)}))||(["selectedTags","systemProfile"].includes(e)?"selectedTags"===e?a.push.apply(a,n[e]):a.push(n[e]):a.push(t.concat("=").concat(r)))})),"?".concat(a.join("&"))};function G(e){var t=new Date;return t.setDate(t.getDate()-e),t.toISOString()}var F={operating_system:{asc:"os_name,os_major,os_minor",desc:"-os_name,-os_major,-os_minor"},applicable_advisories:{asc:"rhsa_count,rhba_count,rhea_count",desc:"-rhsa_count,-rhba_count,-rhea_count"}};(null===(L=window)||void 0===L||null===(w=L.insights)||void 0===w||null===(C=w.chrome)||void 0===C?void 0:C.isBeta)&&(null===(D=insights)||void 0===D||null===(Y=D.chrome)||void 0===Y||Y.isBeta());var k=[{apiValue:"",label:"All",value:"all"},{apiValue:"gt:".concat(G(7)),label:"Last 7 days",value:"last7"},{apiValue:"gt:".concat(G(30)),label:"Last 30 days",value:"last30"},{apiValue:"gt:".concat(G(90)),label:"Last 90 days",value:"last90"},{apiValue:"gt:".concat(G(365)),label:"Last year",value:"lastYear"},{apiValue:"lt:".concat(G(365)),label:"More than 1 year ago",value:"moreThanYear"}],B=[{value:3,label:"Security",icon:m.default.createElement(O.default,null)},{value:2,label:"Bugfix",icon:m.default.createElement(b.default,null)},{value:1,label:"Enhancement",icon:m.default.createElement(v.default,null)}],x=[{value:"",label:"All"},{value:!0,label:"Upgradable"}],U={advisory_type:{label:"Advisory type",values:B},public_date:{label:"Public date",values:k},updatable:{label:"Status",values:x},systems_updatable:{label:"Status",values:[{value:"",label:"All"},{value:"gt:0",label:"Upgradable"}]}};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.CHANGE_SYSTEM_ADVISORY_LIST_PARAMS="CHANGE_SYSTEM_SYSTEMS_LIST_PARAMS",t.CHANGE_SYSTEM_PACKAGES_LIST_PARAMS="CHANGE_SYSTEM_PACKAGES_LIST_PARAMS",t.CLEAR_SYSTEM_ADVISORIES="CLEAR_SYSTEM_ADVISORIES",t.CLEAR_SYSTEM_PACKAGES="CLEAR_SYSTEM_PACKAGES",t.EXPAND_SYSTEM_ADVISORY_ROW="EXPAND_SYSTEM_ADVISORY_ROW",t.FETCH_APPLICABLE_SYSTEM_ADVISORIES="FETCH_APPLICABLE_SYSTEM_ADVISORIES",t.FETCH_APPLICABLE_SYSTEM_PACKAGES="FETCH_APPLICABLE_SYSTEM_PACKAGES",t.ReadOnlyNotification={title:"title",detail:"message"},t.SELECT_SYSTEM_ADVISORY_ROW="SELECT_SYSTEM_ADVISORY_ROW",t.SELECT_SYSTEM_PACKAGES_ROW="SELECT_SYSTEM_PACKAGES_ROW",t.STATUS_LOADING="loading",t.STATUS_REJECTED="rejected",t.STATUS_RESOLVED="resolved",t.TRIGGER_GLOBAL_FILTER="TRIGGER_GLOBAL_FILTER",t.advisoryTypes=B,t.arrayFromObj=function(e){return Object.values(e).filter((function(e){return e}))},t.buildFilterChips=function(e,t){var r=[];return e&&function(){var t=Object.keys(e).filter((function(t){return""!==e[t]&&0!==[].concat(e[t]).length}));r=r.concat(t.map((function(t){var r=U[t],n=r.label,a=r.values;return{category:n,id:t,chips:[].concat(e[t]).map((function(e){var t=a.find((function(t){return t.value.toString()===e.toString()}));return{name:t.label,value:e,id:t.value}}))}})))}(),t&&(r=r.concat([{category:"Search",id:"search",chips:[{name:t,value:t}]}])),r},t.changeFilters=function(e,t){return e.queryParams=function(e,t){var r=I(I({},e),t);return["filter","search","limit","selectedTags"].some((function(e){return t.hasOwnProperty(e)}))&&(r.offset=0),t.hasOwnProperty("filter")&&(r.filter=I(I({},e.filter),t.filter)),r.hasOwnProperty("tags")&&r&&delete r.tags,r}(e.queryParams,t.payload),e},t.compoundSortValues=F,t.convertLimitOffset=function(e,t){return[t/e+1,e]},t.createSortBy=function(e,t,r){if(t){var n=P(t,1)[0],a=t.join(),o="-"===n[0]?i.SortByDirection.desc:i.SortByDirection.asc;return Object.keys(F).forEach((function(e){Object.keys(F[e]).forEach((function(t){F[e][t]===a&&(n=e,o=t)}))})),n=n.replace(/^(-|\+)/,""),{index:_.default(e,(function(e){return e.key===n}))+r,direction:o}}return{}},t.createUpgradableColumn=function(e){return m.default.createElement("div",{style:{display:"flex",alignItems:"center"}},e&&m.default.createElement(E.default,{style:{color:"var(--pf-global--palette--blue-400)"}})||m.default.createElement(y.default,{style:{color:"var(--pf-global--success-color--100)"}}),m.default.createElement("span",{style:{marginLeft:"var(--pf-global--spacer--sm)"}},e?"Upgradable":"Up-to-date"))},t.decodeQueryparams=function(e){var t=g.default.parse(e),r={};return Object.keys(t).forEach((function(e){if(!e.startsWith("filter[system_profile]")){var n=t[e],a=e.search(/\[.*\]/);if(a>0){var o=e.slice(0,a),c=e.slice(a+1,-1);r[o]=I(I({},r[o]),{},T({},c,function(e){return e.startsWith("in:")?e.slice(3).split(","):e}(n)))}else r[e]=n}})),r},t.defineProperty=T,t.encodeApiParams=function(e){return V(e,!0)},t.encodeURLParams=function(e){delete e.id;var t=I({},e);return delete t.systemProfile,delete t.selectedTags,V(t,!1)},t.entityTypes={advisories:"advisories",packages:"packages"},t.expandRows=function(e,t){var r=M(e.expandedRows,[].concat(t.payload));return N(N({},e),{},{expandedRows:r})},t.fetchFulfilled=function(e,t){return e.rows=t.payload.data,e.metadata=t.payload.meta,e.error={},e.status="resolved",e},t.fetchPending=function(e){return e.error={},e.status="loading",e},t.fetchRejected=function(e,t){return e.status="rejected",e.error=t.payload,e},t.getLimitFromPageSize=function(e){return e},t.getOffsetFromPageLimit=function(e,t){return e*t-t},t.getRowIdByIndexExpandable=function(e,t){return e[t/2].id},t.handlePatchLink=function(e,t,r){return-1===location.href.indexOf("inventory")?m.default.createElement(d.Link,{to:"/".concat(e,"/").concat(t)},void 0===r?t:r):m.default.createElement("a",{href:"".concat(document.baseURI,"insights/patch/").concat(e,"/").concat(t)},r||t)},t.objectWithoutProperties=R,t.publicDateOptions=k,t.remediationProvider=function(e,t){return e=[].concat(e),t=[].concat(t),!(!e.length||!t.length)&&{issues:e.map((function(e){return{id:"patch-advisory:".concat(e),description:e}})),systems:t}},t.selectRows=function(e,t){var r=function(e,t){var r=[].concat(e).map((function(e){return{rowId:e.id,value:e.selected}}));return M(t,r)}(t.payload,e.selectedRows);return N(N({},e),{},{selectedRows:r})},t.slicedToArray=P,t.storeListDefaults={rows:[],metadata:{limit:25,offset:0,total_items:0},expandedRows:{},selectedRows:{},queryParams:{},error:{}},t.truncate=function(e,t,r){return e.length>t?m.default.createElement(m.default.Fragment,null,e.substr(0,t-1),"...Â ",r):e},t.updatableTypes=x},143408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(317768);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(296721),r(633801),r(14051),r(311442),r(494324),r(599833),r(630998),r(517563),r(377865),r(447194),r(915117),r(937314),r(688873),r(45697),t.SystemAdvisoryListStore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.storeListDefaults,t=arguments.length>1?arguments[1]:void 0,r=o({},e);switch(t.type){case n.FETCH_APPLICABLE_SYSTEM_ADVISORIES+"_FULFILLED":return n.fetchFulfilled(r,t);case n.FETCH_APPLICABLE_SYSTEM_ADVISORIES+"_PENDING":return n.fetchPending(r);case n.FETCH_APPLICABLE_SYSTEM_ADVISORIES+"_REJECTED":return n.fetchRejected(r,t);case n.CHANGE_SYSTEM_ADVISORY_LIST_PARAMS:return n.changeFilters(r,t);case n.EXPAND_SYSTEM_ADVISORY_ROW:return n.expandRows(r,t);case n.SELECT_SYSTEM_ADVISORY_ROW:return n.selectRows(r,t);case n.CLEAR_SYSTEM_ADVISORIES:return n.storeListDefaults;case n.TRIGGER_GLOBAL_FILTER:return n.changeFilters(r,t);default:return e}}}}]);
//# sourceMappingURL=sourcemaps/inventory-patch-store.js.map